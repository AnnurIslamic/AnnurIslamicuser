<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Annur Islamic</title>
  <link rel="icon" href="logo-annur.jpg" type="image/jpg">
  <link rel="manifest" href="manifest.json">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
/* [DIUBAH] Ikon Ka'bah sekarang menjadi penunjuk arah Kiblat yang statis */
#qibla-pointer {
    position: absolute;
    top: -35px; /* Posisikan sedikit di atas lingkaran kompas */
    left: 50%;
    transform: translateX(-50%); /* Hanya tengahkan, tidak perlu rotasi */
    z-index: 4; /* Paling atas */
    transition: transform 0.3s ease-out;
}
.kaaba-icon {
    font-size: 2.5rem;
    color: #FFD700; /* Warna Emas */
    text-shadow: 0 0 10px rgba(0,0,0,0.5);
    line-height: 1;
}
#qibla-pointer.aligned .kaaba-icon {
    transform: scale(1.2); /* Sedikit membesar saat pas */
    color: #2ecc71; /* Warna hijau saat pas */
}

/* [BARU] Jarum Penunjuk Utara (North Needle) */
#north-needle {
    position: absolute;
    top: 0;
    left: 50%;
    width: 4px; /* Lebar jarum */
    height: 50%; /* Setengah tinggi kompas */
    background: linear-gradient(to top, #e74c3c 70%, transparent 100%); /* Gradasi merah ke transparan */
    transform-origin: bottom center;
    transform: translateX(-50%) rotate(0deg); /* Akan dirotasi oleh JS */
    transition: transform 0.2s linear;
    z-index: 2;
    border-top-left-radius: 2px;
    border-top-right-radius: 2px;
}

/* Dasar Kompas (Compass Rose) */
#compass-rose {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    transform: rotate(0deg);
    transition: transform 0.2s linear;
    z-index: 1;
}
.degree-mark {
    position: absolute;
    font-size: 1.2rem;
    font-weight: bold;
    color: #0d264a;
}
.degree-mark.north { top: 10px; left: 50%; transform: translateX(-50%); }
.degree-mark.east { top: 50%; right: 10px; transform: translateY(-50%); }
.degree-mark.south { bottom: 10px; left: 50%; transform: translateX(-50%); }
.degree-mark.west { top: 50%; left: 10px; transform: translateY(-50%); }


#qibla-info-box {
    text-align: center;
    max-width: 320px;
    background: rgba(0,0,0,0.2);
    padding: 1rem;
    border-radius: var(--radius);
}
#qibla-info-box .direction-degree {
    font-size: 1.2rem;
    font-weight: 600; /* Lebih tebal */
    margin-bottom: 1rem;
    min-height: 2.5em; /* Beri ruang agar tidak loncat-loncat */
    display: flex;
    align-items: center;
    justify-content: center;
}
#qibla-info-box .calibration-info {
    font-size: 0.8rem;
    color: #ccc;
    line-height: 1.4;
    margin-bottom: 1rem;
}
#qibla-recalibrate-btn, #qibla-map-btn {
    background: none;
    border: 1px solid #f9d788;
    color: #f9d788;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    cursor: pointer;
    font-family: 'Poppins', sans-serif;
    margin: 0 0.25rem;
}

#qibla-map-container {
    margin-top: 1rem;
    text-align: center;
}
  
  /* [TAMBAHKAN INI] CSS untuk Notifikasi Toast Kustom */
.custom-toast {
    position: fixed;
    bottom: -100px; /* Mulai dari luar layar */
    left: 50%;
    transform: translateX(-50%);
    background-color: var(--header-bg); /* Warna gelap */
    color: var(--header-text); /* Teks putih */
    padding: 1rem 1.5rem;
    border-radius: var(--radius);
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    font-weight: 600;
    z-index: 9999;
    transition: bottom 0.5s ease-in-out; /* Animasi muncul */
    opacity: 0;
    transition: bottom 0.5s ease-in-out, opacity 0.5s ease-in-out;
}
.custom-toast.show {
    bottom: 80px; /* Posisi akhir saat tampil */
    opacity: 1;
}
/* [AKHIR TAMBAHAN] */
/* --- [BARU] CSS Untuk Tab yang Bisa Digeser (Scrollable) --- */
.scrollable-tabs {
    overflow-x: auto; /* Memungkinkan scroll horizontal saat konten meluap */
    -webkit-overflow-scrolling: touch; /* Membuat scroll lebih mulus di perangkat mobile */

    /* Menyembunyikan scrollbar visual agar lebih rapi */
    -ms-overflow-style: none;  /* Untuk IE dan Edge */
    scrollbar-width: none;  /* Untuk Firefox */
}

/* Menyembunyikan scrollbar untuk browser berbasis Webkit (Chrome, Safari) */
.scrollable-tabs::-webkit-scrollbar {
    display: none;
}

/* [PENTING] Override aturan .tab-item khusus untuk kontainer yang bisa discroll */
.scrollable-tabs .tab-item {
    flex: 0 0 auto; /* Mencegah tab meregang (stretch), ukurannya akan sesuai kontennya */
}

.tab-item {
    /* ...properti lain yang sudah ada seperti flex, text-align, dll... */
    
    /* TAMBAHKAN BARIS INI */
    white-space: nowrap; 
}

  /* --- [BARU] CSS UNTUK FITUR TAJWID (Legenda & Warna) --- */
.tajwid-legend {
    background-color: var(--card-bg);
    border-radius: var(--radius);
    padding: 1rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 2px 5px var(--card-shadow);
    border-left: 4px solid var(--header-bg);
}
body.dark-mode .tajwid-legend {
    border-left-color: var(--accent-color);
}
.tajwid-legend summary {
    font-weight: 600;
    cursor: pointer;
    color: var(--header-bg);
}
body.dark-mode .tajwid-legend summary {
    color: var(--accent-color);
}
.tajwid-legend-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 0.75rem;
    margin-top: 1rem;
}
.legend-item {
    display: flex;
    align-items: center;
    font-size: 0.85rem;
}
.legend-color-box {
    width: 18px;
    height: 18px;
    border-radius: 4px;
    margin-right: 8px;
    border: 1px solid rgba(0,0,0,0.1);
}
.ayah-arabic .tajwid-highlight {
    font-weight: bold;
    cursor: help;
}

/* Warna untuk setiap hukum tajwid */
.tajwid-ghunnah { color: #e74c3c; } /* Merah */
.tajwid-ikhfa { color: #3498db; } /* Biru */
.tajwid-idgham { color: #2ecc71; } /* Hijau */
.tajwid-iqlab { color: #f39c12; } /* Oranye */
.tajwid-qalqalah { color: #9b59b6; } /* Ungu */
  
    /* [TAMBAHKAN KODE INI] Aturan Global untuk Mencegah Scroll Horizontal */
    html, body {
        width: 100%;
        overflow-x: hidden;
    }
    
    /* [BARU] CSS Tambahan untuk Score Board Duet */
    #duet-score-board h4 {
        font-size: 1rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
    }
    body.dark-mode #duet-score-board h4 {
        color: var(--accent-color);
    }
    #duet-turn-indicator {
        font-weight: 600;
        color: var(--header-bg);
    }
    body.dark-mode #duet-turn-indicator {
        color: var(--accent-color);
    }
      
        :root {
          --primary-bg: #f0f4f8;
          --header-bg: #0d264a;
          --header-text: #ffffff;
          --accent-color: #f9d788;
          --text-color: #333333;
          --text-light: #888;
          --card-bg: #ffffff;
          --card-shadow: rgba(0, 0, 0, 0.08);
          --radius: 12px;
          --transition: 0.3s ease;
          --active-tab: #0d264a;
          --bookmark-active: #ffc107;
          --tap-area-bg: #e9eef2;
          --button-bg: #0d264a;
          --button-text: #ffffff;
        }
    
        .ayah-item.ayah-playing {
            background-color: var(--tap-area-bg);
            border-radius: var(--radius);
        }
        body.dark-mode .ayah-item.ayah-playing {
            background-color: #2c2c3a;
        }
    
        .app-footer {
          text-align: center;
          margin-top: 2rem;
          font-size: 0.9rem;
          color: var(--text-light);
          font-weight: 500;
        }
    
        body.dark-mode {
          --primary-bg: #121212;
          --header-bg: #1a1a2e;
          --header-text: #e0e0e0;
          --text-color: #e0e0e0;
          --text-light: #aaa;
          --card-bg: #1e1e1e;
          --card-shadow: rgba(255, 255, 255, 0.05);
          --active-tab: #f9d788;
          --tap-area-bg: #2c2c3a;
          --button-bg: #f9d788;
          --button-text: #1a1a2e;
        }
    
        * { margin: 0; padding: 0; box-sizing: border-box; }
    
        body {
          font-family: 'Poppins', sans-serif;
          color: var(--text-color);
          background-color: var(--primary-bg);
          -webkit-user-select: none; user-select: none;
          transition: background-color var(--transition), color var(--transition);
        }
        .app-container { width: 100%; max-width: 420px; margin: 0 auto; overflow-x: hidden; }
        .loading-indicator { text-align: center; padding: 2rem; color: var(--text-light); }
    
        /* --- COMMON VIEW STYLES --- */
        .view-header { display: flex; align-items: center; margin-bottom: 1.5rem; position: relative; justify-content: space-between; padding: 0 1rem; }
        .back-button { position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); font-size: 1.5rem; cursor: pointer; color: var(--text-color); padding: 0.5rem; z-index: 5; }
        .view-header h2 { font-size: 1.2rem; font-weight: 600; text-align: center; flex-grow: 1; padding-left: 2rem; }
        .view-header .action-icon { font-size: 1.5rem; cursor: pointer; color: var(--text-light); padding: 0.5rem; }
        .view-header .action-icon.bookmarked { color: var(--bookmark-active); }
        
    
        /* --- LAYAR UTAMA (JADWAL SHOLAT) --- */
        #prayer-times-view { padding-bottom: 2rem; }
        #prayer-times-view .main-header {
          background: var(--header-bg); color: var(--header-text); padding: 1.5rem 1.5rem 2.5rem 1.5rem;
          border-bottom-left-radius: 40px; border-bottom-right-radius: 40px; text-align: center;
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); position: relative; transition: background-color var(--transition);
        }
        #prayer-times-view .main-header h1 { font-size: 1.5rem; font-weight: 700; color: var(--accent-color); margin-bottom: 0.25rem; }
        #prayer-times-view .main-header p { font-size: 0.9rem; color: var(--header-text); opacity: 0.9; margin-bottom: 0.5rem; }
        #prayer-times-view #countdown-timer { font-size: 2.25rem; font-weight: 700; color: var(--header-text); letter-spacing: 2px; }
        
        #prayer-times-view .main-header #location-display {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            padding-top: 1.5rem;
            text-align: left;
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--header-text);
            opacity: 0.9;
        }
        
        #prayer-times-view .calendar-section {
            background-color: var(--card-bg);
            border-radius: var(--radius);
            margin: -2.5rem 1rem 1.5rem 1rem;
            padding: 1rem;
            box-shadow: 0 4px 10px var(--card-shadow);
            position: relative;
            z-index: 10;
            transition: background-color var(--transition);
        }
    
        #prayer-times-view #location-display .icon { margin-right: 0.4rem; }
        #prayer-times-view .date-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; font-size: 0.7rem; font-weight: 600; }
        #prayer-times-view .date-header .hijri-date { color: var(--header-bg); }
        #prayer-times-view .date-header .gregorian-date { color: var(--text-light); font-weight: 400; }
        #prayer-times-view .calendar-view { display: flex; justify-content: space-around; text-align: center; }
        #prayer-times-view .day { display: flex; flex-direction: column; align-items: center; }
        #prayer-times-view .day .day-name { font-size: 0.75rem; color: #999; margin-bottom: 0.5rem; }
        #prayer-times-view .day .day-number { font-size: 1rem; font-weight: 600; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 50%; }
        #prayer-times-view .day.today .day-number { background-color: var(--header-bg); color: var(--header-text); }
        #prayer-times-view .prayer-list-section { padding: 0 1rem; }
        #prayer-times-view .prayer-item { display: flex; align-items: center; justify-content: space-between; background-color: var(--card-bg); padding: 1rem; border-radius: var(--radius); margin-bottom: 0.75rem; box-shadow: 0 2px 5px var(--card-shadow); transition: transform var(--transition), background-color var(--transition); }
        #prayer-times-view .prayer-details { flex-grow: 1; min-width: 0; }
        #prayer-times-view .prayer-details .prayer-name { font-weight: 600; font-size: 1rem; }
        #prayer-times-view .prayer-time-value { font-size: 1.1rem; font-weight: 600; }
        
    
    
        /* --- GENERIC LIST VIEW STYLES (DOA, QURAN, DZIKIR) --- */
        .generic-list-view { padding-top: 1.5rem; padding-bottom: 2rem; }
        .last-read-card { background-color: var(--card-bg); border-radius: var(--radius); padding: 1rem; margin: 0 1rem 1.5rem 1rem; box-shadow: 0 2px 5px var(--card-shadow); cursor: pointer;}
        .last-read-card h3 { font-size: 0.8rem; text-transform: uppercase; color: var(--text-light); margin-bottom: 0.5rem; font-weight: 500; }
        .last-read-card p { font-weight: 600; font-size: 1rem; }
        .tabs-container { display: flex; border-bottom: 2px solid #e0e0e0; margin: 0 1rem 1rem 1rem; }
        body.dark-mode .tabs-container { border-bottom-color: #333; }
        .tab-item {  text-align: center; padding: 0.8rem 0.5rem; font-weight: 600; font-size: 0.9rem; color: var(--text-light); cursor: pointer; position: relative; }
        .tab-item.active { color: var(--active-tab); }
        .tab-item.active::after { content: ''; position: absolute; bottom: -2px; left: 0; width: 100%; height: 2px; background-color: var(--active-tab); }
        .list-container { padding: 0 0.5rem; }
        .list-item { display: flex; align-items: center; padding: 0.8rem 0.5rem; border-bottom: 1px solid #eee; cursor: pointer; }
        body.dark-mode .list-item { border-bottom-color: #333; }
        .list-item .num { font-weight: 500; color: var(--text-light); width: 2.5rem; flex-shrink: 0; text-align: center; }
        .list-item .details { flex-grow: 1; min-width: 0; margin-right: 0.5rem; }
        .list-item .details .title { font-weight: 600; }
        .list-item .details .subtitle { font-size: 0.8rem; color: var(--text-light); }
        .list-item .arabic { font-size: 1.2rem; font-weight: 500; color: var(--text-color); white-space: nowrap; }
        
        /* --- TAMPILAN DZIKIR (List view is now generic) --- */
        #dzikir-view { padding-top: 1.5rem; padding-bottom: 2rem; }
    
        /* --- TAMPILAN TASBIH --- */
        #tasbih-view { display: none; flex-direction: column; height: 100vh; padding-top: 1.5rem; }
        #tasbih-view .view-header { flex-shrink: 0; margin-bottom: 0; }
        #tasbih-view .tasbih-main { flex-grow: 1; display: flex; flex-direction: column; justify-content: space-evenly; align-items: center; padding: 1rem; }
        #tasbih-counter-display { text-align: center; }
        #tasbih-counter-display .count { font-size: 4rem; font-weight: 700; line-height: 1; }
        #tasbih-counter-display .target { font-size: 1.2rem; color: var(--text-light); }
        #tasbih-text-display { text-align: center; padding: 0 1rem; }
        #tasbih-text-display .tasbih-arabic { font-size: 1.8rem; font-weight: 500; margin-bottom: 0.5rem; }
        #tasbih-text-display .tasbih-latin { font-size: 1rem; font-style: italic; color: var(--text-light); margin-bottom: 0.25rem; }
        #tasbih-text-display .tasbih-arti { font-size: 0.9rem; color: var(--text-light); }
        #tasbih-tap-area { width: 180px; height: 180px; background-color: var(--tap-area-bg); border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer; box-shadow: 0 5px 15px var(--card-shadow); transition: transform 0.1s ease; }
        #tasbih-tap-area:active { transform: scale(0.95); }
        #tasbih-tap-area .tap-icon { font-size: 4rem; color: var(--text-light); }
        #tasbih-reset-btn { background: none; border: 2px solid var(--text-light); color: var(--text-light); font-size: 1rem; padding: 0.6rem 1.5rem; border-radius: 2rem; cursor: pointer; transition: background-color var(--transition); }
        #tasbih-reset-btn:active { background-color: rgba(136, 136, 136, 0.2); }
    
        /* --- SIDEBAR & MODAL (CSS UMUM) --- */
        #menu-toggle { position: absolute; top: 1.2rem; left: 1.2rem; width: 40px; height: 40px; background: rgba(255, 255, 255, 0.15); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: var(--radius); cursor: pointer; z-index: 2000; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 8px; transition: all var(--transition); }
        #menu-toggle .bar { display: block; width: 100%; height: 2px; background: var(--header-text); margin: 3px 0; transition: all var(--transition); border-radius: 2px; }
        #sidebar { position: fixed; top: 0; left: -300px; width: 280px; height: 100%; background: var(--card-bg); box-shadow: 4px 0 15px rgba(0, 0, 0, 0.1); padding: 1.5rem; transition: left var(--transition), background-color var(--transition); z-index: 1500; overflow-y: auto; }
        #sidebar.open { left: 0; }
        #sidebar h3 { font-size: 1.2rem; font-weight: 600; color: var(--header-bg); margin-top: 3rem; margin-bottom: 1.5rem; }
        #sidebar ul { list-style: none; padding: 0; }
        #sidebar ul li a { display: block; padding: 0.8rem 1rem; text-decoration: none; color: var(--text-color); font-weight: 500; border-radius: var(--radius); transition: background-color var(--transition), color var(--transition); }
        #sidebar ul li a:hover, #sidebar ul li a.active { background-color: var(--header-bg); color: var(--header-text); }
        
        .full-modal { position: fixed; z-index: 3000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); display: none; align-items: center; justify-content: center; }
        .full-modal .modal-content { background-color: var(--primary-bg); color: var(--text-color); padding: 0; border-radius: var(--radius); width: 90%; max-width: 400px; max-height: 85%; box-shadow: 0 5px 20px rgba(0,0,0,0.2); animation: modal-appear 0.4s ease; display: flex; flex-direction: column; }
        @keyframes modal-appear { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .full-modal .modal-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.5rem; border-bottom: 1px solid #ddd; }
        body.dark-mode .full-modal .modal-header { border-bottom-color: #444; }
        .full-modal .modal-header h3 { color: var(--header-bg); font-size: 1.1rem; flex-grow: 1; text-align: center; margin: 0 1rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .full-modal .close-button { font-size: 2rem; color: #aaa; cursor: pointer; font-weight: 300; }
        .full-modal .modal-header .action-icon { font-size: 1.5rem; cursor: pointer; color: var(--text-light); }
        .full-modal .modal-header .action-icon.bookmarked { color: var(--bookmark-active); }
        .full-modal .modal-body { padding: 1.5rem; overflow-y: auto; flex-grow: 1; }
    
        /* --- CSS untuk Modal Izin Kustom --- */
        .permission-modal-content {
            padding: 1.5rem;
            text-align: center;
        }
        .permission-modal-content h3 {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: var(--header-bg);
        }
        body.dark-mode .permission-modal-content h3 {
            color: var(--accent-color);
        }
        .permission-modal-content p {
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            color: var(--text-color);
            opacity: 0.9;
        }
        .permission-modal-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }
        .permission-modal-actions .modal-action-btn {
            flex-grow: 1;
        }
        .permission-modal-actions .deny-btn {
            background-color: var(--tap-area-bg);
            color: var(--text-color);
        }
    
        /* STYLE KONTEN MODAL & SURAH VIEW */
        .settings-item { display: flex; justify-content: space-between; align-items: center; padding: 1rem 0; border-bottom: 1px solid #eee; }
        body.dark-mode .settings-item { border-bottom-color: #333; }
        .settings-item:last-child { border-bottom: none; }
        .settings-item label { font-weight: 500; flex-shrink: 0; margin-right: 1rem; }
        .switch { position: relative; display: inline-block; width: 50px; height: 28px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; border-radius: 28px; transition: var(--transition); }
        .slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px; background-color: white; border-radius: 50%; transition: var(--transition); }
        input:checked + .slider { background-color: var(--header-bg); }
        input:checked + .slider:before { transform: translateX(22px); }
        .custom-select, #enable-notifications-btn {
            padding: 0.5rem; border-radius: 8px; border: 1px solid #ccc; background-color: var(--card-bg); color: var(--text-color);
            font-family: 'Poppins', sans-serif;
        }
        
        #enable-notifications-btn { cursor: pointer; }
        #enable-notifications-btn:disabled { cursor: not-allowed; opacity: 0.6; }
        body.dark-mode .custom-select, body.dark-mode #enable-notifications-btn { border-color: #555; }
        .single-item-arabic { font-size: 2rem; line-height: 3rem; text-align: right; direction: rtl; margin-bottom: 1.5rem; }
        .single-item-latin { font-size: 1rem; font-style: italic; color: #666; line-height: 1.6rem; margin-bottom: 1rem; }
        .single-item-arti { font-size: 0.9rem; color: #666; line-height: 1.5rem; }
        body.dark-mode .single-item-latin { color: #ccc; }
        body.dark-mode .single-item-arti { color: #ccc; }
        .modal-action-btn {
            display: block; width: 100%; padding: 0.8rem; margin-top: 1.5rem;
            background-color: var(--button-bg); color: var(--button-text);
            border: none; border-radius: var(--radius); font-size: 1rem; font-weight: 600;
            cursor: pointer; text-align: center; transition: transform 0.2s ease;
        }
        .modal-action-btn:active { transform: scale(0.98); }
    
        /* STYLE UNTUK GRUP PENGATURAN */
        .settings-group {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background-color: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: 0 2px 5px var(--card-shadow);
        }
        .settings-group:last-child {
            margin-bottom: 0;
        }
        body.dark-mode .settings-group { border-top-color: #444; }
        .settings-group h4 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--header-bg);
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #eee;
        }
        body.dark-mode .settings-group h4 { color: var(--accent-color); border-bottom-color: #444;}
    
    
        /* STYLE UNTUK MENU DETAIL APLIKASI & PENGATURAN ADZAN BARU */
        .settings-menu-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 0.9rem 0;
          border-bottom: 1px solid #eee;
          cursor: pointer;
          transition: background-color 0.2s ease;
        }
        .settings-menu-item:last-child {
          border-bottom: none;
        }
        body.dark-mode .settings-menu-item { border-bottom-color: #333; }
        .settings-menu-item:hover { background-color: rgba(0, 0, 0, 0.03); }
        body.dark-mode .settings-menu-item:hover { background-color: rgba(255, 255, 255, 0.05); }
        .settings-menu-item span:first-child { font-weight: 500; }
        .settings-menu-item .arrow { font-size: 1.5rem; font-weight: 400; color: var(--text-light); }
        
        /* --- Style Pengaturan Suara Adzan --- */
        .selection-item-wrapper {
            padding: 0.2rem 0.5rem;
            border-bottom: 1px solid #eee;
            transition: background-color 0.2s ease;
        }
        .selection-item-wrapper:last-child {
            border-bottom: none;
        }
        body.dark-mode .selection-item-wrapper {
            border-bottom-color: #333;
        }
        .selection-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.7rem 0;
            cursor: pointer;
        }
        .selection-item:hover {
            background-color: rgba(0, 0, 0, 0.03);
        }
        body.dark-mode .selection-item:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }
        .selection-item span:first-child { font-weight: 500; }
        .selection-item .checkmark {
            font-size: 1.2rem;
            color: var(--header-bg);
            font-weight: bold;
            visibility: hidden;
        }
        body.dark-mode .selection-item .checkmark { color: var(--accent-color); }
        .selection-item.selected .checkmark { visibility: visible; }
    
        /* --- Style untuk Volume Control & Tombol Test --- */
        .volume-control-container {
            display: none;
            align-items: center;
            gap: 0.8rem;
            padding: 0.5rem 0 0.8rem 0;
            animation: fadeIn 0.3s ease;
        }
        .volume-control-container.active {
            display: flex;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .volume-control-container .volume-icon {
            font-size: 1.2rem;
            color: var(--text-light);
        }
        .volume-slider {
            -webkit-appearance: none; appearance: none;
            flex-grow: 1; height: 6px;
            background: #ddd; outline: none;
            border-radius: 3px; opacity: 0.9;
            transition: opacity .2s;
        }
        .volume-slider:hover { opacity: 1; }
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none; appearance: none;
            width: 18px; height: 18px;
            background: var(--header-bg); cursor: pointer;
            border-radius: 50%;
        }
        .volume-slider::-moz-range-thumb {
            width: 18px; height: 18px;
            background: var(--header-bg); cursor: pointer;
            border-radius: 50%; border: none;
        }
        .test-sound-btn {
            background: none; border: none;
            font-size: 1.5rem; color: var(--header-bg);
            cursor: pointer; padding: 0.2rem;
            line-height: 1;
        }
        body.dark-mode .volume-slider { background: #444; }
        body.dark-mode .volume-slider::-webkit-slider-thumb { background: var(--accent-color); }
        body.dark-mode .volume-slider::-moz-range-thumb { background: var(--accent-color); }
        body.dark-mode .test-sound-btn { color: var(--accent-color); }
        
        /* CSS UNTUK TOMBOL PLAY STORE */
        .playstore-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 0.8rem 1rem;
            margin-top: 1.5rem;
            background-color: #000000;
            color: #ffffff;
            border-radius: var(--radius);
            text-decoration: none;
            font-weight: 600;
            font-size: 1rem;
            transition: transform 0.2s ease, background-color 0.2s ease;
        }
        .playstore-btn:active {
            transform: scale(0.97);
        }
        .playstore-btn .playstore-icon {
            width: 24px;
            height: 24px;
        }
        body.dark-mode .playstore-btn {
            background-color: #ffffff;
            color: #000000;
        }
    
    
        /* STYLE UNTUK TOMBOL DETAIL APLIKASI */
        .detail-app-container {
          text-align: center;
          padding: 1.5rem 0 0.5rem 0;
        }
    
        #detail-app-btn {
          background-color: var(--header-bg);
          color: var(--header-text);
          border: none;
          border-radius: var(--radius);
          padding: 0.7rem 1.5rem;
          font-size: 0.9rem;
          font-weight: 600;
          cursor: pointer;
          transition: transform 0.2s ease, background-color var(--transition);
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
    
        #detail-app-btn:active {
          transform: scale(0.96);
        }
        
        body.dark-mode #detail-app-btn {
            background-color: var(--tap-area-bg);
            color: var(--text-color);
        }
    
        /* STYLE UNTUK KONTEN HALAMAN DETAIL */
        .content-body {
            padding: 0 1rem 1.5rem 1rem; 
        }
    
        .content-card {
            background-color: var(--card-bg);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 8px var(--card-shadow);
            transition: background-color var(--transition);
        }
    
        .content-card p, .content-card li {
            line-height: 1.7; 
            color: var(--text-color);
            opacity: 0.9;
            margin-bottom: 1rem;
        }
    
        .content-card p:last-child, .content-card li:last-child {
            margin-bottom: 0;
        }
    
        .content-card strong {
            color: var(--header-bg);
            font-weight: 600;
        }
    
        body.dark-mode .content-card strong {
            color: var(--accent-color);
        }
    
        .content-title-icon {
            font-size: 1.5rem;
            margin-right: 0.75rem;
            color: var(--header-bg);
            vertical-align: middle;
        }
    
        body.dark-mode .content-title-icon {
            color: var(--accent-color);
        }
    
        h3.content-title {
            display: flex;
            align-items: center;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-color);
        }
        
    .surah-audio-player {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
        padding: 1rem 0.5rem;
        margin-bottom: 1rem;
        background-color: var(--tap-area-bg);
        border-radius: var(--radius);
    }
    #surah-play-btn {
        background-color: var(--card-bg);
        border: 1px solid #ddd;
        width: 44px;
        height: 44px;
        border-radius: 50%;
        font-size: 1.5rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--text-color);
        box-shadow: 0 2px 4px var(--card-shadow);
    }
    body.dark-mode #surah-play-btn {
        border-color: #444;
    }
    
        ul.styled-list {
            list-style: none;
            padding-left: 0;
        }
    
        ul.styled-list li {
            position: relative;
            padding-left: 1.8rem;
            margin-bottom: 1rem;
        }
    
        ul.styled-list li::before {
            content: 'âœ“'; 
            position: absolute;
            left: 0;
            top: 2px;
            color: var(--header-bg);
            font-weight: 700;
            font-size: 1.1rem;
        }
    
        body.dark-mode ul.styled-list li::before {
            color: var(--accent-color);
        }
    
        .email-link-wrapper {
            text-align: center;
            margin-top: 1.5rem;
        }
    
        /* --- SURAH VIEW STYLES --- */
        #surah-view, #juz-detail-view { padding-top: 1.5rem; padding-bottom: 2rem; }
        #surah-view .view-header { position: sticky; top: 0; background-color: var(--primary-bg); padding-top: 1.5rem; padding-bottom: 1rem; z-index: 100; transition: background-color var(--transition); }
        #surah-view-body { padding: 0 1rem; }
        .surah-detail-header { text-align: center; margin-bottom: 1.5rem; padding: 1.5rem; background-color: var(--card-bg); border-radius: var(--radius); box-shadow: 0 2px 5px var(--card-shadow); }
        .surah-detail-header h2 { font-size: 1.8rem; font-weight: 600; color: var(--header-bg); margin-bottom: 0.25rem; }
        .surah-detail-header p { font-size: 1rem; color: var(--text-color); margin-bottom: 0.5rem; }
        .surah-detail-header .meta { font-size: 0.8rem; color: var(--text-light); text-transform: uppercase; }
        
        .basmala { text-align: center; padding-bottom: 1.5rem; margin-bottom: 1rem; border-bottom: 1px solid #eee; }
        body.dark-mode .basmala { border-bottom-color: #444; }
        .basmala .basmala-arabic { font-size: 1.8rem; direction: rtl; margin: 0; padding: 0; }
        .basmala .basmala-translation { font-size: 0.9rem; font-style: italic; color: var(--text-light); margin-top: 0.5rem; }
        
        .ayah-item { padding: 1.2rem 0; border-bottom: 1px solid #eee; }
        body.dark-mode .ayah-item { border-bottom-color: #333; }
        .ayah-item:last-child { border-bottom: none; }
        .ayah-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
        .ayah-number { font-weight: 600; background: var(--tap-area-bg); color: var(--text-light); padding: 0.2rem 0.6rem; border-radius: 8px; font-size: 0.9rem; }
        .ayah-arabic { font-size: 1.8rem; text-align: right; direction: rtl; line-height: 2.8rem; margin-bottom: 1rem; }
        .ayah-latin { font-size: 0.95rem; font-style: italic; color: #555; line-height: 1.6rem; margin-bottom: 1rem; }
        .ayah-translation { font-size: 0.9rem; line-height: 1.5rem; }
        body.dark-mode .ayah-latin { color: #ddd; }
        body.dark-mode .ayah-translation { color: #ccc; }
        
        /* --- TAMPILAN KIBLAT --- */
#qibla-view {
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: space-around; /* Memberi ruang untuk elemen baru */
    height: 100vh;
    box-sizing: border-box;
    background-color: #0d264a; /* Gunakan warna tema utama */
    color: #ffffff;
    padding: 1rem;
}
#qibla-view .view-header {
    position: absolute;
    top: 0;
    width: 100%;
    background: transparent;
    color: white;
}
#qibla-view .view-header h2, #qibla-view .back-button {
    color: #ffffff;
}

#qibla-compass-container {
    position: relative;
    width: 300px;
    height: 300px;
    display: flex;
    justify-content: center;
    align-items: center;
}
#qibla-compass-circle {
    width: 100%;
    height: 100%;
    background-color: #f0f4f8; /* Latar belakang terang agar kontras */
    border: 5px solid #f9d788; /* Border aksen */
    border-radius: 50%;
    transition: background-color 0.4s ease, box-shadow 0.4s ease;
    position: relative;
    box-shadow: 0 5px 25px rgba(0,0,0,0.3);
}
#qibla-compass-circle.aligned {
    background-color: #d4edda; /* Hijau lembut saat pas */
    box-shadow: 0 0 30px #2ecc71;
}

#qibla-lubber-line {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 4px;
    height: 30px;
    background-color: #e74c3c; /* Merah terang */
    border-radius: 2px;
    z-index: 3;
}
    
        #qibla-needle {
            position: absolute;
            width: 4px;
            height: 120px;
            background-color: #333333;
            top: 30px;
            left: 50%;
            transform-origin: bottom center;
            transform: translateX(-50%) rotate(0deg);
            transition: transform 0.2s linear;
            border-radius: 2px;
            z-index: 2;
        }
        
        #qibla-info-box {
          margin-top: 2rem;
          text-align: center;
          max-width: 320px;
        }
        #qibla-info-box .direction-degree {
          font-size: 1.2rem;
          font-weight: 500;
          margin-bottom: 1rem;
        }
        #qibla-info-box .calibration-info {
          font-size: 0.8rem;
          color: #ccc;
          line-height: 1.4;
          margin-bottom: 1rem;
        }
        #qibla-recalibrate-btn {
          background: none;
          border: 1px solid #f9d788;
          color: #f9d788;
          padding: 0.5rem 1rem;
          border-radius: 20px;
          cursor: pointer;
        }
        
        /* --- CSS untuk Fitur Kuis Sambung Ayat --- */
        .quiz-points-display {
            font-size: 1rem;
            font-weight: 600;
            background-color: var(--tap-area-bg);
            padding: 0.4rem 0.8rem;
            border-radius: var(--radius);
            color: var(--header-bg);
        }
        body.dark-mode .quiz-points-display {
            color: var(--accent-color);
        }
    
        .quiz-intro {
            text-align: center;
            margin: 1.5rem 0;
            padding: 1rem;
            background-color: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: 0 2px 5px var(--card-shadow);
        }
        .quiz-intro h3 {
            font-size: 1.2rem;
            color: var(--header-bg);
            margin-bottom: 0.5rem;
        }
        body.dark-mode .quiz-intro h3 {
            color: var(--accent-color);
        }
        .quiz-intro p {
            font-size: 0.9rem;
            line-height: 1.6;
            color: var(--text-light);
        }
    
        .quiz-mode-selection {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
    
        .quiz-mode-card {
            background-color: var(--card-bg);
            padding: 1.2rem;
            border-radius: var(--radius);
            box-shadow: 0 4px 10px var(--card-shadow);
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            border-left: 5px solid var(--header-bg);
        }
        body.dark-mode .quiz-mode-card {
            border-left-color: var(--accent-color);
        }
        .quiz-mode-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px var(--card-shadow);
        }
        .quiz-mode-card h4 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.4rem;
        }
        .quiz-mode-card p {
            font-size: 0.85rem;
            color: var(--text-light);
        }
        .quiz-mode-card[data-disabled="true"], #theme-store-btn[data-disabled="true"] {
            opacity: 0.6;
            cursor: not-allowed;
            border-left-color: #ccc;
        }
        .quiz-mode-card[data-disabled="true"]:hover, #theme-store-btn[data-disabled="true"]:hover {
            transform: none;
            box-shadow: 0 4px 10px var(--card-shadow);
        }
    
        /* Tampilan Permainan Kuis */
        .quiz-game-area {
            margin-top: 1.5rem;
        }
        .quiz-question-card {
            background-color: var(--card-bg);
            border-radius: var(--radius);
            padding: 1.5rem;
            text-align: center;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 5px var(--card-shadow);
        }
        .quiz-question-card p {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 0.75rem;
        }
        .quiz-question-card h3 {
            font-size: 1.5rem;
            direction: rtl; /* Teks Arab dari kanan ke kiri */
            font-weight: 500;
        }
        .quiz-options-container {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        .quiz-option {
            background-color: var(--card-bg);
            border: 2px solid var(--tap-area-bg);
            padding: 1rem;
            border-radius: var(--radius);
            cursor: pointer;
            text-align: right;
            direction: rtl;
            font-size: 1.2rem;
            transition: all 0.2s ease;
        }
        .quiz-option:hover {
            background-color: var(--tap-area-bg);
        }
        .quiz-option.correct {
            background-color: #d4edda; /* Hijau */
            border-color: #28a745;
            color: #155724;
        }
        .quiz-option.incorrect {
            background-color: #f8d7da; /* Merah */
            border-color: #dc3545;
            color: #721c24;
        }
        .quiz-option.disabled {
            pointer-events: none;
            opacity: 0.7;
        }
    
        .quiz-feedback {
            text-align: center;
            margin-top: 1.5rem;
            font-size: 1.2rem;
            font-weight: 600;
            height: 30px;
        }
        .quiz-feedback.correct {
            color: #28a745;
        }
        .quiz-feedback.incorrect {
            color: #dc3545;
        }
        
    /* --- [FUNGSI DUET] Styling Tambahan untuk Mode Duet --- */
    #duet-score-board .player-container {
        padding: 0.5rem;
        border-radius: var(--radius);
        transition: all 0.4s ease;
        border-bottom: 4px solid transparent;
    }
    #duet-score-board .player-container.active {
        transform: scale(1.05);
        background-color: var(--tap-area-bg);
        border-bottom-color: var(--header-bg);
    }
    body.dark-mode #duet-score-board .player-container.active {
        border-bottom-color: var(--accent-color);
    }
    #duet-score-board .player-container.active h4 {
        color: var(--header-bg);
    }
    body.dark-mode #duet-score-board .player-container.active h4 {
        color: var(--accent-color);
    }

/* --- [MODIFIKASI] CSS UNTUK FITUR SAHABAT ANNUR ALA AI --- */
#sahabat-annur-view {
    display: flex;
    flex-direction: column;
    /* [DIUBAH] Gunakan 100vh agar mengisi seluruh tinggi layar perangkat */
    height: 100vh; 
    /* [DIHAPUS] Padding dipindahkan ke elemen anak agar lebih konsisten */
    width: 100%; /* [DITAMBAHKAN] Memastikan view menggunakan lebar penuh */
}

/* [DITAMBAHKAN] Atur header agar ukurannya tetap dan tidak terpengaruh oleh chat */
#sahabat-annur-view .view-header {
    flex-shrink: 0;
    padding: 0 1rem;
    margin-bottom: 1rem;
    box-sizing: border-box; /* Pastikan padding tidak menambah lebar */
}

#chat-window {
    flex-grow: 1; /* Biarkan area chat mengisi semua sisa ruang vertikal */
    overflow-y: auto;
    padding: 0 1rem 1rem 1rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.chat-message {
    display: flex;
    align-items: flex-end;
    gap: 0.75rem;
    max-width: 85%;
    /* [DITAMBAHKAN] Mencegah flex item menyebabkan overflow */
    min-width: 0; 
}

.chat-bubble {
    padding: 0.8rem 1rem;
    border-radius: 18px;
    line-height: 1.6;
    font-size: 0.95rem;
    opacity: 0;
    transform: translateY(15px);
    animation: fadeInBubble 0.4s forwards;
    /* [SANGAT PENTING] Mencegah teks panjang (misal: link) merusak layout */
    word-break: break-word;
    overflow-wrap: break-word;
}

@keyframes fadeInBubble { to { opacity: 1; transform: translateY(0); } }

.ai-message { align-self: flex-start; }
.ai-message .chat-bubble {
    background-color: var(--card-bg);
    border-top-left-radius: 4px;
    color: var(--text-color);
}

.ai-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background-color: var(--header-bg);
    color: var(--accent-color);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 0.9rem;
    flex-shrink: 0;
}

.user-message { align-self: flex-end; }
.user-message .chat-bubble {
    background-color: var(--header-bg);
    color: var(--header-text);
    border-top-right-radius: 4px;
}

.typing-indicator { display: flex; align-items: center; gap: 5px; }
.typing-indicator .dot {
    width: 8px; height: 8px; background-color: #ccc; border-radius: 50%;
    animation: typing-blink 1.4s infinite both;
}
.typing-indicator .dot:nth-child(2) { animation-delay: 0.2s; }
.typing-indicator .dot:nth-child(3) { animation-delay: 0.4s; }

@keyframes typing-blink { 0% { opacity: 0.2; } 20% { opacity: 1; } 100% { opacity: 0.2; } }

.sahabat-annur-input-area {
    /* [DITAMBAHKAN] Pastikan area input tidak mengecil */
    flex-shrink: 0; 
    padding: 1rem;
    background-color: var(--primary-bg);
    border-top: 1px solid var(--tap-area-bg);
    display: flex;
    gap: 0.75rem;
    align-items: center;
    box-sizing: border-box; /* Pastikan padding tidak menambah lebar */
}

#sahabat-annur-input {
    /* flex-grow: 1; <-- Dihapus atau diberi komentar */
    padding: 0.8rem 0.1rem; 
    border-radius: 1rem;
    border: 1px solid var(--tap-area-bg); 
    background-color: var(--card-bg);
    color: var(--text-color); 
    font-family: 'Poppins', sans-serif; 
    font-size: 0.9rem;
}
#sahabat-annur-input:focus { outline: none; border-color: var(--header-bg); }
body.dark-mode #sahabat-annur-input:focus { border-color: var(--accent-color); }

#sahabat-annur-send-btn {
    width: 48px; height: 48px; border: none;
    background-color: var(--button-bg); color: var(--button-text);
    border-radius: 50%; font-weight: 600; cursor: pointer;
    transition: transform 0.2s ease; font-size: 1.5rem;
    display: flex; align-items: center; justify-content: center; flex-shrink: 0;
}
#sahabat-annur-send-btn:active { transform: scale(0.9); }
    
    
    /* --- [FUNGSI TOKO] Styling untuk Halaman Toko Tema --- */
    #theme-store-btn:not([data-disabled="true"]) {
        background-color: var(--accent-color);
        color: var(--header-bg);
        font-weight: 700;
        box-shadow: 0 4px 10px rgba(249, 215, 136, 0.4);
    }
    body.dark-mode #theme-store-btn:not([data-disabled="true"]) {
        background-color: var(--button-bg);
        color: var(--button-text);
        box-shadow: 0 4px 10px rgba(249, 215, 136, 0.2);
    }
    #theme-store-modal .modal-header {
        flex-wrap: wrap; 
        padding-bottom: 0.5rem;
    }
    #store-user-points {
        width: 100%;
        text-align: center;
        font-size: 1rem;
        font-weight: 600;
        margin-top: 0.5rem;
        padding: 0.4rem;
        background-color: var(--tap-area-bg);
        border-radius: 8px;
        color: var(--header-bg);
    }
    body.dark-mode #store-user-points {
        color: var(--accent-color);
    }
    #theme-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 1rem;
        padding-top: 1rem;
    }
    .theme-card {
        background-color: var(--card-bg);
        border-radius: var(--radius);
        box-shadow: 0 2px 5px var(--card-shadow);
        padding: 1rem;
        text-align: center;
        border: 3px solid transparent;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }
    .theme-card.applied {
        border-color: var(--header-bg);
        transform: translateY(-5px);
    }
    body.dark-mode .theme-card.applied {
        border-color: var(--accent-color);
    }
    .theme-card.applied::before {
        content: 'âœ“ Digunakan';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        background-color: var(--header-bg);
        color: var(--header-text);
        font-size: 0.7rem;
        font-weight: 600;
        padding: 0.2rem 0;
    }
    body.dark-mode .theme-card.applied::before {
        background-color: var(--accent-color);
        color: var(--header-bg);
    }
    .theme-preview {
        display: flex;
        justify-content: center;
        height: 60px;
        border-radius: 8px;
        overflow: hidden;
        margin-bottom: 0.75rem;
        border: 1px solid var(--tap-area-bg);
    }
    .theme-preview .color-swatch {
        width: 25%;
        height: 100%;
    }
    .theme-name {
        font-weight: 600;
        font-size: 0.9rem;
        margin-bottom: 0.25rem;
    }
    .theme-price {
        font-size: 0.85rem;
        font-weight: 500;
        color: var(--text-light);
        margin-bottom: 0.75rem;
        height: 20px;
    }
    .theme-price .price-icon {
        color: #ffc107;
    }
    .theme-action-btn {
        width: 100%;
        padding: 0.6rem;
        border: none;
        border-radius: 8px;
        font-size: 0.8rem;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.2s ease;
        text-transform: uppercase;
    }
    .theme-action-btn.buy {
        background-color: var(--button-bg);
        color: var(--button-text);
    }
    .theme-action-btn.apply {
        background-color: var(--tap-area-bg);
        color: var(--text-color);
    }
    .theme-action-btn.insufficient {
        background-color: #aaa;
        color: #fff;
        cursor: not-allowed;
    }
    body.dark-mode .theme-action-btn.insufficient {
        background-color: #444;
        color: #888;
    }
    .theme-card.locked .theme-preview {
        filter: grayscale(80%);
    }
    .theme-card.locked::after {
        content: 'ðŸ”’';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.4);
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 2.5rem;
        color: white;
        border-radius: var(--radius);
        backdrop-filter: blur(2px);
        -webkit-backdrop-filter: blur(2px);
    }
    
/* --- CSS UNTUK FITUR MOTIVASI ISLAMI --- */
    .motivation-carousel-container {
        position: relative;
        overflow: hidden;
        padding: 0;
        margin-bottom: 1.5rem;
        height: 180px;
    }
.motivation-carousel-track {
    display: flex;
    height: 100%;
    transition: transform 0.5s ease-in-out;
}
.motivation-slide {
    flex: 0 0 100%;
    width: 100%;
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    box-sizing: border-box;
    /* [DIUBAH] Menggunakan gradasi warna krem terang agar tidak gelap */
    background: linear-gradient(135deg, #FFFBEB, #FEF3C7);
    /* [DIUBAH] Menggunakan warna teks coklat tua agar sangat kontras dan mudah dibaca */
    color: #6D4C41; 
}
.motivation-slide p {
    font-size: 1.1rem;
    font-weight: 500;
    margin-bottom: 0.5rem;
    color: inherit; /* [DIUBAH] Mengikuti warna teks utama dari .motivation-slide */
}
.motivation-slide .quote-author {
    font-size: 0.9rem;
    font-style: italic;
    opacity: 0.9;
    /* [DIUBAH] Menggunakan warna coklat yang sedikit lebih muda untuk penulis */
    color: #8D6E63; 
}
.carousel-control {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    /* [DIUBAH] Warna tombol diganti agar terlihat jelas di latar belakang terang */
    background-color: rgba(0, 0, 0, 0.25);
    border: none;
    color: #ffffff;
    font-size: 1.8rem;
    font-weight: bold;
    cursor: pointer;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    z-index: 10;
    line-height: 40px;
    text-align: center;
    transition: background-color 0.2s;
}
.carousel-control:hover {
    background-color: rgba(0, 0, 0, 0.4);
}
.carousel-control.prev { left: 10px; }
.carousel-control.next { right: 10px; }
.carousel-indicators {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
}
.indicator-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    /* [DIUBAH] Warna indikator diganti agar terlihat */
    background-color: rgba(0, 0, 0, 0.3);
    cursor: pointer;
    transition: background-color 0.3s ease;
}
.indicator-dot.active {
    /* [DIUBAH] Warna indikator aktif disesuaikan dengan warna teks */
    background-color: #6D4C41;
}

/* --- [INI TETAP SAMA, TIDAK PERLU DIUBAH] --- */
.motivation-quote-card {
    background-color: var(--card-bg);
    border-radius: var(--radius);
    padding: 1.2rem;
    margin-bottom: 1rem;
    box-shadow: 0 2px 8px var(--card-shadow);
    border-left: 4px solid var(--header-bg);
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInQuote 0.5s forwards;
}
@keyframes fadeInQuote {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
body.dark-mode .motivation-quote-card {
    border-left-color: var(--accent-color);
}
.motivation-quote-card .quote-text {
    font-size: 1rem;
    line-height: 1.6;
    margin-bottom: 1rem;
    font-style: italic;
    color: var(--text-color);
}
.motivation-quote-card .quote-author {
    font-weight: 600;
    text-align: right;
    color: var(--header-bg);
    margin-bottom: 1.2rem;
}
body.dark-mode .motivation-quote-card .quote-author {
    color: var(--accent-color);
}
.quote-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-top: 1px solid var(--tap-area-bg);
    padding-top: 1rem;
}
body.dark-mode .quote-footer {
    border-top-color: #333;
}
.quote-tags {
    display: flex;
    gap: 0.5rem;
}
.quote-tag-badge {
    background-color: var(--tap-area-bg);
    color: var(--text-light);
    font-size: 0.75rem;
    font-weight: 500;
    padding: 0.3rem 0.6rem;
    border-radius: 1rem;
}
.quote-actions {
    display: flex;
    gap: 1rem;
}
.quote-actions .action-icon {
    font-size: 1.4rem;
    cursor: pointer;
    color: var(--text-light);
    transition: color 0.2s, transform 0.2s;
}
.quote-actions .action-icon:hover {
    transform: scale(1.1);
}
.quote-actions .action-icon.favorited {
    color: #e91e63;
}
.motivation-toast {
    position: fixed;
    bottom: -100px;
    left: 50%;
    transform: translateX(-50%);
    background-color: var(--header-bg);
    color: var(--header-text);
    padding: 1rem 1.5rem;
    border-radius: var(--radius);
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    font-weight: 500;
    z-index: 5000;
    transition: bottom 0.5s ease-in-out;
}
.motivation-toast.show {
    bottom: 80px;
}

    
    </style>
    <body>
      <nav id="sidebar">
        <h3 data-key="nav_title">Menu</h3>
        <ul>
          <li><a href="#" id="prayer-times-btn">ðŸ•’ Jadwal Sholat</a></li>
          <li><a href="#" id="doa-harian-btn" data-key="nav_doa">ðŸ¤² Doa Harian</a></li>
          <li><a href="#" id="quran-btn" data-key="nav_quran">ðŸ“– Al-Qur'an</a></li>
          <li><a href="#" id="dzikir-btn" data-key="nav_dzikir">ðŸ“¿ Dzikir & Tasbih</a></li>
          <li><a href="#" id="qibla-btn" data-key="nav_kiblat">ðŸ•‹ Kiblat</a></li>
          <li><a href="#" id="quiz-btn">ðŸ§  Kuis Ayat</a></li>
          <li><a href="#" id="motivasi-btn">ðŸŒŸ Motivasi Islami</a></li> 
          <li><a href="#" id="sahabat-annur-btn">ðŸ¤– Sahabat Annur</a></li>
          <li><a href="#" id="settings-btn" data-key="nav_settings">âš™ï¸ Pengaturan</a></li>
        </ul>
      </nav>
    
      <div class="app-container">
        <div id="prayer-times-view" class="main-view">
          <header class="main-header">
            <button id="menu-toggle"><span class="bar"></span><span class="bar"></span><span class="bar"></span></button>
            <h1 id="next-prayer-name">Imsak</h1>
            <p data-key="remaining_time">Waktu Tersisa</p>
            <div id="countdown-timer">00:00:00</div>
            <div id="location-display"><span class="icon">ðŸ“</span><span id="city-name">Memuat...</span>
            </div>
          </header>
          <section class="calendar-section">
            <div class="date-header">
              <span class="hijri-date" id="hijri-date-display">...</span>
              <span class="gregorian-date" id="gregorian-date-display">...</span>
            </div>
            <div class="calendar-view" id="calendar-view-container"></div>
          </section>
          <main class="prayer-list-section" id="prayer-list-container"></main>
          <footer class="app-footer">Annur Islamic</footer>
        </div>
    
        <div id="doa-view" class="main-view generic-list-view" style="display: none;">
          <div class="view-header">
            <span class="back-button" data-target-view="prayer-times-view">â€¹</span>
            <h2>Doa Harian</h2>
          </div>
          <div class="last-read-card" id="last-read-doa-card">
            <h3 data-key="last_read">TERAKHIR DIBACA</h3>
            <p data-key="no_last_read">Belum ada doa yang dibaca</p>
          </div>
          <div class="tabs-container">
            <div class="tab-item active" data-tab="all" data-key="all_doa">Semua Doa</div>
            <div class="tab-item" data-tab="bookmarked" data-key="bookmarked">Ditandai</div>
          </div>
          <div class="list-container" id="doa-list-container-view"></div>
        </div>
    
        <div id="quran-view" class="main-view generic-list-view" style="display: none;">
          <div class="view-header">
            <span class="back-button" data-target-view="prayer-times-view">â€¹</span>
            <h2>Al-Qur'an</h2>
          </div>
          <div class="last-read-card" id="last-read-surah-card">
            <h3>TERAKHIR DIBACA</h3>
            <p>Belum ada surah yang dibaca</p>
          </div>
          <div class="tabs-container" id="quran-tabs">
            <div class="tab-item active" data-tab="surah">Surah</div>
            <div class="tab-item" data-tab="juz">Juz</div>
            <div class="tab-item" data-tab="bookmarked">Ditandai</div>
          </div>
          <div class="list-container" id="quran-list-container"></div>
        </div>
    
        <div id="juz-detail-view" class="main-view" style="display: none;">
          <div class="view-header">
            <span class="back-button" data-target-view="quran-view">â€¹</span>
            <h2 id="juz-detail-title">Daftar Surah</h2>
          </div>
          <div class="list-container" id="juz-surah-list-container"></div>
        </div>
    
        <div id="surah-view" class="main-view" style="display: none;">
          <div class="view-header">
            <span class="back-button" id="surah-view-back-btn">â€¹</span>
            <h2 id="surah-view-title">Nama Surah</h2>
            <span class="action-icon" id="surah-view-bookmark-btn">â­</span>
          </div>
          <div id="surah-view-body">
          </div>
        </div>
    
        <div id="dzikir-view" class="main-view generic-list-view" style="display: none;">
          <div class="view-header">
            <span class="back-button" data-target-view="prayer-times-view">â€¹</span>
            <h2>Dzikir & Tasbih</h2>
          </div>
          <div class="list-container" id="dzikir-list-container"></div>
        </div>
    
        <div id="quiz-view" class="main-view" style="display: none; padding: 1.5rem 1rem;">
          <div class="view-header">
            <span class="back-button" data-target-view="prayer-times-view">â€¹</span>
            <h2>Kuis Sambung Ayat</h2>
            <div class="quiz-points-display">
              <span id="user-points">0</span> ðŸ’Ž
            </div>
          </div>
    
          <div class="quiz-intro">
            <h3>Asah Hafalan Al-Qur'an Anda!</h3>
            <p>Pilih mode permainan untuk memulai. Dapatkan poin untuk setiap jawaban yang benar dan tukarkan dengan tema menarik.</p>
          </div>
    
          <div class="quiz-mode-selection">
            <div class="quiz-mode-card" data-mode="individu">
              <h4>ðŸ‘¤ Mode Individu</h4>
              <p>Bermain sendiri dan kumpulkan poin sebanyak-banyaknya.</p>
            </div>
            <div class="quiz-mode-card" data-mode="duet">
              <h4>ðŸ‘¥ Mode Duet</h4>
              <p>Tantang teman dalam satu perangkat.</p>
            </div>
          </div>
    
          <button id="theme-store-btn" class="modal-action-btn">
            ðŸ›ï¸ Toko Tema
          </button>
        </div>
    
        <div id="quiz-level-selection-view" class="main-view" style="display: none; padding: 1.5rem 1rem;">
          <div class="view-header">
            <span class="back-button" data-target-view="quiz-view">â€¹</span>
            <h2 id="quiz-level-title">Pilih Level</h2>
          </div>
          <div class="quiz-intro">
            <h3>Tingkat Kesulitan</h3>
            <p>Pilih tingkat kesulitan soal yang akan dimainkan.</p>
          </div>
          <div class="quiz-mode-selection" id="level-selection-container">
            <div class="quiz-mode-card" data-level="mudah">
              <h4>ðŸŸ¢ Mudah</h4>
              <p>Soal dari surah-surah pendek dan ayat populer.</p>
            </div>
            <div class="quiz-mode-card" data-level="sedang">
              <h4>ðŸŸ¡ Sedang</h4>
              <p>Soal dari Juz 'Amma dan sekitarnya.</p>
            </div>
            <div class="quiz-mode-card" data-level="sulit">
              <h4>ðŸ”´ Sulit</h4>
              <p>Soal acak dari berbagai surah di Al-Qur'an.</p>
            </div>
          </div>
        </div>
    
        <div id="quiz-game-view" class="main-view" style="display: none; padding: 1.5rem 1rem;">
          <div class="view-header">
            <span class="back-button" data-target-view="quiz-level-selection-view">â€¹</span>
            <h2 id="quiz-game-title">Mode Individu</h2>
            <div class="quiz-points-display">
              Skor: <span id="quiz-score">0</span>
            </div>
          </div>
          <div class="quiz-game-area">
            <div class="quiz-question-card">
              <p>Lanjutkan sambungan ayat berikut:</p>
              <h3 id="quiz-question-text">...</h3>
            </div>
            <div class="quiz-options-container" id="quiz-options">
            </div>
            <div id="quiz-feedback" class="quiz-feedback"></div>
          </div>
        </div>
        
        <div id="quiz-duet-game-view" class="main-view" style="display: none; padding: 1.5rem 1rem;">
          <div class="view-header">
            <span class="back-button" data-target-view="quiz-level-selection-view">â€¹</span>
            <h2>Mode Duet</h2>
          </div>
          
          <div id="duet-score-board" style="display: flex; justify-content: space-around; text-align: center; margin-bottom: 1.5rem; background-color: var(--card-bg); padding: 1rem; border-radius: var(--radius); box-shadow: 0 2px 5px var(--card-shadow);">
            <div class="player-container" id="player1-container">
              <h4 style="color: var(--header-bg);">Pemain 1</h4>
              <div class="quiz-points-display" id="player1-score">Skor: 0</div>
            </div>
            <div class="player-container" id="player2-container">
              <h4 style="color: var(--header-bg);">Pemain 2</h4>
              <div class="quiz-points-display" id="player2-score">Skor: 0</div>
            </div>
          </div>
    
          <div class="quiz-game-area">
            <div class="quiz-question-card">
              <p id="duet-turn-indicator">Giliran Pemain 1</p>
              <p>Lanjutkan sambungan ayat berikut:</p>
              <h3 id="duet-question-text">...</h3>
            </div>
            <div class="quiz-options-container" id="duet-options">
            </div>
            <div id="duet-feedback" class="quiz-feedback"></div>
          </div>
        </div>
        
        <div id="motivation-view" class="main-view" style="display: none; padding: 1.5rem 1rem;">
            <div class="view-header">
                <span class="back-button" data-target-view="prayer-times-view">â€¹</span>
                <h2>Motivasi Islami</h2>
                <span class="action-icon" id="motivation-bookmark-list-btn" title="Lihat Favorit">â¤ï¸</span>
            </div>
            <div id="featured-motivation-carousel" class="motivation-carousel-container content-card">
                <div class="motivation-carousel-track">
                </div>
                <button class="carousel-control prev" aria-label="Sebelumnya">â€¹</button>
                <button class="carousel-control next" aria-label="Selanjutnya">â€º</button>
                <div class="carousel-indicators"></div>
            </div>
<div class="tabs-container scrollable-tabs" id="motivation-tabs">
                <div class="tab-item active" data-category="all">Semua</div>
                <div class="tab-item" data-category="Sabar">Sabar</div>
                <div class="tab-item" data-category="Syukur">Syukur</div>
                <div class="tab-item" data-category="Semangat">Semangat</div>
                <div class="tab-item" data-category="Jodoh">Jodoh
                </div>
                <div class="tab-item" data-category="Maut">Maut
                </div>
                <div class="tab-item" data-category="Sabar & Tawakal">Sabar & Tawakal
                </div>
            </div>
            <div id="motivation-list-container">
            </div>
            <button id="random-quote-btn" class="modal-action-btn" style="margin-top: 1.5rem;">
                ðŸ”„ Tampilkan Kutipan Acak
            </button>
            <div id="motivation-toast" class="motivation-toast">
                Teks berhasil disalin!
            </div>
        </div>
    
      </div>
            <div id="sahabat-annur-view" class="main-view" style="display: none;">
        <div class="view-header" style="padding: 0 1rem; margin-bottom: 1rem;">
            <span class="back-button" data-target-view="prayer-times-view">â€¹</span>
            <h2>Sahabat Annur</h2>
        </div>
        <div id="chat-window">
            <div class="chat-message ai-message">
                <div class="ai-avatar">AI</div>
                <div class="chat-bubble">
                    <p>Assalamu'alaikum Wr.Wb! Saya Sahabat Annur, asisten AI Anda.</p>
                    <p>Ada yang bisa saya bantu terkait pertanyaan seputar Islam? Silakan ketik pertanyaan Anda di bawah.</p>
                </div>
            </div>
            
            <div class="chat-message ai-message" id="typing-container" style="display: none;">
                 <div class="ai-avatar">AI</div>
                 <div class="chat-bubble">
                    <div class="typing-indicator">
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="sahabat-annur-input-area">
            <input type="text" id="sahabat-annur-input" placeholder="Tanya tentang Islam...">
            <button id="sahabat-annur-send-btn" aria-label="Kirim">âž¢</button>
        </div>
      </div>
    </div>
    
<div id="qibla-view" class="main-view">
    <div class="view-header">
        <span class="back-button" data-target-view="prayer-times-view">â€¹</span>
        <h2>Arah Kiblat</h2>
    </div>

    <div id="qibla-compass-container">
        <div id="qibla-compass-circle">
            <div id="compass-rose">
                <div class="degree-mark north">U</div>
                <div class="degree-mark east">T</div>
                <div class="degree-mark south">S</div>
                <div class="degree-mark west">B</div>
            </div>
            <div id="qibla-pointer">
                <div class="kaaba-icon">ðŸ•‹</div>
            </div>
            <div id="qibla-lubber-line"></div>
        </div>
    </div>

    <div id="qibla-info-box">
        <p class="direction-degree">Memulai kompas...</p>
        <p class="calibration-info">Untuk hasil akurat, jauhkan dari logam/magnet dan gerakkan ponsel membentuk angka 8 jika perlu.</p>
        <div>
            <button id="qibla-recalibrate-btn">Kalibrasi Ulang</button>
            <button id="qibla-map-btn">Lihat di Peta</button>
        </div>
    </div>

    <div id="qibla-permission-prompt" style="display: none; text-align:center; padding: 2rem;">
        <p style="color:white; margin-bottom: 1rem;">Fitur ini memerlukan izin lokasi dan sensor gerak.</p>
        <button id="qibla-permission-btn" class="modal-action-btn" style="max-width: 200px; margin:auto; background-color: #f9d788; color: #1a3a32;">Mulai</button>
    </div>
</div>
    
      <div id="tasbih-view" class="main-view">
        <div class="view-header">
          <span class="back-button" data-target-view="dzikir-view">â€¹</span>
          <h2 id="tasbih-title">Penghitung Tasbih</h2>
        </div>
        <div class="tasbih-main">
          <div id="tasbih-counter-display">
            <div class="count" id="tasbih-current-count">0</div>
            <div class="target" id="tasbih-target-count">/ 33</div>
          </div>
          <div id="tasbih-text-display">
            <p class="tasbih-arabic"></p>
            <p class="tasbih-latin"></p>
            <p class="tasbih-arti"></p>
          </div>
          <div id="tasbih-tap-area">
            <span class="tap-icon">ðŸ–ï¸</span>
          </div>
          <button id="tasbih-reset-btn">Reset</button>
        </div>
      </div>
    
      <div id="settings-modal" class="full-modal">
        <div class="modal-content">
          <div class="modal-header">
            <h3 data-key="settings_title">Pengaturan</h3>
            <span class="close-button">&times;</span>
          </div>
          <div class="modal-body">
            <div class="settings-item">
              <label for="dark-mode-toggle" data-key="settings_dark_mode">Mode Malam</label>
              <label class="switch"><input type="checkbox" id="dark-mode-toggle"><span class="slider"></span></label>
            </div>
            <div class="settings-item">
              <label for="enable-notifications-btn" data-key="settings_notifications">Notifikasi Adzan</label>
              <button id="enable-notifications-btn">Aktifkan</button>
            </div>
            <div class="settings-item">
              <label for="language-select" data-key="settings_language">Bahasa</label>
              <select name="language" id="language-select" class="custom-select">
                <option value="id">Bahasa Indonesia</option>
                <option value="en">English</option>
                <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Arabic)</option>
                <option value="tr">TÃ¼rkÃ§e (Turkish)</option>
                <option value="fr">FranÃ§ais (French)</option>
                <option value="es">EspaÃ±ol (Spanish)</option>
                <option value="de">Deutsch (German)</option>
                <option value="ru">Ð ÑƒÑÑÐºÐ¸Ð¹ (Russian)</option>
                <option value="ur">Ø§Ø±Ø¯Ùˆ (Urdu)</option>
                <option value="bn">à¦¬à¦¾à¦‚à¦²à¦¾ (Bengali)</option>
              </select>
            </div>

            <div class="settings-group" style="margin-top: 1.5rem; padding: 0; background-color: transparent; box-shadow: none;">
              <div id="adhan-settings-trigger-container">
              </div>
            </div>
    
            <div style="padding: 1rem;">
                <button id="test-alarm-btn" class="modal-action-btn" style="background-color: #dc3545;">
                    Tes Alarm 5 Detik
                </button>
 
            </div>    

            <div style="padding: 1rem; padding-top: 0;">
                <button id="test-sound-btn" class="modal-action-btn" style="background-color: #28a745;">
                    Tes Suara Langsung
                </button>
            </div>

            <div class="settings-group" style="padding: 1rem; margin-top: 1rem;">
              <h4 style="font-size: 1rem; color: var(--header-bg); margin-bottom: 0.75rem; padding-bottom: 0; border: none;">Notifikasi Terlambat?</h4>
              <p style="font-size: 0.85rem; color: var(--text-light); line-height: 1.5; margin-bottom: 1rem;">
                Beberapa merk HP membatasi aplikasi di latar belakang. Jika notifikasi tidak tepat waktu, coba optimalkan.
              </p>
              <button onclick="Android.requestBatteryOptimization()" class="modal-action-btn" style="width: 100%; margin-top: 0;">
                Optimalkan Notifikasi
              </button>
            </div>
            
            <div class="settings-group">
    <h4>Widget Homescreen</h4>
    <p style="font-size: 0.85rem; color: var(--text-light); line-height: 1.5; margin-bottom: 1rem;">
        Tambahkan widget jadwal sholat ke layar utama Anda untuk akses cepat.
    </p>
    <button id="add-widget-btn" class="modal-action-btn" style="width: 100%; margin-top: 0;">
        Tambahkan Widget ke Homescreen
    </button>
</div>
<div class="settings-group">
    <h4>Tampilan Al-Qur'an</h4>
    <div class="settings-item">
        <label for="tajwid-toggle">Tampilkan Warna Tajwid</label>
        <label class="switch">
            <input type="checkbox" id="tajwid-toggle">
            <span class="slider"></span>
        </label>
    </div>
    <p style="font-size: 0.8rem; color: var(--text-light); margin-top: 0.5rem;">
        Aktifkan untuk melihat penanda warna hukum tajwid saat membaca Al-Qur'an.
    </p>

    <div id="tajwid-explanation-box">
        <ul>
            <li>
                <span class="legend-color-box" style="background-color: #e74c3c;"></span>
                <strong>Ghunnah:</strong> Dengung pada huruf Nun (Ù†Ù‘) atau Mim (Ù…Ù‘) yang bertasydid. Dibaca dengan menahan suara 2-3 harakat.
            </li>
            <li>
                <span class="legend-color-box" style="background-color: #3498db;"></span>
                <strong>Ikhfa':</strong> Suara samar dari Nun sukun (Ù†Ù’) atau tanwin (Ù€Ù‹Ù€Ù€Ù€ÙÙ€Ù€Ù€ÙŒ) saat bertemu 15 huruf ikhfa'.
            </li>
            <li>
                <span class="legend-color-box" style="background-color: #2ecc71;"></span>
                <strong>Idgham:</strong> Meleburkan suara Nun sukun (Ù†Ù’) atau tanwin ke huruf setelahnya (ÙŠ, Ù†, Ù…, Ùˆ).
            </li>
            <li>
                <span class="legend-color-box" style="background-color: #f39c12;"></span>
                <strong>Iqlab:</strong> Mengubah suara Nun sukun (Ù†Ù’) atau tanwin menjadi Mim (Ù…) saat bertemu huruf Ba (Ø¨).
            </li>
            <li>
                <span class="legend-color-box" style="background-color: #9b59b6;"></span>
                <strong>Qalqalah:</strong> Pantulan suara pada huruf (Ù‚, Ø·, Ø¨, Ø¬, Ø¯) yang berharakat sukun.
            </li>
        </ul>
    </div>
</div>
<div class="settings-group" style="padding: 1rem; margin-top: 1rem;">
    <h4>Pengaturan Lokasi</h4>
    <p style="font-size: 0.85rem; color: var(--text-light); line-height: 1.5; margin-bottom: 1rem;">
        Gunakan tombol ini jika lokasi Anda berubah atau jadwal sholat terasa tidak akurat.
        <br>
        <em style="color: #d4a017;">
            ðŸŒŸ Mohon diperhatikan: Untuk hasil lokasi yang lebih akurat saat memuat ulang,
            pastikan antum menggunakan <strong>koneksi internet yang stabil</strong> dan <strong>harap mengaktifkan layanan lokasi di perangkat antum.</strong>
        </em>
    </p>
    <button id="refresh-location-btn" class="modal-action-btn" style="width: 100%; margin-top: 0;">
        ðŸ”„ Perbarui Lokasi Saat Ini
    </button>
</div>
<div class="settings-group">
    <h4>Alarm Manual (Native)</h4>
    <p style="font-size: 0.85rem; color: var(--text-light); line-height: 1.5; margin-bottom: 1rem;">
        Gunakan alarm manual ini untuk notifikasi adzan yang lebih andal dan tepat waktu, bahkan saat aplikasi ditutup/paksa.
    </p>
    <div class="settings-item">
        <label for="alarm-toggle-Imsak">Alarm Imsak</label>
        <label class="switch"><input type="checkbox" id="alarm-toggle-Imsak"><span class="slider"></span></label>
    </div>
    <div class="settings-item">
        <label for="alarm-toggle-Fajr">Alarm Subuh</label>
        <label class="switch"><input type="checkbox" id="alarm-toggle-Fajr"><span class="slider"></span></label>
    </div>
    <div class="settings-item">
        <label for="alarm-toggle-Dhuhr">Alarm Dzuhur</label>
        <label class="switch"><input type="checkbox" id="alarm-toggle-Dhuhr"><span class="slider"></span></label>
    </div>
    <div class="settings-item">
        <label for="alarm-toggle-Asr">Alarm Ashar</label>
        <label class="switch"><input type="checkbox" id="alarm-toggle-Asr"><span class="slider"></span></label>
    </div>
    <div class="settings-item">
        <label for="alarm-toggle-Maghrib">Alarm Maghrib</label>
        <label class="switch"><input type="checkbox" id="alarm-toggle-Maghrib"><span class="slider"></span></label>
    </div>
    <div class="settings-item">
        <label for="alarm-toggle-Isha">Alarm Isya</label>
        <label class="switch"><input type="checkbox" id="alarm-toggle-Isha"><span class="slider"></span></label>
    </div>
    <button id="save-manual-alarms-btn" class="modal-action-btn" style="margin-top: 1.5rem;">
        Simpan Pengaturan Alarm
    </button>
</div>
<div class="settings-group">
    <h4>Alarm Dering (Layar Penuh)</h4>
    <p style="font-size: 0.85rem; color: var(--text-light); line-height: 1.5; margin-bottom: 1rem;">
        Gunakan alarm ini untuk dering adzan yang akan menyalakan layar dan berbunyi penuh seperti alarm jam. Sangat direkomendasikan untuk Subuh.
    </p>
    <div class="settings-item">
        <label for="ringing-alarm-toggle-Imsak">Dering Imsak</label>
        <label class="switch"><input type="checkbox" id="ringing-alarm-toggle-Imsak"><span class="slider"></span></label>
    </div>
    <div class="settings-item">
        <label for="ringing-alarm-toggle-Fajr">Dering Subuh</label>
        <label class="switch"><input type="checkbox" id="ringing-alarm-toggle-Fajr"><span class="slider"></span></label>
    </div>
    <div class="settings-item">
        <label for="ringing-alarm-toggle-Dhuhr">Dering Dzuhur</label>
        <label class="switch"><input type="checkbox" id="ringing-alarm-toggle-Dhuhr"><span class="slider"></span></label>
    </div>
    <div class="settings-item">
        <label for="ringing-alarm-toggle-Asr">Dering Ashar</label>
        <label class="switch"><input type="checkbox" id="ringing-alarm-toggle-Asr"><span class="slider"></span></label>
    </div>
    <div class="settings-item">
        <label for="ringing-alarm-toggle-Maghrib">Dering Maghrib</label>
        <label class="switch"><input type="checkbox" id="ringing-alarm-toggle-Maghrib"><span class="slider"></span></label>
    </div>
    <div class="settings-item">
        <label for="ringing-alarm-toggle-Isha">Dering Isya</label>
        <label class="switch"><input type="checkbox" id="ringing-alarm-toggle-Isha"><span class="slider"></span></label>
    </div>
    <button id="save-ringing-alarms-btn" class="modal-action-btn" style="margin-top: 1.5rem;">
        Simpan Pengaturan Dering
    </button>
</div>
<div class="settings-group">
    <h4>Tampilan Alarm</h4>
    <div class="settings-item">
        <label for="popup-alarm-btn">Izinkan Pop-up Alarm</label>
        <button id="popup-alarm-btn" class="custom-select">Buka Pengaturan</button>
    </div>
    <p style="font-size: 0.8rem; color: var(--text-light); margin-top: 0.5rem;">
        Agar layar alarm bisa langsung muncul di atas aplikasi lain saat adzan berkumandang.
    </p>
</div>
<div class="settings-group">
    <h4>Privasi & Iklan</h4>
    <div class="settings-item">
        <label for="adblock-toggle">Blokir Iklan (Beta)</label>
        <label class="switch">
            <input type="checkbox" id="adblock-toggle">
            <span class="slider"></span>
        </label>
    </div>
    <p style="font-size: 0.8rem; color: var(--text-light); margin-top: 0.5rem;">
        Aktifkan untuk mencoba menyembunyikan iklan di dalam WebView. Mungkin tidak memblokir semua iklan.
    </p>
</div>
<div class="settings-group">
    <h4>Jaringan & Koneksi</h4>
    <div class="settings-item">
        <label for="open-dns-settings-btn">DNS Pribadi</label>
        <button id="open-dns-settings-btn" class="custom-select">Buka Pengaturan</button>
    </div>
    <p style="font-size: 0.8rem; color: var(--text-light); margin-top: 0.5rem;">
        Gunakan DNS pemblokir iklan untuk pengalaman browsing yang lebih nyaman di semua aplikasi.
    </p>
</div>


            <div class="settings-group" style="margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid #ddd;">
              <div class="settings-item">
                <label data-key="settings_about">Tentang Aplikasi</label>
                <span>v12.03.06(25)</span>
              </div>
              <div class="detail-app-container">
                <button id="detail-app-btn">Detail Aplikasi</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    
      <div id="single-doa-modal" class="full-modal">
        <div class="modal-content">
          <div class="modal-header">
            <span class="close-button">&times;</span>
            <h3 id="single-doa-modal-title">Detail Doa</h3>
            <span class="action-icon" id="bookmark-doa-btn">â­</span>
          </div>
          <div class="modal-body" id="single-doa-modal-body"></div>
        </div>
      </div>
    
      <div id="dzikir-detail-modal" class="full-modal">
        <div class="modal-content">
          <div class="modal-header">
            <span class="close-button">&times;</span>
            <h3 id="dzikir-detail-modal-title">Detail Dzikir</h3>
          </div>
          <div class="modal-body" id="dzikir-detail-modal-body"></div>
        </div>
      </div>
    
      <div id="adhan-settings-view" class="main-view" style="display: none; padding-top: 1.5rem;">
        <div class="view-header">
          <span class="back-button" id="adhan-settings-back-btn">â€¹</span>
          <h2>Pengaturan Suara Adzan</h2>
        </div>
        <div class="content-body" id="adhan-settings-body">
        </div>
      </div>
    
      <div id="app-detail-view" class="main-view" style="display: none; padding-top: 1.5rem;">
        <div class="view-header">
          <span class="back-button" id="detail-view-back-btn">â€¹</span>
          <h2>Detail Aplikasi</h2>
        </div>
        <div class="content-body" style="padding: 0 1.5rem;">
          <div class="settings-menu-item" data-target-view="privacy-policy-view">
            <span>Kebijakan Privasi</span>
            <span class="arrow">&rsaquo;</span>
          </div>
          <div class="settings-menu-item" data-target-view="terms-of-use-view">
            <span>Ketentuan Penggunaan</span>
            <span class="arrow">&rsaquo;</span>
          </div>
          <div class="settings-menu-item" data-target-view="additional-info-view">
            <span>Informasi Tambahan</span>
            <span class="arrow">&rsaquo;</span>
          </div>
          <div class="settings-menu-item" data-target-view="feedback-view">
            <span>Saran & Masukan</span>
            <span class="arrow">&rsaquo;</span>
          </div>
          <div class="settings-item">
            <label>Versi Aplikasi</label>
            <span>v12.03.06(25)</span>
          </div>
    
          <a href="https://play.google.com/store/apps/details?id=com.Studioofficialridho.annurislamic" target="_blank" class="playstore-btn">
            <svg class="playstore-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M2.57 2.15C2.37 2.27 2.25 2.5 2.25 2.75v18.5c0 .25.12.48.32.6l10.06-10.05L2.57 2.15z" fill="#00c0f3"></path>
              <path d="M14.2 11.25L3.92 21.43c.19.07.4.12.63.12h.02c.26 0 .5-.09.7-.25l3.8-2.61 5.13-5.44z" fill="#4ffab9"></path>
              <path d="M14.2 12.75l-5.13-5.44-3.8-2.61a1.24 1.24 0 0 1-.7-.25h-.02c-.23 0-.44.05-.63.12L14.2 12.75z" fill="#ffda44"></path>
              <path d="M19.7 15.02c.7-.72.7-1.89 0-2.6l-3.32-3.32-2.18 2.31 5.5 3.61z" fill="#ff5555"></path>
              <path d="M14.2 12l-10.1 9.98c.2.12.43.2.68.2a1.2 1.2 0 0 0 .99-.5l12.5-7.18-4.07-4.1z" fill="#ff7043" opacity=".6"></path>
            </svg>
            <span>Unduh di Google PlayStore</span>
          </a>
    
        </div>
      </div>
    
      <div id="privacy-policy-view" class="main-view" style="display: none; padding-top: 1.5rem;">
        <div class="view-header">
          <span class="back-button" data-target-view="app-detail-view">â€¹</span>
          <h2>Kebijakan Privasi</h2>
        </div>
        <div class="content-body">
          <div class="content-card">
            <p><strong>Pembaruan Terakhir: 30 Agustus 2025</strong></p>
            <p>Aplikasi <strong>Annur Islamic</strong> ("kami") berkomitmen untuk melindungi privasi Anda. Kebijakan ini menjelaskan bagaimana kami mengumpulkan, menggunakan, dan melindungi informasi Anda.</p>
          </div>
    
          <div class="content-card">
            <h3 class="content-title"><span class="content-title-icon">ðŸ“</span>Pengumpulan Informasi Lokasi</h3>
            <p>Aplikasi ini mengumpulkan data lokasi geografis Anda (latitude dan longitude) hanya untuk tujuan menghitung waktu sholat yang akurat dan menentukan arah Kiblat. Data ini <strong>tidak pernah disimpan</strong> di server kami atau dibagikan dengan pihak ketiga. Semua perhitungan dilakukan secara lokal di perangkat Anda.</p>
          </div>
    
<div class="content-card">
  <h3 class="content-title">
    <span class="content-title-icon">ðŸ’¾</span>Penyimpanan Lokal
  </h3>
  <p>
    Kami menggunakan penyimpanan lokal di perangkat Anda (localStorage) untuk menyimpan preferensi seperti tema (mode malam), bahasa, pengaturan suara azan, dan data cache jadwal sholat untuk penggunaan offline. Data ini sepenuhnya tetap berada di perangkat Anda, tidak dikirim ke pihak mana pun, baik server kami maupun pihak lainnya.
  </p>
</div>
        </div>
      </div>
    
      <div id="terms-of-use-view" class="main-view" style="display: none; padding-top: 1.5rem;">
        <div class="view-header">
          <span class="back-button" data-target-view="app-detail-view">â€¹</span>
          <h2>Ketentuan Penggunaan</h2>
        </div>
        <div class="content-body">
          <div class="content-card">
            <p>Dengan mengunduh atau menggunakan aplikasi Annur Islamic, Anda secara otomatis menyetujui ketentuan berikut:</p>
            <ul class="styled-list">
              <li>Anda tidak diizinkan untuk menyalin, memodifikasi aplikasi, atau merek dagang kami dengan cara apa pun.</li>
              <li>Aplikasi ini disediakan "sebagaimana adanya". Kami berusaha memastikan keakuratan data, namun tidak memberikan jaminan mutlak. Pengguna disarankan untuk verifikasi silang dengan sumber tepercaya.</li>
              <li>Kami berhak untuk mengubah ketentuan ini kapan saja. Penggunaan aplikasi secara berkelanjutan dianggap sebagai penerimaan Anda terhadap ketentuan baru.</li>
            </ul>
          </div>
        </div>
      </div>
    
      <div id="additional-info-view" class="main-view" style="display: none; padding-top: 1.5rem;">
        <div class="view-header">
          <span class="back-button" data-target-view="app-detail-view">â€¹</span>
          <h2>Informasi Tambahan</h2>
        </div>
        <div class="content-body">
          <div class="content-card">
            <h3 class="content-title"><span class="content-title-icon">ðŸ“Š</span>Sumber Data</h3>
            <ul class="styled-list">
              <li><strong>Waktu Sholat:</strong> Menggunakan API dari Aladhan.com dengan metode kalkulasi ISNA.</li>
              <li><strong>Al-Qur'an:</strong> Teks, terjemahan, dan data surah diambil dari API publik Quran.gading.dev.</li>
              <li><strong>Arah Kiblat:</strong> Dihitung menggunakan koordinat geografis dan data sensor perangkat.</li>
              <li><strong>Lokasi:</strong> Nama kota didapatkan melalui layanan Nominatim (OpenStreetMap).</li>
            </ul>
          </div>
          <div class="content-card">
            <h3 class="content-title"><span class="content-title-icon">ðŸ¤</span>Dukungan</h3>
            <p>Pengembangan aplikasi ini didukung oleh <strong>PT. Medan Mediaga Group</strong>, sebagai bentuk <strong>dukungan aktif</strong> dalam menghadirkan solusi digital Islami yang bermanfaat dan mudah diakses oleh semua kalangan umat islam.</p>
          </div>
            <div class="content-card">
              <h3 class="content-title"><span class="content-title-icon">â¤ï¸</span>Proyek Non-Komersial</h3>
              <p>Aplikasi ini adalah proyek non-komersial, dibuat untuk membantu umat Muslim dalam ibadah sehari-hari. Aplikasi ini sepenuhnya <strong>gratis dan tidak mengandung iklan</strong>.</p>
            </div>
        </div>
      </div>
    
      <div id="feedback-view" class="main-view" style="display: none; padding-top: 1.5rem;">
        <div class="view-header">
          <span class="back-button" data-target-view="app-detail-view">â€¹</span>
          <h2>Saran & Masukan</h2>
        </div>
        <div class="content-body">
          <div class="content-card">
            <h3 class="content-title"><span class="content-title-icon">ðŸ’Œ</span>Hubungi Kami</h3>
            <p>Kami sangat menghargai saran dan masukan dari Anda untuk membuat aplikasi ini menjadi lebih baik. Silakan kirimkan ide, laporan bug, atau masukan lainnya melalui email kepada pengembang.</p>
            <div class="email-link-wrapper">
              <a href="mailto:annurislamic60@gmail.com?subject=Masukan untuk Aplikasi Annur Islamic" class="modal-action-btn" style="text-decoration: none; display: inline-block; width: auto; padding: 0.8rem 1.5rem;">Kirim Email</a>
            </div>
          </div>
        </div>
      </div>
    
      <div id="custom-location-modal" class="full-modal">
        <div class="modal-content permission-modal-content">
          <h3>Butuh Izin Lokasi Anda</h3>
          <p>Aplikasi ini memerlukan akses ke lokasi Anda untuk menampilkan jadwal sholat dan arah kiblat yang akurat. Data lokasi Anda tidak disimpan atau dibagikan.</p>
          <div class="permission-modal-actions">
            <button id="deny-location-btn" class="modal-action-btn deny-btn" style="margin-top: 0;">Nanti Saja</button>
            <button id="allow-location-btn" class="modal-action-btn" style="margin-top: 0;">Izinkan</button>
          </div>
        </div>
      </div>
    
      <div id="custom-notification-modal" class="full-modal">
        <div class="modal-content permission-modal-content">
          <h3>Aktifkan Notifikasi Adzan?</h3>
          <p>Izinkan aplikasi mengirimkan notifikasi agar Anda tidak ketinggalan waktu sholat. Anda dapat mengatur suara dan jadwal notifikasi di menu Pengaturan.</p>
          <div class="permission-modal-actions">
            <button id="deny-notification-btn" class="modal-action-btn deny-btn" style="margin-top: 0;">Lain Kali</button>
            <button id="allow-notification-btn" class="modal-action-btn" style="margin-top: 0;">Aktifkan</button>
          </div>
        </div>
      </div>
    
      <div id="theme-store-modal" class="full-modal">
        <div class="modal-content">
          <div class="modal-header">
            <h3>Toko Tema</h3>
            <span class="close-button">&times;</span>
            <span id="store-user-points">Poin Anda: 0 ðŸ’Ž</span>
          </div>
          <div class="modal-body">
            <p style="font-size: 0.9rem; text-align: center; color: var(--text-light);">Tukarkan poin yang didapat dari kuis dengan tema-tema menarik!</p>
            <div id="theme-grid">
              </div>
          </div>
        </div>
      </div>
      
      <div id="duet-result-modal" class="full-modal">
          <div class="modal-content permission-modal-content">
            <h3 id="duet-winner-text">Hasil Pertandingan!</h3>
            <p id="duet-final-scores" style="margin-bottom: 1.5rem;"></p>
            <div class="permission-modal-actions">
              <button id="duet-play-again-btn" class="modal-action-btn" style="margin-top: 0;">Main Lagi</button>
              <button id="duet-back-to-menu-btn" class="modal-action-btn deny-btn" style="margin-top: 0;">Kembali ke Menu</button>
            </div>
          </div>
      </div>
      
  <div id="individual-result-modal" class="full-modal">
    <div class="modal-content permission-modal-content">
        <h3>ðŸŽ‰ Permainan Selesai! ðŸŽ‰</h3>
        <p id="individual-final-score" style="font-size: 1.2rem; font-weight: 600; margin: 1rem 0;"></p>
        <p id="individual-points-earned" style="margin-bottom: 1.5rem;"></p>
        <div class="permission-modal-actions">
            <button id="individual-back-to-menu-btn" class="modal-action-btn" style="margin-top: 0;">Kembali ke Menu</button>
        </div>
    </div>
</div>

<div id="theme-purchase-modal" class="full-modal">
    <div class="modal-content permission-modal-content">
        <h3>Konfirmasi Pembelian</h3>
        <p id="theme-purchase-info" style="margin-bottom: 1.5rem;"></p>
        <div class="permission-modal-actions">
            <button id="cancel-purchase-btn" class="modal-action-btn deny-btn" style="margin-top: 0;">Batal</button>
            <button id="confirm-purchase-btn" class="modal-action-btn" style="margin-top: 0;">Beli</button>
        </div>
    </div>
</div>    
<div id="theme-success-modal" class="full-modal">
    <div class="modal-content permission-modal-content">
        <h3>âœ… Pembelian Berhasil!</h3>
        <p id="theme-success-info" style="margin-bottom: 1.5rem;"></p>
        <div class="permission-modal-actions">
            <button id="theme-success-ok-btn" class="modal-action-btn" style="margin-top: 0;">Mantap!</button>
        </div>
    </div>
</div>
    <div id="custom-toast-notification" class="custom-toast"></div>
    
      <audio id="audio-notification" src="https://raw.githubusercontent.com/AnnurIslamic/Mp3/main/notifikasi.mp3" preload="auto"></audio>
      <audio id="audio-adhan-fajr" src="https://raw.githubusercontent.com/AnnurIslamic/Mp3/main/adzansubuh.mp3" preload="auto"></audio>
      <audio id="audio-adhan-mishary" src="https://raw.githubusercontent.com/AnnurIslamic/Mp3/main/mishary.mp3" preload="auto"></audio>
      <audio id="audio-adhan-madinah" src="https://raw.githubusercontent.com/AnnurIslamic/Mp3/main/adzankota.mp3" preload="auto"></audio>
      <audio id="murottal-player" preload="auto"></audio>
      
      
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    


</body>
<script>
    // [BARU] Variabel untuk state kuis
    let userPoints = 0;
    let quizScore = 0;
    let currentQuestionIndex = 0;
    let availableQuestions = [];
    
    // [BARU] Variabel untuk state Kuis Duet
    let duetGameState = {
        active: false,
        currentPlayer: 1,
        player1Score: 0,
        player2Score: 0,
        currentRound: 1,
        questionsPerPlayer: 5, // Main 5 ronde per pemain
        questionPool: []
    };
    
    
    // --- DATA ---
    const dzikirData = [
        { id: 'dzikir_1', title: 'Tasbih', subtitle: 'Menyucikan Allah', arabic: 'Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù', latin: 'Subhanallah', arti: 'Maha Suci Allah', target: 33 },
        { id: 'dzikir_2', title: 'Tahmid', subtitle: 'Memuji Allah', arabic: 'Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù', latin: 'Alhamdulillah', arti: 'Segala Puji Bagi Allah', target: 33 },
        { id: 'dzikir_3', title: 'Takbir', subtitle: 'Mengagungkan Allah', arabic: 'Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø£ÙŽÙƒÙ’Ø¨ÙŽØ±Ù', latin: 'Allahu Akbar', arti: 'Allah Maha Besar', target: 33 },
        { id: 'dzikir_4', title: 'Tahlil', subtitle: 'Kalimat Tauhid', arabic: 'Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù', latin: 'La ilaha illallah', arti: 'Tiada Tuhan selain Allah', target: 33 },
        { id: 'dzikir_5', title: 'Istighfar', subtitle: 'Memohon Ampunan', arabic: 'Ø£ÙŽØ³Ù’ØªÙŽØºÙ’ÙÙØ±Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙŽ', latin: 'Astaghfirullah', arti: 'Aku memohon ampun kepada Allah', target: 33 },
        { id: 'dzikir_6', title: 'Salawat Nabi', subtitle: 'Untuk Nabi Muhammad SAW', arabic: 'Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ ØµÙŽÙ„ÙÙ‘ Ø¹ÙŽÙ„ÙŽÙ‰ Ù…ÙØ­ÙŽÙ…ÙŽÙ‘Ø¯Ù ÙˆÙŽØ¹ÙŽÙ„ÙŽÙ‰ Ø¢Ù„Ù Ù…ÙØ­ÙŽÙ…ÙŽÙ‘Ø¯Ù', latin: 'Allahumma salli \'ala Muhammad wa \'ala ali Muhammad', arti: 'Ya Allah, berikanlah rahmat kepada Nabi Muhammad dan keluarga Nabi Muhammad.', target: 33 },
        { id: 'dzikir_7', title: 'Hauqalah', subtitle: 'Pengakuan Kekuatan Allah', arabic: 'Ù„ÙŽØ§ Ø­ÙŽÙˆÙ’Ù„ÙŽ ÙˆÙŽÙ„ÙŽØ§ Ù‚ÙÙˆÙŽÙ‘Ø©ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø¨ÙØ§Ù„Ù„Ù‡Ù', latin: 'La hawla wa la quwwata illa billah', arti: 'Tiada daya dan upaya kecuali dengan kekuatan Allah.', target: 33 }
    ];
    const doaHarianData = [
        { id: 1, title: "Doa Bangun Tidur", subtitle: "Adab memulai hari", arabic: "Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ Ø£ÙŽØ­Ù’ÙŠÙŽØ§Ù†ÙŽØ§ Ø¨ÙŽØ¹Ù’Ø¯ÙŽ Ù…ÙŽØ§ Ø£ÙŽÙ…ÙŽØ§ØªÙŽÙ†ÙŽØ§ ÙˆÙŽØ¥ÙÙ„ÙŽÙŠÙ’Ù‡Ù Ø§Ù„Ù†ÙÙ‘Ø´ÙÙˆØ±Ù", latin: "Alhamdulillahilladzi ahyaanaa ba'da maa amaatanaa wa ilaihin nusyuur", arti: "Segala puji bagi Allah yang telah menghidupkan kami setelah mematikan kami, dan kepada-Nya lah kami akan dibangkitkan." },
        { id: 2, title: "Doa Masuk Toilet", subtitle: "Memohon perlindungan", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ø®ÙØ¨ÙØ«Ù ÙˆÙŽØ§Ù„Ù’Ø®ÙŽØ¨ÙŽØ§Ø¦ÙØ«Ù", latin: "Allahumma innii a'uudzubika minal khubutsi wal khabaaitsi", arti: "Ya Allah, sesungguhnya aku berlindung kepada-Mu dari setan laki-laki dan setan perempuan." },
        { id: 3, title: "Doa Keluar Toilet", subtitle: "Memohon ampunan", arabic: "ØºÙÙÙ’Ø±ÙŽØ§Ù†ÙŽÙƒÙŽ", latin: "Ghufraanaka", arti: "Aku memohon ampunan-Mu." },
        { id: 4, title: "Doa Sebelum Wudhu", subtitle: "Niat bersuci", arabic: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù", latin: "Bismillah", arti: "Dengan menyebut nama Allah." },
        { id: 5, title: "Doa Setelah Wudhu", subtitle: "Menyempurnakan wudhu", arabic: "Ø£ÙŽØ´Ù’Ù‡ÙŽØ¯Ù Ø£ÙŽÙ†Ù’ Ù„Ø§ÙŽ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„Ø§ÙŽÙ‘ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽØ­Ù’Ø¯ÙŽÙ‡Ù Ù„Ø§ÙŽ Ø´ÙŽØ±ÙÙŠÙƒÙŽ Ù„ÙŽÙ‡Ù ÙˆÙŽØ£ÙŽØ´Ù’Ù‡ÙŽØ¯Ù Ø£ÙŽÙ†ÙŽÙ‘ Ù…ÙØ­ÙŽÙ…ÙŽÙ‘Ø¯Ù‹Ø§ Ø¹ÙŽØ¨Ù’Ø¯ÙÙ‡Ù ÙˆÙŽØ±ÙŽØ³ÙÙˆÙ„ÙÙ‡Ù", latin: "Asyhadu an laa ilaaha illallaah wahdahu laa syariika lah, wa asyhadu anna muhammadan 'abduhu wa rasuuluh", arti: "Aku bersaksi bahwa tiada Tuhan selain Allah semata, tiada sekutu bagi-Nya, dan aku bersaksi bahwa Muhammad adalah hamba dan utusan-Nya." },
        { id: 6, title: "Doa Mengenakan Pakaian", subtitle: "Mensyukuri nikmat", arabic: "Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ ÙƒÙŽØ³ÙŽØ§Ù†ÙÙŠ Ù‡ÙŽØ°ÙŽØ§ ÙˆÙŽØ±ÙŽØ²ÙŽÙ‚ÙŽÙ†ÙÙŠÙ‡Ù Ù…ÙÙ†Ù’ ØºÙŽÙŠÙ’Ø±Ù Ø­ÙŽÙˆÙ’Ù„Ù Ù…ÙÙ†ÙÙ‘ÙŠ ÙˆÙŽÙ„Ø§ÙŽ Ù‚ÙÙˆÙŽÙ‘Ø©Ù", latin: "Alhamdulillahilladzi kasaanii hadzaa wa razaqaniihi min ghairi haulin minnii wa laa quwwatin", arti: "Segala puji bagi Allah yang telah memberiku pakaian ini dan menganugerahkannya kepadaku tanpa daya dan kekuatan dariku." },
        { id: 7, title: "Doa Melepas Pakaian", subtitle: "Adab melepas pakaian", arabic: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù", latin: "Bismillah", arti: "Dengan menyebut nama Allah." },
        { id: 8, title: "Doa Keluar Rumah", subtitle: "Memohon perlindungan", arabic: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ØªÙŽÙˆÙŽÙƒÙŽÙ‘Ù„Ù’ØªÙ Ø¹ÙŽÙ„ÙŽÙ‰ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ù„Ø§ÙŽ Ø­ÙŽÙˆÙ’Ù„ÙŽ ÙˆÙŽÙ„Ø§ÙŽ Ù‚ÙÙˆÙŽÙ‘Ø©ÙŽ Ø¥ÙÙ„Ø§ÙŽÙ‘ Ø¨ÙØ§Ù„Ù„ÙŽÙ‘Ù‡Ù", latin: "Bismillahi tawakkaltu 'alallah, laa haula wa laa quwwata illaa billaah", arti: "Dengan nama Allah, aku bertawakal kepada Allah, tiada daya dan kekuatan kecuali dengan pertolongan Allah." },
        { id: 9, title: "Doa Masuk Rumah", subtitle: "Memohon kebaikan", arabic: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽÙ„ÙŽØ¬Ù’Ù†ÙŽØ§ ÙˆÙŽØ¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø®ÙŽØ±ÙŽØ¬Ù’Ù†ÙŽØ§ ÙˆÙŽØ¹ÙŽÙ„ÙŽÙ‰ Ø±ÙŽØ¨ÙÙ‘Ù†ÙŽØ§ ØªÙŽÙˆÙŽÙƒÙŽÙ‘Ù„Ù’Ù†ÙŽØ§", latin: "Bismillahi walajnaa wa bismillahi kharajnaa wa 'alaa rabbinaa tawakkalnaa", arti: "Dengan nama Allah kami masuk, dan dengan nama Allah kami keluar, dan kepada Tuhan kami, kami bertawakal." },
        { id: 10, title: "Doa Pergi ke Masjid", subtitle: "Langkah menuju kebaikan", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§Ø¬Ù’Ø¹ÙŽÙ„Ù’ ÙÙÙŠ Ù‚ÙŽÙ„Ù’Ø¨ÙÙŠ Ù†ÙÙˆØ±Ù‹Ø§ ÙˆÙŽÙÙÙŠ Ù„ÙØ³ÙŽØ§Ù†ÙÙŠ Ù†ÙÙˆØ±Ù‹Ø§...", latin: "Allahummaj 'al fii qalbii nuuran wa fii lisaanii nuuran...", arti: "Ya Allah, jadikanlah cahaya di hatiku, cahaya di lidahku..." },
        { id: 11, title: "Doa Masuk Masjid", subtitle: "Memohon rahmat", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§ÙÙ’ØªÙŽØ­Ù’ Ù„ÙÙŠ Ø£ÙŽØ¨Ù’ÙˆÙŽØ§Ø¨ÙŽ Ø±ÙŽØ­Ù’Ù…ÙŽØªÙÙƒÙŽ", latin: "Allahummaftah lii abwaaba rahmatika", arti: "Ya Allah, bukakanlah untukku pintu-pintu rahmat-Mu." },
        { id: 12, title: "Doa Keluar Masjid", subtitle: "Memohon karunia", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽsÙ’Ø£ÙŽÙ„ÙÙƒÙŽ Ù…ÙÙ†Ù’ ÙÙŽØ¶Ù’Ù„ÙÙƒÙŽ", latin: "Allahumma innii as'aluka min fadhlik", arti: "Ya Allah, sesungguhnya aku memohon kepada-Mu dari karunia-Mu." },
        { id: 13, title: "Doa Sebelum Makan", subtitle: "Agar makanan berkah", arabic: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù", latin: "Bismillah", arti: "Dengan menyebut nama Allah." },
        { id: 14, title: "Doa Sesudah Makan", subtitle: "Tanda bersyukur", arabic: "Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ Ø£ÙŽØ·Ù’Ø¹ÙŽÙ…ÙŽÙ†ÙÙŠ Ù‡ÙŽØ°ÙŽØ§ ÙˆÙŽØ±ÙŽZÙŽÙ‚ÙŽÙ†ÙÙŠÙ‡Ù Ù…ÙÙ†Ù’ ØºÙŽÙŠÙ’Ø±Ù Ø­ÙŽÙˆÙ’Ù„Ù Ù…ÙÙ†ÙÙ‘ÙŠ ÙˆÙŽÙ„Ø§ÙŽ Ù‚ÙÙˆÙŽÙ‘Ø©Ù", latin: "Alhamdulillahilladzi ath'amanii hadzaa wa razaqaniihi min ghairi haulin minnii wa laa quwwatin", arti: "Segala puji bagi Allah yang telah memberiku makanan ini dan menganugerahkannya kepadaku tanpa daya dan kekuatan dariku." },
        { id: 15, title: "Doa Ketika Lupa Basmalah", subtitle: "Jika lupa di awal", arabic: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø£ÙŽÙˆÙŽÙ‘Ù„ÙŽÙ‡Ù ÙˆÙŽØ¢Ø®ÙØ±ÙŽÙ‡Ù", latin: "Bismillahi awwalahu wa aakhirahu", arti: "Dengan nama Allah di awal dan di akhirnya." },
        { id: 16, title: "Doa Minum Air Zamzam", subtitle: "Memohon kebaikan", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ³Ù’Ø£ÙŽÙ„ÙÙƒÙŽ Ø¹ÙÙ„Ù’Ù…Ù‹Ø§ Ù†ÙŽØ§ÙÙØ¹Ù‹Ø§ ÙˆÙŽØ±ÙØ²Ù’Ù‚Ù‹Ø§ ÙˆÙŽØ§Ø³ÙØ¹Ù‹Ø§ ÙˆÙŽØ´ÙÙÙŽØ§Ø¡Ù‹ Ù…ÙÙ†Ù’ ÙƒÙÙ„ÙÙ‘ Ø¯ÙŽØ§Ø¡Ù", latin: "Allahumma innii as'aluka 'ilman naafi'an, wa rizqan waasi'an, wasyifaa'an min kulli daa'in", arti: "Ya Allah, aku memohon kepada-Mu ilmu yang bermanfaat, rezeki yang luas, dan kesembuhan dari segala penyakit." },
        { id: 17, title: "Doa Berbuka Puasa", subtitle: "Saat berbuka puasa", arabic: "Ø°ÙŽÙ‡ÙŽØ¨ÙŽ Ø§Ù„Ø¸ÙŽÙ‘Ù…ÙŽØ£Ù ÙˆÙŽØ§Ø¨Ù’ØªÙŽÙ„ÙŽÙ‘ØªÙ Ø§Ù„Ù’Ø¹ÙØ±ÙÙˆÙ‚Ù ÙˆÙŽØ«ÙŽØ¨ÙŽØªÙŽ Ø§Ù„Ø£ÙŽØ¬Ù’Ø±Ù Ø¥ÙÙ†Ù’ Ø´ÙŽØ§Ø¡ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù", latin: "Dzahabazh zhoma'u wabtallatil 'uruuqu wa tsabatal ajru insyaallah", arti: "Telah hilang dahaga, telah basah urat-urat, dan telah tetap pahala, insya Allah." },
        { id: 18, title: "Doa Sebelum Tidur", subtitle: "Adab mengakhiri hari", arabic: "Ø¨ÙØ§Ø³Ù’Ù…ÙÙƒÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø£ÙŽÙ…ÙÙˆØªÙ ÙˆÙŽØ£ÙŽØ­Ù’ÙŠÙŽØ§", latin: "Bismikallahumma amuutu wa ahyaa", arti: "Dengan nama-Mu ya Allah aku mati dan aku hidup." },
        { id: 19, title: "Doa Ketika Mimpi Buruk", subtitle: "Memohon perlindungan", arabic: "Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽÙ„ÙÙ…ÙŽØ§ØªÙ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø§Ù„ØªÙŽÙ‘Ø§Ù…ÙŽÙ‘Ø§ØªÙ Ù…ÙÙ†Ù’ ØºÙŽØ¶ÙŽØ¨ÙÙ‡Ù ÙˆÙŽØ¹ÙÙ‚ÙŽØ§Ø¨ÙÙ‡Ù ÙˆÙŽØ´ÙŽØ±ÙÙ‘ Ø¹ÙØ¨ÙŽØ§Ø¯ÙÙ‡Ù...", latin: "A'uudzu bikalimaatillaahit taammaati min ghadhabihi wa 'iqaabihi wa syarri 'ibaadihi...", arti: "Aku berlindung dengan kalimat-kalimat Allah yang sempurna dari kemurkaan-Nya, siksa-Nya, dan kejahatan hamba-hamba-Nya..." },
        { id: 20, title: "Doa Naik Kendaraan", subtitle: "Memohon keselamatan", arabic: "Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ Ø³ÙŽØ®ÙŽÙ‘Ø±ÙŽ Ù„ÙŽÙ†ÙŽØ§ Ù‡ÙŽØ°ÙŽØ§ ÙˆÙŽÙ…ÙŽØ§ ÙƒÙÙ†ÙŽÙ‘Ø§ Ù„ÙŽÙ‡Ù Ù…ÙÙ‚Ù’Ø±ÙÙ†ÙÙŠÙ†ÙŽ", latin: "Subhaanalladzii sakhkhara lanaa hadzaa wa maa kunnaa lahu muqriniin", arti: "Maha Suci Dzat yang telah menundukkan semua ini bagi kami padahal kami sebelumnya tidak mampu menguasainya." },
        { id: 21, title: "Doa Safar (Bepergian)", subtitle: "Memohon kemudahan", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ù‡ÙŽÙˆÙÙ‘Ù†Ù’ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù†ÙŽØ§ Ø³ÙŽÙÙŽØ±ÙŽÙ†ÙŽØ§ Ù‡ÙŽØ°ÙŽØ§ ÙˆÙŽØ§Ø·Ù’ÙˆÙ Ø¹ÙŽÙ†ÙŽÙ‘Ø§ Ø¨ÙØ¹Ù’Ø¯ÙŽÙ‡Ù", latin: "Allahumma hawwin 'alainaa safaranaa hadzaa waathwi 'annaa bu'dahu", arti: "Ya Allah, mudahkanlah perjalanan kami ini, dan dekatkanlah jaraknya bagi kami." },
        { id: 22, title: "Doa Tiba di Tujuan", subtitle: "Rasa syukur", arabic: "Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ Ø³ÙŽÙ„ÙŽÙ‘Ù…ÙŽÙ†ÙÙŠ", latin: "Alhamdulillahilladzi sallamanii", arti: "Segala puji bagi Allah yang telah menyelamatkanku." },
        { id: 23, title: "Doa Menjenguk Orang Sakit", subtitle: "Mendoakan kesembuhan", arabic: "Ù„Ø§ÙŽ Ø¨ÙŽØ£Ù’Ø³ÙŽ Ø·ÙŽÙ‡ÙÙˆØ±ÙŒ Ø¥ÙÙ†Ù’ Ø´ÙŽØ§Ø¡ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù", latin: "Laa ba'sa thahuurun insyaallah", arti: "Tidak mengapa, semoga menjadi pembersih (dosa), insya Allah." },
        { id: 24, title: "Doa Ketika Hujan Turun", subtitle: "Memohon hujan bermanfaat", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ ØµÙŽÙŠÙÙ‘Ø¨Ù‹Ø§ Ù†ÙŽØ§ÙÙØ¹Ù‹Ø§", latin: "Allahumma shayyiban naafi'an", arti: "Ya Allah, (jadikanlah hujan ini) hujan yang bermanfaat." },
        { id: 25, title: "Doa Setelah Hujan", subtitle: "Rahmat dari Allah", arabic: "Ù…ÙØ·ÙØ±Ù’Ù†ÙŽØ§ Ø¨ÙÙÙŽØ¶Ù’Ù„Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽØ±ÙŽØ­Ù’Ù…ÙŽØªÙÙ‡Ù", latin: "Muthirnaa bifadhlillahi wa rahmatihi", arti: "Kita diberi hujan karena karunia dan rahmat Allah." },
        { id: 26, title: "Doa Melihat Petir", subtitle: "Tanda kebesaran Allah", arabic: "Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ ÙŠÙØ³ÙŽØ¨ÙÙ‘Ø­Ù Ø§Ù„Ø±ÙŽÙ‘Ø¹Ù’Ø¯Ù Ø¨ÙØ­ÙŽÙ…Ù’Ø¯ÙÙ‡Ù ÙˆÙŽØ§Ù„Ù’Ù…ÙŽÙ„Ø§ÙŽØ¦ÙÙƒÙŽØ©Ù Ù…ÙÙ†Ù’ Ø®ÙÙŠÙÙŽØªÙÙ‡Ù", latin: "Subhaanalladzii yusabbihur ra'du bihamdihi wal malaa-ikatu min khiifatihi", arti: "Maha Suci Dzat yang petir bertasbih dengan memuji-Nya, dan para malaikat pun (bertasbih) karena takut kepada-Nya." },
        { id: 27, title: "Doa Ketika Angin Kencang", subtitle: "Memohon kebaikan", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ³Ù’Ø£ÙŽÙ„ÙÙƒÙŽ Ø®ÙŽÙŠÙ’Ø±ÙŽÙ‡ÙŽØ§ ÙˆÙŽØ£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽ Ù…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘Ù‡ÙŽØ§", latin: "Allahumma innii as'aluka khairahaa wa a'uudzu bika min syarrihaa", arti: "Ya Allah, aku memohon kepada-Mu kebaikannya dan aku berlindung kepada-Mu dari keburukannya." },
        { id: 28, title: "Doa Bercermin", subtitle: "Agar akhlak baik", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ ÙƒÙŽÙ…ÙŽØ§ Ø­ÙŽØ³ÙŽÙ‘Ù†Ù’ØªÙŽ Ø®ÙŽÙ„Ù’Ù‚ÙÙŠ ÙÙŽØ­ÙŽØ³ÙÙ‘Ù†Ù’ Ø®ÙÙ„ÙÙ‚ÙÙŠ", latin: "Allahumma kamaa hassanta khalqii fahassin khuluqii", arti: "Ya Allah, sebagaimana Engkau telah memperindah rupaku, maka perindahlah akhlakku." },
        { id: 29, title: "Doa untuk Kedua Orang Tua", subtitle: "Tanda bakti", arabic: "Ø±ÙŽØ¨ÙÙ‘ Ø§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙŠ ÙˆÙŽÙ„ÙÙˆÙŽØ§Ù„ÙØ¯ÙŽÙŠÙŽÙ‘ ÙˆÙŽØ§Ø±Ù’Ø­ÙŽÙ…Ù’Ù‡ÙÙ…ÙŽØ§ ÙƒÙŽÙ…ÙŽØ§ Ø±ÙŽØ¨ÙŽÙ‘ÙŠÙŽØ§Ù†ÙÙŠ ØµÙŽØºÙÙŠØ±Ù‹Ø§", latin: "Rabbighfirlii wa liwaalidayya warhamhumaa kamaa rabbayaanii shaghiiran", arti: "Wahai Tuhanku, ampunilah aku dan kedua orang tuaku, dan sayangilah mereka sebagaimana mereka telah menyayangiku di waktu kecil." },
        { id: 30, title: "Doa Kebaikan Dunia Akhirat", subtitle: "Doa sapu jagat", arabic: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¢ØªÙÙ†ÙŽØ§ ÙÙÙŠ Ø§Ù„Ø¯ÙÙ‘Ù†Ù’ÙŠÙŽØ§ Ø­ÙŽØ³ÙŽÙ†ÙŽØ©Ù‹ ÙˆÙŽÙÙÙŠ Ø§Ù„Ø¢Ø®ÙØ±ÙŽØ©Ù Ø­ÙŽØ³ÙŽÙ†ÙŽØ©Ù‹ ÙˆÙŽÙ‚ÙÙ†ÙŽØ§ Ø¹ÙŽØ°ÙŽØ§Ø¨ÙŽ Ø§Ù„Ù†ÙŽÙ‘Ø§Ø±Ù", latin: "Rabbanaa aatinaa fiddunyaa hasanatan wa fil aakhirati hasanatan wa qinaa 'adzaabannaar", arti: "Ya Tuhan kami, berilah kami kebaikan di dunia dan kebaikan di akhirat, dan peliharalah kami dari siksa neraka." },
        { id: 31, title: "Doa Sebelum Belajar", subtitle: "Memohon ilmu", arabic: "Ø±ÙŽØ¨ÙÙ‘ Ø²ÙØ¯Ù’Ù†ÙÙŠ Ø¹ÙÙ„Ù’Ù…Ù‹Ø§", latin: "Rabbi zidnii 'ilman", arti: "Wahai Tuhanku, tambahkanlah ilmu kepadaku." },
        { id: 32, title: "Doa Sesudah Belajar", subtitle: "Agar ilmu bermanfaat", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§Ù†Ù’ÙÙŽØ¹Ù’Ù†ÙÙŠ Ø¨ÙÙ…ÙŽØ§ Ø¹ÙŽÙ„ÙŽÙ‘Ù…Ù’ØªÙŽÙ†ÙÙŠ ÙˆÙŽØ¹ÙŽÙ„ÙÙ‘Ù…Ù’Ù†ÙÙŠ Ù…ÙŽØ§ ÙŠÙŽÙ†Ù’ÙÙŽØ¹ÙÙ†ÙÙŠ ÙˆÙŽØ²ÙØ¯Ù’Ù†ÙÙŠ Ø¹ÙÙ„Ù’Ù…Ù‹Ø§", latin: "Allahummanfa'nii bimaa 'allamtanii wa 'allimnii maa yanfa'unii wa zidnii 'ilman", arti: "Ya Allah, berilah manfaat atas apa yang telah Engkau ajarkan kepadaku, ajarilah aku apa yang bermanfaat bagiku, dan tambahkanlah ilmu kepadaku." },
        { id: 33, title: "Doa Penutup Majelis", subtitle: "Kaffaratul Majlis", arabic: "Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽÙƒÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ ÙˆÙŽØ¨ÙØ­ÙŽÙ…Ù’Ø¯ÙÙƒÙŽ Ø£ÙŽØ´Ù’Ù‡ÙŽØ¯Ù Ø£ÙŽÙ†Ù’ Ù„Ø§ÙŽ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„Ø§ÙŽÙ‘ Ø£ÙŽÙ†Ù’ØªÙŽ Ø£ÙŽØ³Ù’ØªÙŽØºÙ’ÙÙØ±ÙÙƒÙŽ ÙˆÙŽØ£ÙŽØªÙÙˆØ¨Ù Ø¥ÙÙ„ÙŽÙŠÙ’ÙƒÙŽ", latin: "Subhaanakallahumma wa bihamdika, asyhadu an laa ilaaha illaa anta, astaghfiruka wa atuubu ilaika", arti: "Maha Suci Engkau ya Allah, dan dengan memuji-Mu, aku bersaksi bahwa tiada Tuhan selain Engkau, aku memohon ampun dan bertaubat kepada-Mu." },
        { id: 34, title: "Doa Ketika Bersin", subtitle: "Mengucap syukur", arabic: "Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù", latin: "Alhamdulillah", arti: "Segala puji bagi Allah." },
        { id: 35, title: "Jawaban Ketika Orang Bersin", subtitle: "Mendoakan saudara", arabic: "ÙŠÙŽØ±Ù’Ø­ÙŽÙ…ÙÙƒÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù", latin: "Yarhamukallah", arti: "Semoga Allah merahmatimu." },
        { id: 36, title: "Doa Ketika Marah", subtitle: "Meredam amarah", arabic: "Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙØ§Ù„Ù„ÙŽÙ‘Ù‡Ù Ù…ÙÙ†ÙŽ Ø§Ù„Ø´ÙŽÙ‘ÙŠÙ’Ø·ÙŽØ§Ù†Ù Ø§Ù„Ø±ÙŽÙ‘Ø¬ÙÙŠÙ…Ù", latin: "A'uudzubillaahi minasy syaithaanir rajiim", arti: "Aku berlindung kepada Allah dari setan yang terkutuk." },
        { id: 37, title: "Doa Masuk Pasar", subtitle: "Memohon kebaikan pasar", arabic: "Ù„Ø§ÙŽ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„Ø§ÙŽÙ‘ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽØ­Ù’Ø¯ÙŽÙ‡Ù Ù„Ø§ÙŽ Ø´ÙŽØ±ÙÙŠÙƒÙŽ Ù„ÙŽÙ‡Ù...", latin: "Laa ilaaha illallaah wahdahu laa syariika lah...", arti: "Tiada Tuhan selain Allah semata, tiada sekutu bagi-Nya..." },
        { id: 38, title: "Doa Ketika Tertimpa Musibah", subtitle: "Kalimat istirja'", arabic: "Ø¥ÙÙ†ÙŽÙ‘Ø§ Ù„ÙÙ„ÙŽÙ‘Ù‡Ù ÙˆÙŽØ¥ÙÙ†ÙŽÙ‘Ø§ Ø¥ÙÙ„ÙŽÙŠÙ’Ù‡Ù Ø±ÙŽØ§Ø¬ÙØ¹ÙÙˆÙ†ÙŽ", latin: "Innaa lillaahi wa innaa ilaihi raaji'uun", arti: "Sesungguhnya kami milik Allah dan kepada-Nya lah kami akan kembali." },
        { id: 39, title: "Doa untuk Pengantin Baru", subtitle: "Mendoakan keberkahan", arabic: "Ø¨ÙŽØ§Ø±ÙŽÙƒÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ù„ÙŽÙƒÙŽ ÙˆÙŽØ¨ÙŽØ§Ø±ÙŽÙƒÙŽ Ø¹ÙŽÙ„ÙŽÙŠÙ’ÙƒÙŽ ÙˆÙŽØ¬ÙŽÙ…ÙŽØ¹ÙŽ Ø¨ÙŽÙŠÙ’Ù†ÙŽÙƒÙÙ…ÙŽØ§ ÙÙÙŠ Ø®ÙŽÙŠÙ’Ø±Ù", latin: "Baarakallahu laka wa baaraka 'alaika wa jama'a bainakumaa fii khairin", arti: "Semoga Allah memberkahimu, dan memberkahi atasmu, dan mengumpulkan kalian berdua dalam kebaikan." },
        { id: 40, title: "Doa Ziarah Kubur", subtitle: "Salam kepada ahli kubur", arabic: "Ø§Ù„Ø³ÙŽÙ‘Ù„Ø§ÙŽÙ…Ù Ø¹ÙŽÙ„ÙŽÙ‰ Ø£ÙŽÙ‡Ù’Ù„Ù Ø§Ù„Ø¯ÙÙ‘ÙŠÙŽØ§Ø±Ù Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙŠÙ†ÙŽ ÙˆÙŽØ§Ù„Ù’Ù…ÙSÙ’Ù„ÙÙ…ÙÙŠÙ†ÙŽ...", latin: "Assalaamu 'ala ahlid diyaari minal mu'miniina wal muslimiin...", arti: "Keselamatan atas penghuni kubur dari kaum mukminin dan muslimin..." },
        { id: 41, title: "Doa Melihat Hilal", subtitle: "Menyambut bulan baru", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø£ÙŽÙƒÙ’Ø¨ÙŽØ±ÙØŒ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø£ÙŽÙ‡ÙÙ„ÙŽÙ‘Ù‡Ù Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù†ÙŽØ§ Ø¨ÙØ§Ù„Ù’YÙÙ…Ù’Ù†Ù ÙˆÙŽØ§Ù„Ø¥ÙÙŠÙ…ÙŽØ§Ù†Ù ÙˆÙŽØ§Ù„Ø³ÙŽÙ‘Ù„Ø§ÙŽÙ…ÙŽØ©Ù ÙˆÙŽØ§Ù„Ø¥ÙØ³Ù’Ù„Ø§ÙŽÙ…Ù", latin: "Allahu Akbar, Allahumma ahillahu 'alainaa bil yumni wal iimaani wassalaamati wal islaam", arti: "Allah Maha Besar, ya Allah, tampakkanlah bulan itu kepada kami dengan membawa keberkahan dan keimanan, keselamatan dan Islam." },
        { id: 42, title: "Doa Agar Diberi Kesabaran", subtitle: "Memohon keteguhan", arabic: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø£ÙŽÙÙ’Ø±ÙØºÙ’ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù†ÙŽØ§ ØµÙŽØ¨Ù’Ø±Ù‹Ø§ ÙˆÙŽØ«ÙŽØ¨ÙÙ‘ØªÙ’ Ø£ÙŽÙ‚Ù’Ø¯ÙŽØ§Ù…ÙŽÙ†ÙŽØ§", latin: "Rabbanaa afrigh 'alainaa shabran wa tsabbit aqdaamanaa", arti: "Ya Tuhan kami, limpahkanlah kesabaran kepada kami dan kukuhkanlah pendirian kami." },
        { id: 43, title: "Doa Mohon Petunjuk", subtitle: "Meminta bimbingan", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ³Ù’Ø£ÙŽÙ„ÙÙƒÙŽ Ø§Ù„Ù’Ù‡ÙØ¯ÙŽÙ‰ ÙˆÙŽØ§Ù„ØªÙÙ‘Ù‚ÙŽÙ‰ ÙˆÙŽØ§Ù„Ù’Ø¹ÙŽÙÙŽØ§ÙÙŽ ÙˆÙŽØ§Ù„Ù’GÙÙ†ÙŽÙ‰", latin: "Allahumma innii as'alukal hudaa wattuqaa wal 'afaafa wal ghinaa", arti: "Ya Allah, aku memohon kepada-Mu petunjuk, ketakwaan, kesucian diri, dan kecukupan." },
        { id: 44, title: "Doa Terhindar dari Sifat Malas", subtitle: "Memohon semangat", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ø¹ÙŽØ¬Ù’Ø²Ù ÙˆÙŽØ§Ù„Ù’ÙƒÙŽØ³ÙŽÙ„Ù", latin: "Allahumma innii a'uudzubika minal 'ajzi wal kasali", arti: "Ya Allah, aku berlindung kepada-Mu dari kelemahan dan kemalasan." },
        { id: 45, title: "Doa Agar Diteguhkan Hati", subtitle: "Istiqamah dalam iman", arabic: "ÙŠÙŽØ§ Ù…ÙÙ‚ÙŽÙ„ÙÙ‘Ø¨ÙŽ Ø§Ù„Ù’Ù‚ÙÙ„ÙÙˆØ¨Ù Ø«ÙŽØ¨ÙÙ‘ØªÙ’ Ù‚ÙŽÙ„Ù’Ø¨ÙÙŠ Ø¹ÙŽÙ„ÙŽÙ‰ dÙÙŠÙ†ÙÙƒÙŽ", latin: "Yaa muqallibal quluub, tsabbit qalbii 'alaa diinik", arti: "Wahai Dzat yang membolak-balikkan hati, teguhkanlah hatiku di atas agama-Mu." },
        { id: 46, title: "Doa Memohon Ampunan & Rahmat", subtitle: "Permohonan ampunan", arabic: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¸ÙŽÙ„ÙŽÙ…Ù’Ù†ÙŽØ§ Ø£ÙŽÙ†Ù’ÙÙSÙŽÙ†ÙŽØ§ ÙˆÙŽØ¥ÙÙ†Ù’ Ù„ÙŽÙ…Ù’ ØªÙŽØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ†ÙŽØ§ ÙˆÙŽØªÙŽØ±Ù’Ø­ÙŽÙ…Ù’Ù†ÙŽØ§ Ù„ÙŽÙ†ÙŽÙƒÙÙˆÙ†ÙŽÙ†ÙŽÙ‘ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ø®ÙŽØ§Ø³ÙØ±ÙÙŠÙ†ÙŽ", latin: "Rabbanaa zhalamnaa anfusanaa wa illam taghfirlanaa wa tarhamnaa lanakuunanna minal khaasiriin", arti: "Ya Tuhan kami, kami telah menzalimi diri kami sendiri, dan jika Engkau tidak mengampuni kami dan memberi rahmat kepada kami, niscaya kami termasuk orang-orang yang rugi." },
        { id: 47, title: "Doa Saat Sulit Tidur", subtitle: "Agar tidur nyenyak", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ ØºÙŽØ§Ø±ÙŽØªÙ Ø§Ù„Ù†ÙÙ‘Ø¬ÙÙˆÙ…Ù ÙˆÙŽÙ‡ÙŽØ¯ÙŽØ£ÙŽØªÙ Ø§Ù„Ù’Ø¹ÙÙŠÙÙˆÙ†Ù...", latin: "Allahumma ghaaratinnujuumu wa hada'atil 'uyuun...", arti: "Ya Allah, bintang-bintang telah terbenam, mata-mata telah terpejam..." },
        { id: 48, title: "Doa Ketika Memulai Pekerjaan", subtitle: "Memohon kelancaran", arabic: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽSÙ’Ø£ÙŽÙ„ÙÙƒÙŽ Ù…ÙÙ†Ù’ Ø®ÙŽÙŠÙ’Ø±Ù Ù‡ÙŽØ°ÙŽØ§ Ø§Ù„Ù’Ø¹ÙŽÙ…ÙŽÙ„Ù ÙˆÙŽØ®ÙŽÙŠÙ’Ø±Ù Ù…ÙŽØ§ ÙÙÙŠÙ‡Ù", latin: "Allahumma innii as'aluka min khairi hadzal 'amali wa khairi maa fiihi", arti: "Ya Allah, aku memohon kepada-Mu kebaikan pekerjaan ini dan kebaikan yang ada di dalamnya." },
        { id: 49, title: "Doa Setelah Selesai Bekerja", subtitle: "Rasa syukur", arabic: "Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ Ø¨ÙÙ†ÙØ¹Ù’Ù…ÙŽØªÙÙ‡Ù ØªÙŽØªÙÙ…ÙÙ‘ Ø§Ù„ØµÙŽÙ‘Ø§Ù„ÙØ­ÙŽØ§ØªÙ", latin: "Alhamdulillahilladzi bini'matihi tatimmush shaalihaat", arti: "Segala puji bagi Allah yang dengan nikmat-Nya sempurnalah segala kebaikan." },
        { id: 50, title: "Doa Ketika Mendengar Kabar Baik", subtitle: "Ekspresi kebahagiaan", arabic: "Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ Ø¨ÙÙ†ÙØ¹Ù’Ù…ÙŽØªÙÙ‡Ù ØªÙŽØªÙÙ…ÙÙ‘ Ø§Ù„ØµÙŽÙ‘Ø§Ù„ÙØ­ÙŽØ§ØªÙ", latin: "Alhamdulillahilladzi bini'matihi tatimmush shaalihaat", arti: "Segala puji bagi Allah yang dengan nikmat-Nya sempurnalah segala kebaikan." },
        { id: 51, title: "Doa Ketika Mendengar Kabar Buruk", subtitle: "Menjaga kesabaran", arabic: "Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù Ø¹ÙŽÙ„ÙŽÙ‰ ÙƒÙÙ„ÙÙ‘ Ø­ÙŽØ§Ù„Ù", latin: "Alhamdulillahi 'alaa kulli haal", arti: "Segala puji bagi Allah atas segala keadaan." },
        { id: 52, "title": "Doa Memohon Jodoh Terbaik", "subtitle": "Bagi yang belum menikah", "arabic": "Ø±ÙŽØ¨ÙÙ‘ Ù„Ø§ÙŽ ØªÙŽØ°ÙŽØ±Ù’Ù†ÙÙŠ ÙÙŽØ±Ù’Ø¯Ù‹Ø§ ÙˆÙŽØ£ÙŽÙ†Ù’ØªÙŽ Ø®ÙŽÙŠÙ’Ø±Ù Ø§Ù„Ù’ÙˆÙŽØ§Ø±ÙØ«ÙÙŠÙ†ÙŽ", "latin": "Rabbi laa tadzarnii fardan wa anta khairul waaritsiin", "arti": "Ya Tuhanku, janganlah Engkau biarkan aku hidup seorang diri, dan Engkaulah pewaris yang paling baik." },
        { id: 53, "title": "Doa Mohon Keturunan yang Baik", "subtitle": "Doa Nabi Zakaria", "arabic": "Ø±ÙŽØ¨ÙÙ‘ Ù‡ÙŽØ¨Ù’ Ù„ÙÙŠ Ù…ÙÙ†Ù’ Ù„ÙŽØ¯ÙÙ†Ù’ÙƒÙŽ Ø°ÙØ±ÙÙ‘ÙŠÙŽÙ‘Ø©Ù‹ Ø·ÙŽÙŠÙÙ‘Ø¨ÙŽØ©Ù‹ Ø¥ÙÙ†ÙŽÙ‘ÙƒÙŽ Ø³ÙŽÙ…ÙÙŠØ¹Ù Ø§Ù„Ø¯ÙÙ‘Ø¹ÙŽØ§Ø¡Ù", "latin": "Rabbi hablii min ladunka dzurriyyatan thayyibatan innaka samii'ud du'aa", "arti": "Ya Tuhanku, berilah aku dari sisi-Mu seorang anak yang baik. Sesungguhnya Engkau Maha Pendengar doa." },
        { id: 54, "title": "Doa Agar Terhindar dari Utang", "subtitle": "Memohon kecukupan", "arabic": "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§ÙƒÙ’ÙÙÙ†ÙÙŠ Ø¨ÙØ­ÙŽÙ„Ø§ÙŽÙ„ÙÙƒÙŽ Ø¹ÙŽÙ†Ù’ Ø­ÙŽØ±ÙŽØ§Ù…ÙÙƒÙŽ ÙˆÙŽØ£ÙŽØºÙ’Ù†ÙÙ†ÙÙŠ Ø¨ÙÙÙŽØ¶Ù’Ù„ÙÙƒÙŽ Ø¹ÙŽÙ…ÙŽÙ‘Ù†Ù’ Ø³ÙÙˆÙŽØ§ÙƒÙŽ", "latin": "Allahummak finii bihalaalika 'an haraamika wa aghninii bifadhlika 'amman siwaak", "arti": "Ya Allah, cukupkanlah aku dengan yang halal dan jauhkanlah aku dari yang haram, dan cukupkanlah aku dengan karunia-Mu dari bergantung pada selain-Mu." }
    ];
    const translations = {
        'id': { 'nav_title': 'Menu Navigasi', 'nav_doa': 'ðŸ¤² Doa Harian', 'nav_quran': 'ðŸ“– Al-Qur\'an', 'nav_dzikir': 'ðŸ“¿ Dzikir & Tasbih', 'nav_kiblat': 'ðŸ•‹ Kiblat', 'nav_settings': 'âš™ï¸ Pengaturan', 'remaining_time': 'Waktu Tersisa', 'settings_title': 'Pengaturan', 'settings_dark_mode': 'Mode Malam', 'settings_notifications': 'Notifikasi Adzan', 'settings_language': 'Bahasa', 'settings_about': 'Tentang Aplikasi', 'settings_adhan_sound': 'Pengaturan Suara Adzan', 'last_read': 'TERAKHIR DIBACA', 'no_last_read': 'Belum ada doa yang dibaca', 'all_doa': 'Semua Doa', 'bookmarked': 'Ditandai', 'Imsak': 'Imsak', 'Fajr': 'Subuh', 'Sunrise': 'Terbit', 'Dhuhr': 'Dzuhur', 'Asr': 'Ashar', 'Maghrib': 'Maghrib', 'Isha': 'Isya' },
        'en': { 'nav_title': 'Navigation Menu', 'nav_doa': 'ðŸ¤² Daily Prayers', 'nav_quran': 'ðŸ“– Al-Qur\'an', 'nav_dzikir': 'ðŸ“¿ Dhikr & Tasbih', 'nav_kiblat': 'ðŸ§­ Qibla', 'nav_settings': 'âš™ï¸ Settings', 'remaining_time': 'Time Remaining', 'settings_title': 'Settings', 'settings_dark_mode': 'Dark Mode', 'settings_notifications': 'Adhan Notifications', 'settings_language': 'Language', 'settings_about': 'About App', 'settings_adhan_sound': 'Adhan Sound Settings', 'last_read': 'LAST READ', 'no_last_read': 'No prayers have been read yet', 'all_doa': 'All Prayers', 'bookmarked': 'Bookmarked', 'Imsak': 'Imsak', 'Fajr': 'Fajr', 'Sunrise': 'Sunrise', 'Dhuhr': 'Dhuhr', 'Asr': 'Asr', 'Maghrib': 'Maghrib', 'Isha': 'Isha' },
        'ar': { 'nav_title': 'Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªÙ†Ù‚Ù„', 'nav_doa': 'ðŸ¤² Ø£Ø¯Ø¹ÙŠØ© ÙŠÙˆÙ…ÙŠØ©', 'nav_quran': 'ðŸ“– Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…', 'nav_dzikir': 'ðŸ“¿ Ø°ÙƒØ± ÙˆØªØ³Ø¨ÙŠØ­', 'nav_kiblat': 'ðŸ§­ Ø§Ù„Ù‚Ø¨Ù„Ø©', 'nav_settings': 'âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª', 'remaining_time': 'Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ', 'settings_title': 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª', 'settings_dark_mode': 'Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†', 'settings_notifications': 'Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø°Ø§Ù†', 'settings_language': 'Ø§Ù„Ù„ØºØ©', 'settings_about': 'Ø­ÙˆÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚', 'settings_adhan_sound': 'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØµÙˆØª Ø§Ù„Ø£Ø°Ø§Ù†', 'last_read': 'Ø¢Ø®Ø± Ù…Ø§ Ù‚Ø±Ø¦', 'no_last_read': 'Ù„Ù… ÙŠØªÙ… Ù‚Ø±Ø§Ø¡Ø© Ø£ÙŠ Ø¯Ø¹Ø§Ø¡ Ø¨Ø¹Ø¯', 'all_doa': 'ÙƒÙ„ Ø§Ù„Ø£Ø¯Ø¹ÙŠØ©', 'bookmarked': 'Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©', 'Imsak': 'Ø¥Ù…Ø³Ø§Ùƒ', 'Fajr': 'Ø§Ù„ÙØ¬Ø±', 'Sunrise': 'Ø§Ù„Ø´Ø±ÙˆÙ‚', 'Dhuhr': 'Ø§Ù„Ø¸Ù‡Ø±', 'Asr': 'Ø§Ù„Ø¹ØµØ±', 'Maghrib': 'Ø§Ù„Ù…ØºØ±Ø¨', 'Isha': 'Ø§Ù„Ø¹Ø´Ø§Ø¡' },
        'tr': { 'nav_title': 'Navigasyon MenÃ¼sÃ¼', 'nav_doa': 'ðŸ¤² GÃ¼nlÃ¼k Dualar', 'nav_quran': 'ðŸ“– Kur\'an-Ä± Kerim', 'nav_dzikir': 'ðŸ“¿ Zikir & Tesbih', 'nav_kiblat': 'ðŸ§­ KÄ±ble', 'nav_settings': 'âš™ï¸ Ayarlar', 'remaining_time': 'Kalan SÃ¼re', 'settings_title': 'Ayarlar', 'settings_dark_mode': 'KaranlÄ±k Mod', 'settings_notifications': 'Ezan Bildirimleri', 'settings_language': 'Dil', 'settings_about': 'Uygulama HakkÄ±nda', 'settings_adhan_sound': 'Ezan Sesi AyarlarÄ±', 'last_read': 'SON OKUNAN', 'no_last_read': 'HenÃ¼z okunmuÅŸ dua yok', 'all_doa': 'TÃ¼m Dualar', 'bookmarked': 'Ä°ÅŸaretli', 'Imsak': 'Ä°msak', 'Fajr': 'Sabah', 'Sunrise': 'GÃ¼neÅŸ', 'Dhuhr': 'Ã–ÄŸle', 'Asr': 'Ä°kindi', 'Maghrib': 'AkÅŸam', 'Isha': 'YatsÄ±' },
        'fr': { 'nav_title': 'Menu de navigation', 'nav_doa': 'ðŸ¤² PriÃ¨res quotidiennes', 'nav_quran': 'ðŸ“– Al-Coran', 'nav_dzikir': 'ðŸ“¿ Dhikr & Tasbih', 'nav_kiblat': 'ðŸ§­ Qibla', 'nav_settings': 'âš™ï¸ ParamÃ¨tres', 'remaining_time': 'Temps restant', 'settings_title': 'ParamÃ¨tres', 'settings_dark_mode': 'Mode sombre', 'settings_notifications': 'Notifications d\'Adhan', 'settings_language': 'Langue', 'settings_about': 'Ã€ propos de l\'application', 'settings_adhan_sound': 'ParamÃ¨tres Sonores de l\'Adhan', 'last_read': 'DERNIÃˆRE LECTURE', 'no_last_read': 'Aucune priÃ¨re n\'a encore Ã©tÃ© lue', 'all_doa': 'Toutes les priÃ¨res', 'bookmarked': 'MarquÃ©', 'Imsak': 'Imsak', 'Fajr': 'Fajr', 'Sunrise': 'Lever du soleil', 'Dhuhr': 'Dhuhr', 'Asr': 'Asr', 'Maghrib': 'Maghrib', 'Isha': 'Isha' },
        'es': { 'nav_title': 'MenÃº de NavegaciÃ³n', 'nav_doa': 'ðŸ¤² Oraciones Diarias', 'nav_quran': 'ðŸ“– Al-CorÃ¡n', 'nav_dzikir': 'ðŸ“¿ Dhikr y Tasbih', 'nav_kiblat': 'ðŸ§­ Quibla', 'nav_settings': 'âš™ï¸ Ajustes', 'remaining_time': 'Tiempo restante', 'settings_title': 'Ajustes', 'settings_dark_mode': 'Modo Oscuro', 'settings_notifications': 'Notificaciones de Adhan', 'settings_language': 'Idioma', 'settings_about': 'Acerca de la App', 'settings_adhan_sound': 'Ajustes de Sonido del Adhan', 'last_read': 'ÃšLTIMA LECTURA', 'no_last_read': 'AÃºn no se han leÃ­do oraciones', 'all_doa': 'Todas las Oraciones', 'bookmarked': 'Marcado', 'Imsak': 'Imsak', 'Fajr': 'Fajr', 'Sunrise': 'Amanecer', 'Dhuhr': 'Dhuhr', 'Asr': 'Asr', 'Maghrib': 'Maghrib', 'Isha': 'Isha' },
        'de': { 'nav_title': 'NavigationsmenÃ¼', 'nav_doa': 'ðŸ¤² TÃ¤gliche Gebete', 'nav_quran': 'ðŸ“– Al-Quran', 'nav_dzikir': 'ðŸ“¿ Dhikr & Tasbih', 'nav_kiblat': 'ðŸ§­ Qibla', 'nav_settings': 'âš™ï¸ Einstellungen', 'remaining_time': 'Verbleibende Zeit', 'settings_title': 'Einstellungen', 'settings_dark_mode': 'Dunkelmodus', 'settings_notifications': 'Adhan-Benachrichtigungen', 'settings_language': 'Sprache', 'settings_about': 'Ãœber die App', 'settings_adhan_sound': 'Adhan-Toneinstellungen', 'last_read': 'ZULETZT GELESEN', 'no_last_read': 'Noch keine Gebete gelesen', 'all_doa': 'Alle Gebete', 'bookmarked': 'Gemerkt', 'Imsak': 'Imsak', 'Fajr': 'Fajr', 'Sunrise': 'Sonnenaufgang', 'Dhuhr': 'Dhuhr', 'Asr': 'Asr', 'Maghrib': 'Maghrib', 'Isha': 'Isha' },
        'ru': { 'nav_title': 'ÐÐ°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ', 'nav_doa': 'ðŸ¤² Ð•Ð¶ÐµÐ´Ð½ÐµÐ²Ð½Ñ‹Ðµ Ð¼Ð¾Ð»Ð¸Ñ‚Ð²Ñ‹', 'nav_quran': 'ðŸ“– ÐÐ»ÑŒ-ÐšÐ¾Ñ€Ð°Ð½', 'nav_dzikir': 'ðŸ“¿ Ð—Ð¸ÐºÑ€ Ð¸ Ð¢Ð°ÑÐ±Ð¸Ñ…', 'nav_kiblat': 'ðŸ§­ ÐšÐ¸Ð±Ð»Ð°', 'nav_settings': 'âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸', 'remaining_time': 'ÐžÑÑ‚Ð°Ð²ÑˆÐµÐµÑÑ Ð²Ñ€ÐµÐ¼Ñ', 'settings_title': 'ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸', 'settings_dark_mode': 'Ð¢ÐµÐ¼Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼', 'settings_notifications': 'Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾ ÐÐ·Ð°Ð½Ðµ', 'settings_language': 'Ð¯Ð·Ñ‹Ðº', 'settings_about': 'Ðž Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸', 'settings_adhan_sound': 'ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð·Ð²ÑƒÐºÐ° ÐÐ·Ð°Ð½Ð°', 'last_read': 'ÐŸÐžÐ¡Ð›Ð•Ð”ÐÐ•Ð• ÐŸÐ ÐžÐ§Ð¢Ð•ÐÐ˜Ð•', 'no_last_read': 'ÐœÐ¾Ð»Ð¸Ñ‚Ð²Ñ‹ ÐµÑ‰Ðµ Ð½Ðµ Ñ‡Ð¸Ñ‚Ð°Ð»Ð¸ÑÑŒ', 'all_doa': 'Ð’ÑÐµ Ð¼Ð¾Ð»Ð¸Ñ‚Ð²Ñ‹', 'bookmarked': 'Ð’ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ°Ñ…', 'Imsak': 'Ð˜Ð¼ÑÐ°Ðº', 'Ð¤Ð°Ð´Ð¶Ñ€': 'Fajr', 'Ð’Ð¾ÑÑ…Ð¾Ð´': 'Sunrise', 'Ð—ÑƒÑ…Ñ€': 'Dhuhr', 'ÐÑÑ€': 'Asr', 'ÐœÐ°Ð³Ñ€Ð¸Ð±': 'Maghrib', 'Ð˜ÑˆÐ°': 'Isha' },
        'ur': { 'nav_title': 'Ù†ÛŒÙˆÛŒÚ¯ÛŒØ´Ù† Ù…ÛŒÙ†Ùˆ', 'nav_doa': 'ðŸ¤² Ø±ÙˆØ²Ø§Ù†Û Ú©ÛŒ Ø¯Ø¹Ø§Ø¦ÛŒÚº', 'nav_quran': 'ðŸ“– Ø§Ù„Ù‚Ø±Ø¢Ù†', 'nav_dzikir': 'ðŸ“¿ Ø°Ú©Ø± Ùˆ ØªØ³Ø¨ÛŒØ­', 'nav_kiblat': 'ðŸ§­ Ù‚Ø¨Ù„Û', 'nav_settings': 'âš™ï¸ ØªØ±ØªÛŒØ¨Ø§Øª', 'remaining_time': 'Ø¨Ø§Ù‚ÛŒ ÙˆÙ‚Øª', 'settings_title': 'ØªØ±ØªÛŒØ¨Ø§Øª', 'settings_dark_mode': 'ÚˆØ§Ø±Ú© Ù…ÙˆÚˆ', 'settings_notifications': 'Ø§Ø°Ø§Ù† Ú©ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª', 'settings_language': 'Ø²Ø¨Ø§Ù†', 'settings_about': 'Ø§ÛŒÙ¾ Ú©Û’ Ø¨Ø§Ø±Û’ Ù…ÛŒÚº', 'settings_adhan_sound': 'Ø§Ø°Ø§Ù† Ú©ÛŒ Ø¢ÙˆØ§Ø² Ú©ÛŒ ØªØ±ØªÛŒØ¨Ø§Øª', 'last_read': 'Ø¢Ø®Ø±ÛŒ Ø¨Ø§Ø± Ù¾Ú‘Ú¾Ø§ Ú¯ÛŒØ§', 'no_last_read': 'Ø§Ø¨Ú¾ÛŒ ØªÚ© Ú©ÙˆØ¦ÛŒ Ø¯Ø¹Ø§ Ù†ÛÛŒÚº Ù¾Ú‘Ú¾ÛŒ Ú¯Ø¦ÛŒ', 'all_doa': 'ØªÙ…Ø§Ù… Ø¯Ø¹Ø§Ø¦ÛŒÚº', 'bookmarked': 'Ù†Ø´Ø§Ù† Ø²Ø¯', 'Imsak': 'Ø§Ù…Ø³Ø§Ú©', 'Fajr': 'ÙØ¬Ø±', 'Sunrise': 'Ø·Ù„ÙˆØ¹ Ø¢ÙØªØ§Ø¨', 'Dhuhr': 'Ø¸ÛØ±', 'Asr': 'Ø¹ØµØ±', 'Maghrib': 'Ù…ØºØ±Ø¨', 'Isha': 'Ø¹Ø´Ø§Ø¡' },
        'bn': { 'nav_title': 'à¦¨à§‡à¦­à¦¿à¦—à§‡à¦¶à¦¨ à¦®à§‡à¦¨à§', 'nav_doa': 'ðŸ¤² à¦¦à§ˆà¦¨à¦¿à¦• à¦¦à§‹à¦¯à¦¼à¦¾', 'nav_quran': 'ðŸ“– à¦†à¦²-à¦•à§à¦°à¦†à¦¨', 'nav_dzikir': 'ðŸ“¿ à¦¯à¦¿à¦•à¦¿à¦° à¦“ à¦¤à¦¾à¦¸à¦¬à§€à¦¹', 'nav_kiblat': 'ðŸ§­ à¦•à¦¿à¦¬à¦²à¦¾', 'nav_settings': 'âš™ï¸ à¦¸à§‡à¦Ÿà¦¿à¦‚à¦¸', 'remaining_time': 'à¦…à¦¬à¦¶à¦¿à¦·à§à¦Ÿ à¦¸à¦®à¦¯à¦¼', 'settings_title': 'à¦¸à§‡à¦Ÿà¦¿à¦‚à¦¸', 'dark_mode': 'à¦¡à¦¾à¦°à§à¦• à¦®à§‹à¦¡', 'notifications': 'à¦†à¦¯à¦¾à¦¨à§‡à¦° à¦¨à§‹à¦Ÿà¦¿à¦«à¦¿à¦•à§‡à¦¶à¦¨', 'language': 'à¦­à¦¾à¦·à¦¾', 'about_app': 'à¦…à§à¦¯à¦¾à¦ª à¦¸à¦®à§à¦ªà¦°à§à¦•à§‡', 'adhan_sound': 'à¦†à¦¯à¦¾à¦¨à§‡à¦° à¦¶à¦¬à§à¦¦ à¦¸à§‡à¦Ÿà¦¿à¦‚à¦¸', 'last_read': 'à¦¶à§‡à¦· à¦ªà¦ à¦¿à¦¤', 'no_last_read': 'à¦à¦–à¦¨à¦“ à¦•à§‹à¦¨ à¦¦à§‹à¦¯à¦¼à¦¾ à¦ªà¦¡à¦¼à¦¾ à¦¹à¦¯à¦¼à¦¨à¦¿', 'all_doa': 'à¦¸à¦¬ à¦¦à§‹à¦¯à¦¼à¦¾', 'bookmarked': 'à¦¬à§à¦•à¦®à¦¾à¦°à§à¦• à¦•à¦°à¦¾', 'Imsak': 'à¦‡Ù…Ø³à¦¾à¦•', 'Fajr': 'à¦«à¦œà¦°', 'Sunrise': 'à¦¸à§‚à¦°à§à¦¯à§‹à¦¦à¦¯à¦¼', 'Dhuhr': 'à¦¯à§‹à¦¹à¦°', 'Asr': 'à¦†à¦¸à¦°', 'Maghrib': 'à¦®à¦¾à¦—à¦°à¦¿à¦¬', 'Isha': 'à¦ˆà¦¶à¦¾' }
    };
    const juzToSurahMap = { 1: [1, 2], 2: [2], 3: [2, 3], 4: [3, 4], 5: [4], 6: [4, 5], 7: [5, 6], 8: [6, 7], 9: [7, 8], 10: [8, 9], 11: [9, 10, 11], 12: [11, 12], 13: [12, 13, 14, 15], 14: [16, 17], 15: [17, 18], 16: [18, 19, 20], 17: [21, 22], 18: [23, 24, 25], 19: [25, 26, 27], 20: [27, 28, 29], 21: [29, 30, 31, 32, 33], 22: [33, 34, 35, 36], 23: [36, 37, 38, 39], 24: [39, 40, 41], 25: [41, 42, 43, 44, 45], 26: [46, 47, 48, 49, 50, 51], 27: [51, 52, 53, 54, 55, 56, 57], 28: [58, 59, 60, 61, 62, 63, 64, 65, 66], 29: [67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77], 30: [78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114] };
    
const quizData = [
    // === LEVEL MUDAH ===

    // --- QS. Al-Fatihah ---
    { level: "mudah", question: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘Ù°Ù‡Ù Ø§Ù„Ø±ÙŽÙ‘Ø­Ù’Ù…Ù°Ù†Ù Ø§Ù„Ø±ÙŽÙ‘Ø­ÙÙŠÙ’Ù…Ù ÛÙ¡", options: ["Ø§Ù„Ø±ÙŽÙ‘Ø­Ù’Ù…Ù°Ù†Ù Ø§Ù„Ø±ÙŽÙ‘Ø­ÙÙŠÙ’Ù…ÙÛ™ ÛÙ£", "Ø§ÙŽÙ„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„Ù‘Ù°Ù‡Ù Ø±ÙŽØ¨ÙÙ‘ Ø§Ù„Ù’Ø¹Ù°Ù„ÙŽÙ…ÙÙŠÙ’Ù†ÙŽÛ™ ÛÙ¢", "Ù…Ù°Ù„ÙÙƒÙ ÙŠÙŽÙˆÙ’Ù…Ù Ø§Ù„Ø¯ÙÙ‘ÙŠÙ’Ù†ÙÛ— ÛÙ¤", "Ø§ÙÙŠÙŽÙ‘Ø§ÙƒÙŽ Ù†ÙŽØ¹Ù’Ø¨ÙØ¯Ù ÙˆÙŽØ§ÙÙŠÙŽÙ‘Ø§ÙƒÙŽ Ù†ÙŽØ³Ù’ØªÙŽØ¹ÙÙŠÙ’Ù†ÙÛ— ÛÙ¥"], correctAnswer: 1, surahInfo: "QS. Al-Fatihah: 2" },
    { level: "mudah", question: "Ø§ÙŽÙ„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„Ù‘Ù°Ù‡Ù Ø±ÙŽØ¨ÙÙ‘ Ø§Ù„Ù’Ø¹Ù°Ù„ÙŽÙ…ÙÙŠÙ’Ù†ÙŽÛ™ ÛÙ¢", options: ["Ù…Ù°Ù„ÙÙƒÙ ÙŠÙŽÙˆÙ’Ù…Ù Ø§Ù„Ø¯ÙÙ‘ÙŠÙ’Ù†ÙÛ— ÛÙ¤", "Ø§ÙÙŠÙŽÙ‘Ø§ÙƒÙŽ Ù†ÙŽØ¹Ù’Ø¨ÙØ¯Ù ÙˆÙŽØ§ÙÙŠÙŽÙ‘Ø§ÙƒÙŽ Ù†ÙŽØ³Ù’ØªÙŽØ¹ÙÙŠÙ’Ù†ÙÛ— ÛÙ¥", "Ø§Ù„Ø±ÙŽÙ‘Ø­Ù’Ù…Ù°Ù†Ù Ø§Ù„Ø±ÙŽÙ‘Ø­ÙÙŠÙ’Ù…ÙÛ™ ÛÙ£", "ØµÙØ±ÙŽØ§Ø·ÙŽ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’Ù†ÙŽ Ø§ÙŽÙ†Ù’Ø¹ÙŽÙ…Ù’ØªÙŽ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù‡ÙÙ…Ù’ Û•Û™"], correctAnswer: 2, surahInfo: "QS. Al-Fatihah: 3" },
    { level: "mudah", question: "Ø§Ù„Ø±ÙŽÙ‘Ø­Ù’Ù…Ù°Ù†Ù Ø§Ù„Ø±ÙŽÙ‘Ø­ÙÙŠÙ’Ù…ÙÛ™ ÛÙ£", options: ["Ø§ÙÙŠÙŽÙ‘Ø§ÙƒÙŽ Ù†ÙŽØ¹Ù’Ø¨ÙØ¯Ù ÙˆÙŽØ§ÙÙŠÙŽÙ‘Ø§ÙƒÙŽ Ù†ÙŽØ³Ù’ØªÙŽØ¹ÙÙŠÙ’Ù†ÙÛ— ÛÙ¥", "Ø§Ù‡Ù’Ø¯ÙÙ†ÙŽØ§ Ø§Ù„ØµÙÙ‘Ø±ÙŽØ§Ø·ÙŽ Ø§Ù„Ù’Ù…ÙØ³Ù’ØªÙŽÙ‚ÙÙŠÙ’Ù…ÙŽÛ™ ÛÙ¦", "Ù…Ù°Ù„ÙÙƒÙ ÙŠÙŽÙˆÙ’Ù…Ù Ø§Ù„Ø¯ÙÙ‘ÙŠÙ’Ù†ÙÛ— ÛÙ¤", "Ø§ÙŽÙ„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„Ù‘Ù°Ù‡Ù Ø±ÙŽØ¨ÙÙ‘ Ø§Ù„Ù’Ø¹Ù°Ù„ÙŽÙ…ÙÙŠÙ’Ù†ÙŽÛ™ ÛÙ¢"], correctAnswer: 2, surahInfo: "QS. Al-Fatihah: 4" },
    
    // --- QS. An-Nas ---
    { level: "mudah", question: "Ù‚ÙÙ„Ù’ Ø§ÙŽØ¹ÙÙˆÙ’Ø°Ù Ø¨ÙØ±ÙŽØ¨ÙÙ‘ Ø§Ù„Ù†ÙŽÙ‘Ø§Ø³ÙÛ™ ÛÙ¡", options: ["Ù…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ø§Ù„Ù’ÙˆÙŽØ³Ù’ÙˆÙŽØ§Ø³Ù Û•Û™ Ø§Ù„Ù’Ø®ÙŽÙ†ÙŽÙ‘Ø§Ø³ÙÛ– ÛÙ¤", "Ù…ÙŽÙ„ÙÙƒÙ Ø§Ù„Ù†ÙŽÙ‘Ø§Ø³ÙÛ™ ÛÙ¢", "Ø§ÙÙ„Ù°Ù‡Ù Ø§Ù„Ù†ÙŽÙ‘Ø§Ø³ÙÛ™ ÛÙ£", "Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ø¬ÙÙ†ÙŽÙ‘Ø©Ù ÙˆÙŽØ§Ù„Ù†ÙŽÙ‘Ø§Ø³Ù ÛÙ¦"], correctAnswer: 1, surahInfo: "QS. An-Nas: 2" },
    { level: "mudah", question: "Ù…ÙŽÙ„ÙÙƒÙ Ø§Ù„Ù†ÙŽÙ‘Ø§Ø³ÙÛ™ ÛÙ¢", options: ["Ø§ÙÙ„Ù°Ù‡Ù Ø§Ù„Ù†ÙŽÙ‘Ø§Ø³ÙÛ™ ÛÙ£", "Ù…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ø§Ù„Ù’ÙˆÙŽØ³Ù’ÙˆÙŽØ§Ø³Ù Û•Û™ Ø§Ù„Ù’Ø®ÙŽÙ†ÙŽÙ‘Ø§Ø³ÙÛ– ÛÙ¤", "Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ ÙŠÙÙˆÙŽØ³Ù’ÙˆÙØ³Ù ÙÙÙŠÙ’ ØµÙØ¯ÙÙˆÙ’Ø±Ù Ø§Ù„Ù†ÙŽÙ‘Ø§Ø³ÙÛ™ ÛÙ¥", "Ù‚ÙÙ„Ù’ Ø§ÙŽØ¹ÙÙˆÙ’Ø°Ù Ø¨ÙØ±ÙŽØ¨ÙÙ‘ Ø§Ù„Ù†ÙŽÙ‘Ø§Ø³ÙÛ™ ÛÙ¡"], correctAnswer: 0, surahInfo: "QS. An-Nas: 3" },
    
    // --- QS. Al-Falaq ---
    { level: "mudah", question: "Ù‚ÙÙ„Ù’ Ø§ÙŽØ¹ÙÙˆÙ’Ø°Ù Ø¨ÙØ±ÙŽØ¨ÙÙ‘ Ø§Ù„Ù’ÙÙŽÙ„ÙŽÙ‚ÙÛ™ ÛÙ¡", options: ["Ù…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ù…ÙŽØ§ Ø®ÙŽÙ„ÙŽÙ‚ÙŽÛ™ ÛÙ¢", "ÙˆÙŽÙ…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ø§Ù„Ù†ÙŽÙ‘ÙÙ‘Ù°Ø«Ù°ØªÙ ÙÙÙ‰ Ø§Ù„Ù’Ø¹ÙÙ‚ÙŽØ¯ÙÛ™ ÛÙ¤", "ÙˆÙŽÙ…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ ØºÙŽØ§Ø³ÙÙ‚Ù Ø§ÙØ°ÙŽØ§ ÙˆÙŽÙ‚ÙŽØ¨ÙŽÛ™ ÛÙ£", "ÙˆÙŽÙ…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ø­ÙŽØ§Ø³ÙØ¯Ù Ø§ÙØ°ÙŽØ§ Ø­ÙŽØ³ÙŽØ¯ÙŽ ÛÙ¥"], correctAnswer: 0, surahInfo: "QS. Al-Falaq: 2" },
    { level: "mudah", question: "Ù…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ù…ÙŽØ§ Ø®ÙŽÙ„ÙŽÙ‚ÙŽÛ™ ÛÙ¢", options: ["ÙˆÙŽÙ…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ø§Ù„Ù†ÙŽÙ‘ÙÙ‘Ù°Ø«Ù°ØªÙ ÙÙÙ‰ Ø§Ù„Ù’Ø¹ÙÙ‚ÙŽØ¯ÙÛ™ ÛÙ¤", "ÙˆÙŽÙ…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ø­ÙŽØ§Ø³ÙØ¯Ù Ø§ÙØ°ÙŽØ§ Ø­ÙŽØ³ÙŽØ¯ÙŽ ÛÙ¥", "Ù‚ÙÙ„Ù’ Ø§ÙŽØ¹ÙÙˆÙ’Ø°Ù Ø¨ÙØ±ÙŽØ¨ÙÙ‘ Ø§Ù„Ù’ÙÙŽÙ„ÙŽÙ‚ÙÛ™ ÛÙ¡", "ÙˆÙŽÙ…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ ØºÙŽØ§Ø³ÙÙ‚Ù Ø§ÙØ°ÙŽØ§ ÙˆÙŽÙ‚ÙŽØ¨ÙŽÛ™ ÛÙ£"], correctAnswer: 3, surahInfo: "QS. Al-Falaq: 3" },

    // --- QS. Al-Ikhlas ---
    { level: "mudah", question: "Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙŽ Ø§Ù„Ù„Ù‘Ù°Ù‡Ù Ø§ÙŽØ­ÙŽØ¯ÙŒÛš ÛÙ¡", options: ["Ù„ÙŽÙ…Ù’ ÙŠÙŽÙ„ÙØ¯Ù’ ÙˆÙŽÙ„ÙŽÙ…Ù’ ÙŠÙÙˆÙ’Ù„ÙŽØ¯Ù’Û™ ÛÙ£", "Ø§ÙŽÙ„Ù„Ù‘Ù°Ù‡Ù Ø§Ù„ØµÙŽÙ‘Ù…ÙŽØ¯ÙÛš ÛÙ¢", "ÙˆÙŽÙ„ÙŽÙ…Ù’ ÙŠÙŽÙƒÙÙ†Ù’ Ù„ÙŽÙ‘Ù‡Ù— ÙƒÙÙÙÙˆÙ‹Ø§ Ø§ÙŽØ­ÙŽØ¯ÙŒ ÛÙ¤", "Ù…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ù…ÙŽØ§ Ø®ÙŽÙ„ÙŽÙ‚ÙŽÛ™"], correctAnswer: 1, surahInfo: "QS. Al-Ikhlas: 2" },
    { level: "mudah", question: "Ø§ÙŽÙ„Ù„Ù‘Ù°Ù‡Ù Ø§Ù„ØµÙŽÙ‘Ù…ÙŽØ¯ÙÛš ÛÙ¢", options: ["Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙŽ Ø§Ù„Ù„Ù‘Ù°Ù‡Ù Ø§ÙŽØ­ÙŽØ¯ÙŒÛš ÛÙ¡", "ÙˆÙŽÙ„ÙŽÙ…Ù’ ÙŠÙŽÙƒÙÙ†Ù’ Ù„ÙŽÙ‘Ù‡Ù— ÙƒÙÙÙÙˆÙ‹Ø§ Ø§ÙŽØ­ÙŽØ¯ÙŒ ÛÙ¤", "Ù„ÙŽÙ…Ù’ ÙŠÙŽÙ„ÙØ¯Ù’ ÙˆÙŽÙ„ÙŽÙ…Ù’ ÙŠÙÙˆÙ’Ù„ÙŽØ¯Ù’Û™ ÛÙ£", "Ø§ÙÙŠÙŽÙ‘Ø§ÙƒÙŽ Ù†ÙŽØ¹Ù’Ø¨ÙØ¯Ù ÙˆÙŽØ§ÙÙŠÙŽÙ‘Ø§ÙƒÙŽ Ù†ÙŽØ³Ù’ØªÙŽØ¹ÙÙŠÙ’Ù†ÙÛ—"], correctAnswer: 2, surahInfo: "QS. Al-Ikhlas: 3" },

    // --- QS. Al-Lahab ---
    { level: "mudah", question: "ØªÙŽØ¨ÙŽÙ‘ØªÙ’ ÙŠÙŽØ¯ÙŽØ¢ Ø§ÙŽØ¨ÙÙŠÙ’ Ù„ÙŽÙ‡ÙŽØ¨Ù ÙˆÙŽÙ‘ØªÙŽØ¨ÙŽÙ‘Û— ÛÙ¡", options: ["Ø³ÙŽÙŠÙŽØµÙ’Ù„Ù°Ù‰ Ù†ÙŽØ§Ø±Ù‹Ø§ Ø°ÙŽØ§ØªÙŽ Ù„ÙŽÙ‡ÙŽØ¨ÙÛ™ ÛÙ£", "Ù…ÙŽØ¢ Ø§ÙŽØºÙ’Ù†Ù°Ù‰ Ø¹ÙŽÙ†Ù’Ù‡Ù Ù…ÙŽØ§Ù„ÙÙ‡Ù— ÙˆÙŽÙ…ÙŽØ§ ÙƒÙŽØ³ÙŽØ¨ÙŽÛ— ÛÙ¢", "ÙˆÙŽÙ‘Ø§Ù…Ù’Ø±ÙŽØ§ÙŽØªÙÙ‡Ù— Û— Ø­ÙŽÙ…ÙŽÙ‘Ø§Ù„ÙŽØ©ÙŽ Ø§Ù„Ù’Ø­ÙŽØ·ÙŽØ¨ÙÛš ÛÙ¤", "ÙÙÙŠÙ’ Ø¬ÙÙŠÙ’Ø¯ÙÙ‡ÙŽØ§ Ø­ÙŽØ¨Ù’Ù„ÙŒ Ù…ÙÙ‘Ù†Ù’ Ù…ÙŽÙ‘Ø³ÙŽØ¯Ù ÛÙ¥"], correctAnswer: 1, surahInfo: "QS. Al-Lahab: 2" },
    { level: "mudah", question: "Ù…ÙŽØ¢ Ø§ÙŽØºÙ’Ù†Ù°Ù‰ Ø¹ÙŽÙ†Ù’Ù‡Ù Ù…ÙŽØ§Ù„ÙÙ‡Ù— ÙˆÙŽÙ…ÙŽØ§ ÙƒÙŽØ³ÙŽØ¨ÙŽÛ— ÛÙ¢", options: ["ØªÙŽØ¨ÙŽÙ‘ØªÙ’ ÙŠÙŽØ¯ÙŽØ¢ Ø§ÙŽØ¨ÙÙŠÙ’ Ù„ÙŽÙ‡ÙŽØ¨Ù ÙˆÙŽÙ‘ØªÙŽØ¨ÙŽÙ‘Û— ÛÙ¡", "ÙˆÙŽÙ‘Ø§Ù…Ù’Ø±ÙŽØ§ÙŽØªÙÙ‡Ù— Û— Ø­ÙŽÙ…ÙŽÙ‘Ø§Ù„ÙŽØ©ÙŽ Ø§Ù„Ù’Ø­ÙŽØ·ÙŽØ¨ÙÛš ÛÙ¤", "Ø³ÙŽÙŠÙŽØµÙ’Ù„Ù°Ù‰ Ù†ÙŽØ§Ø±Ù‹Ø§ Ø°ÙŽØ§ØªÙŽ Ù„ÙŽÙ‡ÙŽØ¨ÙÛ™ ÛÙ£", "ÙÙÙŠÙ’ Ø¬ÙÙŠÙ’Ø¯ÙÙ‡ÙŽØ§ Ø­ÙŽØ¨Ù’Ù„ÙŒ Ù…ÙÙ‘Ù†Ù’ Ù…ÙŽÙ‘Ø³ÙŽØ¯Ù ÛÙ¥"], correctAnswer: 2, surahInfo: "QS. Al-Lahab: 3" },
    
    // === LEVEL SEDANG ===

    // --- QS. Al-Kafirun ---
    { level: "sedang", question: "Ù‚ÙÙ„Ù’ ÙŠÙ°Ù“Ø§ÙŽÙŠÙÙ‘Ù‡ÙŽØ§ Ø§Ù„Ù’ÙƒÙ°ÙÙØ±ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ¡", options: ["ÙˆÙŽÙ„ÙŽØ¢ Ø§ÙŽÙ†Ù’ØªÙÙ…Ù’ Ø¹Ù°Ø¨ÙØ¯ÙÙˆÙ’Ù†ÙŽ Ù…ÙŽØ¢ Ø§ÙŽØ¹Ù’Ø¨ÙØ¯ÙÛš ÛÙ£", "ÙˆÙŽÙ„ÙŽØ¢ Ø§ÙŽÙ†ÙŽØ§Û  Ø¹ÙŽØ§Ø¨ÙØ¯ÙŒ Ù…ÙŽÙ‘Ø§ Ø¹ÙŽØ¨ÙŽØ¯Ù’ØªÙÙ‘Ù…Ù’Û™ ÛÙ¤", "Ù„ÙŽØ¢ Ø§ÙŽØ¹Ù’Ø¨ÙØ¯Ù Ù…ÙŽØ§ ØªÙŽØ¹Ù’Ø¨ÙØ¯ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ¢", "Ù„ÙŽÙƒÙÙ…Ù’ Ø¯ÙÙŠÙ’Ù†ÙÙƒÙÙ…Ù’ ÙˆÙŽÙ„ÙÙŠÙŽ Ø¯ÙÙŠÙ’Ù†Ù ÛÙ¦"], correctAnswer: 2, surahInfo: "QS. Al-Kafirun: 2" },
    { level: "sedang", question: "Ù„ÙŽØ¢ Ø§ÙŽØ¹Ù’Ø¨ÙØ¯Ù Ù…ÙŽØ§ ØªÙŽØ¹Ù’Ø¨ÙØ¯ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ¢", options: ["ÙˆÙŽÙ„ÙŽØ¢ Ø§ÙŽÙ†Ù’ØªÙÙ…Ù’ Ø¹Ù°Ø¨ÙØ¯ÙÙˆÙ’Ù†ÙŽ Ù…ÙŽØ¢ Ø§ÙŽØ¹Ù’Ø¨ÙØ¯ÙÛš ÛÙ£", "ÙˆÙŽÙ„ÙŽØ¢ Ø§ÙŽÙ†ÙŽØ§Û  Ø¹ÙŽØ§Ø¨ÙØ¯ÙŒ Ù…ÙŽÙ‘Ø§ Ø¹ÙŽØ¨ÙŽØ¯Ù’ØªÙÙ‘Ù…Ù’Û™ ÛÙ¤", "ÙˆÙŽÙ„ÙŽØ¢ Ø§ÙŽÙ†Ù’ØªÙÙ…Ù’ Ø¹Ù°Ø¨ÙØ¯ÙÙˆÙ’Ù†ÙŽ Ù…ÙŽØ¢ Ø§ÙŽØ¹Ù’Ø¨ÙØ¯ÙÛš ÛÙ¥", "Ù‚ÙÙ„Ù’ ÙŠÙ°Ù“Ø§ÙŽÙŠÙÙ‘Ù‡ÙŽØ§ Ø§Ù„Ù’ÙƒÙ°ÙÙØ±ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ¡"], correctAnswer: 0, surahInfo: "QS. Al-Kafirun: 3" },
    { level: "sedang", question: "ÙˆÙŽÙ„ÙŽØ¢ Ø§ÙŽÙ†Ù’ØªÙÙ…Ù’ Ø¹Ù°Ø¨ÙØ¯ÙÙˆÙ’Ù†ÙŽ Ù…ÙŽØ¢ Ø§ÙŽØ¹Ù’Ø¨ÙØ¯ÙÛš ÛÙ£", options: ["Ù„ÙŽÙƒÙÙ…Ù’ Ø¯ÙÙŠÙ’Ù†ÙÙƒÙÙ…Ù’ ÙˆÙŽÙ„ÙÙŠÙŽ Ø¯ÙÙŠÙ’Ù†Ù ÛÙ¦", "ÙˆÙŽÙ„ÙŽØ¢ Ø§ÙŽÙ†ÙŽØ§Û  Ø¹ÙŽØ§Ø¨ÙØ¯ÙŒ Ù…ÙŽÙ‘Ø§ Ø¹ÙŽØ¨ÙŽØ¯Ù’ØªÙÙ‘Ù…Ù’Û™ ÛÙ¤", "Ù„ÙŽØ¢ Ø§ÙŽØ¹Ù’Ø¨ÙØ¯Ù Ù…ÙŽØ§ ØªÙŽØ¹Ù’Ø¨ÙØ¯ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ¢", "ÙˆÙŽÙ„ÙŽØ¢ Ø§ÙŽÙ†Ù’ØªÙÙ…Ù’ Ø¹Ù°Ø¨ÙØ¯ÙÙˆÙ’Ù†ÙŽ Ù…ÙŽØ¢ Ø§ÙŽØ¹Ù’Ø¨ÙØ¯ÙÛš ÛÙ¥"], correctAnswer: 1, surahInfo: "QS. Al-Kafirun: 4" },

    // --- QS. Al-Ma'un ---
    { level: "sedang", question: "Ø§ÙŽØ±ÙŽØ¡ÙŽÙŠÙ’ØªÙŽ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ ÙŠÙÙƒÙŽØ°ÙÙ‘Ø¨Ù Ø¨ÙØ§Ù„Ø¯ÙÙ‘ÙŠÙ’Ù†ÙÛ— ÛÙ¡", options: ["ÙˆÙŽÙ„ÙŽØ§ ÙŠÙŽØ­ÙØ¶ÙÙ‘ Ø¹ÙŽÙ„Ù°Ù‰ Ø·ÙŽØ¹ÙŽØ§Ù…Ù Ø§Ù„Ù’Ù…ÙØ³Ù’ÙƒÙÙŠÙ’Ù†ÙÛ— ÛÙ£", "ÙÙŽÙˆÙŽÙŠÙ’Ù„ÙŒ Ù„ÙÙ‘Ù„Ù’Ù…ÙØµÙŽÙ„ÙÙ‘ÙŠÙ’Ù†ÙŽÛ™ ÛÙ¤", "ÙÙŽØ°Ù°Ù„ÙÙƒÙŽ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ ÙŠÙŽØ¯ÙØ¹ÙÙ‘ Ø§Ù„Ù’ÙŠÙŽØªÙÙŠÙ’Ù…ÙŽÛ™ ÛÙ¢", "Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’Ù†ÙŽ Ù‡ÙÙ…Ù’ Ø¹ÙŽÙ†Ù’ ØµÙŽÙ„ÙŽØ§ØªÙÙ‡ÙÙ…Ù’ Ø³ÙŽØ§Ù‡ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ¥"], correctAnswer: 2, surahInfo: "QS. Al-Ma'un: 2" },
    { level: "sedang", question: "ÙÙŽØ°Ù°Ù„ÙÙƒÙŽ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ ÙŠÙŽØ¯ÙØ¹ÙÙ‘ Ø§Ù„Ù’ÙŠÙŽØªÙÙŠÙ’Ù…ÙŽÛ™ ÛÙ¢", options: ["ÙˆÙŽÙŠÙŽÙ…Ù’Ù†ÙŽØ¹ÙÙˆÙ’Ù†ÙŽ Ø§Ù„Ù’Ù…ÙŽØ§Ø¹ÙÙˆÙ’Ù†ÙŽ ÛÙ§", "ÙˆÙŽÙ„ÙŽØ§ ÙŠÙŽØ­ÙØ¶ÙÙ‘ Ø¹ÙŽÙ„Ù°Ù‰ Ø·ÙŽØ¹ÙŽØ§Ù…Ù Ø§Ù„Ù’Ù…ÙØ³Ù’ÙƒÙÙŠÙ’Ù†ÙÛ— ÛÙ£", "ÙÙŽÙˆÙŽÙŠÙ’Ù„ÙŒ Ù„ÙÙ‘Ù„Ù’Ù…ÙØµÙŽÙ„ÙÙ‘ÙŠÙ’Ù†ÙŽÛ™ ÛÙ¤", "Ø§ÙŽØ±ÙŽØ¡ÙŽÙŠÙ’ØªÙŽ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ ÙŠÙÙƒÙŽØ°ÙÙ‘Ø¨Ù Ø¨ÙØ§Ù„Ø¯ÙÙ‘ÙŠÙ’Ù†ÙÛ— ÛÙ¡"], correctAnswer: 1, surahInfo: "QS. Al-Ma'un: 3" },
    { level: "sedang", question: "ÙˆÙŽÙ„ÙŽØ§ ÙŠÙŽØ­ÙØ¶ÙÙ‘ Ø¹ÙŽÙ„Ù°Ù‰ Ø·ÙŽØ¹ÙŽØ§Ù…Ù Ø§Ù„Ù’Ù…ÙØ³Ù’ÙƒÙÙŠÙ’Ù†ÙÛ— ÛÙ£", options: ["Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’Ù†ÙŽ Ù‡ÙÙ…Ù’ Ø¹ÙŽÙ†Ù’ ØµÙŽÙ„ÙŽØ§ØªÙÙ‡ÙÙ…Ù’ Ø³ÙŽØ§Ù‡ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ¥", "ÙÙŽØ°Ù°Ù„ÙÙƒÙŽ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ ÙŠÙŽØ¯ÙØ¹ÙÙ‘ Ø§Ù„Ù’ÙŠÙŽØªÙÙŠÙ’Ù…ÙŽÛ™ ÛÙ¢", "ÙÙŽÙˆÙŽÙŠÙ’Ù„ÙŒ Ù„ÙÙ‘Ù„Ù’Ù…ÙØµÙŽÙ„ÙÙ‘ÙŠÙ’Ù†ÙŽÛ™ ÛÙ¤", "Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’Ù†ÙŽ Ù‡ÙÙ…Ù’ ÙŠÙØ±ÙŽØ§Û¤Ø¡ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ¦"], correctAnswer: 2, surahInfo: "QS. Al-Ma'un: 4" },

    // --- QS. Al-Fil ---
    { level: "sedang", question: "Ø§ÙŽÙ„ÙŽÙ…Ù’ ØªÙŽØ±ÙŽ ÙƒÙŽÙŠÙ’ÙÙŽ ÙÙŽØ¹ÙŽÙ„ÙŽ Ø±ÙŽØ¨ÙÙ‘ÙƒÙŽ Ø¨ÙØ§ÙŽØµÙ’Ø­Ù°Ø¨Ù Ø§Ù„Ù’ÙÙÙŠÙ’Ù„ÙÛ— ÛÙ¡", options: ["ÙˆÙŽÙ‘Ø§ÙŽØ±Ù’Ø³ÙŽÙ„ÙŽ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù‡ÙÙ…Ù’ Ø·ÙŽÙŠÙ’Ø±Ù‹Ø§ Ø§ÙŽØ¨ÙŽØ§Ø¨ÙÙŠÙ’Ù„ÙŽÛ™ ÛÙ£", "ØªÙŽØ±Ù’Ù…ÙÙŠÙ’Ù‡ÙÙ…Ù’ Ø¨ÙØ­ÙØ¬ÙŽØ§Ø±ÙŽØ©Ù Ù…ÙÙ‘Ù†Ù’ Ø³ÙØ¬ÙÙ‘ÙŠÙ’Ù„ÙÛ™ ÛÙ¤", "ÙÙŽØ¬ÙŽØ¹ÙŽÙ„ÙŽÙ‡ÙÙ…Ù’ ÙƒÙŽØ¹ÙŽØµÙ’ÙÙ Ù…ÙŽÙ‘Ø£Ù’ÙƒÙÙˆÙ’Ù„Ù ÛÙ¥", "Ø§ÙŽÙ„ÙŽÙ…Ù’ ÙŠÙŽØ¬Ù’Ø¹ÙŽÙ„Ù’ ÙƒÙŽÙŠÙ’Ø¯ÙŽÙ‡ÙÙ…Ù’ ÙÙÙŠÙ’ ØªÙŽØ¶Ù’Ù„ÙÙŠÙ’Ù„ÙÛ™ ÛÙ¢"], correctAnswer: 3, surahInfo: "QS. Al-Fil: 2" },
    { level: "sedang", question: "Ø§ÙŽÙ„ÙŽÙ…Ù’ ÙŠÙŽØ¬Ù’Ø¹ÙŽÙ„Ù’ ÙƒÙŽÙŠÙ’Ø¯ÙŽÙ‡ÙÙ…Ù’ ÙÙÙŠÙ’ ØªÙŽØ¶Ù’Ù„ÙÙŠÙ’Ù„ÙÛ™ ÛÙ¢", options: ["ØªÙŽØ±Ù’Ù…ÙÙŠÙ’Ù‡ÙÙ…Ù’ Ø¨ÙØ­ÙØ¬ÙŽØ§Ø±ÙŽØ©Ù Ù…ÙÙ‘Ù†Ù’ Ø³ÙØ¬ÙÙ‘ÙŠÙ’Ù„ÙÛ™ ÛÙ¤", "ÙÙŽØ¬ÙŽØ¹ÙŽÙ„ÙŽÙ‡ÙÙ…Ù’ ÙƒÙŽØ¹ÙŽØµÙ’ÙÙ Ù…ÙŽÙ‘Ø£Ù’ÙƒÙÙˆÙ’Ù„Ù ÛÙ¥", "ÙˆÙŽÙ‘Ø§ÙŽØ±Ù’Ø³ÙŽÙ„ÙŽ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù‡ÙÙ…Ù’ Ø·ÙŽÙŠÙ’Ø±Ù‹Ø§ Ø§ÙŽØ¨ÙŽØ§Ø¨ÙÙŠÙ’Ù„ÙŽÛ™ ÛÙ£", "Ø§ÙŽÙ„ÙŽÙ…Ù’ ØªÙŽØ±ÙŽ ÙƒÙŽÙŠÙ’ÙÙŽ ÙÙŽØ¹ÙŽÙ„ÙŽ Ø±ÙŽØ¨ÙÙ‘ÙƒÙŽ Ø¨ÙØ§ÙŽØµÙ’Ø­Ù°Ø¨Ù Ø§Ù„Ù’ÙÙÙŠÙ’Ù„ÙÛ— ÛÙ¡"], correctAnswer: 2, surahInfo: "QS. Al-Fil: 3" },
    
    // --- QS. At-Takasur ---
    { level: "sedang", question: "Ø§ÙŽÙ„Ù’Ù‡ÙŽØ§ÙƒÙÙ…Ù Ø§Ù„ØªÙŽÙ‘ÙƒÙŽØ§Ø«ÙØ±ÙÛ™ ÛÙ¡", options: ["Ø«ÙÙ…ÙŽÙ‘ ÙƒÙŽÙ„ÙŽÙ‘Ø§ Ø³ÙŽÙˆÙ’ÙÙŽ ØªÙŽØ¹Ù’Ù„ÙŽÙ…ÙÙˆÙ’Ù†ÙŽ ÛÙ¤", "Ø­ÙŽØªÙ‘Ù°Ù‰ Ø²ÙØ±Ù’ØªÙÙ…Ù Ø§Ù„Ù’Ù…ÙŽÙ‚ÙŽØ§Ø¨ÙØ±ÙŽÛ— ÛÙ¢", "ÙƒÙŽÙ„ÙŽÙ‘Ø§ Ø³ÙŽÙˆÙ’ÙÙŽ ØªÙŽØ¹Ù’Ù„ÙŽÙ…ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ£", "Ù„ÙŽØªÙŽØ±ÙŽÙˆÙÙ†ÙŽÙ‘ Ø§Ù„Ù’Ø¬ÙŽØ­ÙÙŠÙ’Ù…ÙŽÛ™ ÛÙ¦"], correctAnswer: 1, surahInfo: "QS. At-Takasur: 2" },
    { level: "sedang", question: "Ø­ÙŽØªÙ‘Ù°Ù‰ Ø²ÙØ±Ù’ØªÙÙ…Ù Ø§Ù„Ù’Ù…ÙŽÙ‚ÙŽØ§Ø¨ÙØ±ÙŽÛ— ÛÙ¢", options: ["ÙƒÙŽÙ„ÙŽÙ‘Ø§ Ù„ÙŽÙˆÙ’ ØªÙŽØ¹Ù’Ù„ÙŽÙ…ÙÙˆÙ’Ù†ÙŽ Ø¹ÙÙ„Ù’Ù…ÙŽ Ø§Ù„Ù’ÙŠÙŽÙ‚ÙÙŠÙ’Ù†ÙÛ— ÛÙ¥", "Ù„ÙŽØªÙŽØ±ÙŽÙˆÙÙ†ÙŽÙ‘ Ø§Ù„Ù’Ø¬ÙŽØ­ÙÙŠÙ’Ù…ÙŽÛ™ ÛÙ¦", "ÙƒÙŽÙ„ÙŽÙ‘Ø§ Ø³ÙŽÙˆÙ’ÙÙŽ ØªÙŽØ¹Ù’Ù„ÙŽÙ…ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ£", "Ø§ÙŽÙ„Ù’Ù‡ÙŽØ§ÙƒÙÙ…Ù Ø§Ù„ØªÙŽÙ‘ÙƒÙŽØ§Ø«ÙØ±ÙÛ™ ÛÙ¡"], correctAnswer: 2, surahInfo: "QS. At-Takasur: 3" },
    { level: "sedang", question: "ÙƒÙŽÙ„ÙŽÙ‘Ø§ Ø³ÙŽÙˆÙ’ÙÙŽ ØªÙŽØ¹Ù’Ù„ÙŽÙ…ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ£", options: ["Ø«ÙÙ…ÙŽÙ‘ ÙƒÙŽÙ„ÙŽÙ‘Ø§ Ø³ÙŽÙˆÙ’ÙÙŽ ØªÙŽØ¹Ù’Ù„ÙŽÙ…ÙÙˆÙ’Ù†ÙŽ ÛÙ¤", "ÙƒÙŽÙ„ÙŽÙ‘Ø§ Ù„ÙŽÙˆÙ’ ØªÙŽØ¹Ù’Ù„ÙŽÙ…ÙÙˆÙ’Ù†ÙŽ Ø¹ÙÙ„Ù’Ù…ÙŽ Ø§Ù„Ù’ÙŠÙŽÙ‚ÙÙŠÙ’Ù†ÙÛ— ÛÙ¥", "Ø­ÙŽØªÙ‘Ù°Ù‰ Ø²ÙØ±Ù’ØªÙÙ…Ù Ø§Ù„Ù’Ù…ÙŽÙ‚ÙŽØ§Ø¨ÙØ±ÙŽÛ— ÛÙ¢", "Ù„ÙŽØªÙŽØ±ÙŽÙˆÙÙ†ÙŽÙ‘ Ø§Ù„Ù’Ø¬ÙŽØ­ÙÙŠÙ’Ù…ÙŽÛ™ ÛÙ¦"], correctAnswer: 0, surahInfo: "QS. At-Takasur: 4" },
    
    // --- QS. Al-Qadr ---
    { level: "sedang", question: "Ø§ÙÙ†ÙŽÙ‘Ø¢ Ø§ÙŽÙ†Ù’Ø²ÙŽÙ„Ù’Ù†Ù°Ù‡Ù ÙÙÙŠÙ’ Ù„ÙŽÙŠÙ’Ù„ÙŽØ©Ù Ø§Ù„Ù’Ù‚ÙŽØ¯Ù’Ø±Ù ÛÙ¡", options: ["ØªÙŽÙ†ÙŽØ²ÙŽÙ‘Ù„Ù Ø§Ù„Ù’Ù…ÙŽÙ„Ù°Û¤Ù‰ÙÙ•ÙƒÙŽØ©Ù ÙˆÙŽØ§Ù„Ø±ÙÙ‘ÙˆÙ’Ø­Ù ÙÙÙŠÙ’Ù‡ÙŽØ§", "ÙˆÙŽÙ…ÙŽØ¢ Ø§ÙŽØ¯Ù’Ø±Ù°Ù‰ÙƒÙŽ Ù…ÙŽØ§ Ù„ÙŽÙŠÙ’Ù„ÙŽØ©Ù Ø§Ù„Ù’Ù‚ÙŽØ¯Ù’Ø±ÙÛ— ÛÙ¢", "Ù„ÙŽÙŠÙ’Ù„ÙŽØ©Ù Ø§Ù„Ù’Ù‚ÙŽØ¯Ù’Ø±Ù Û•Û™ Ø®ÙŽÙŠÙ’Ø±ÙŒ Ù…ÙÙ‘Ù†Ù’ Ø§ÙŽÙ„Ù’ÙÙ Ø´ÙŽÙ‡Ù’Ø±ÙÛ— ÛÙ£", "Ø³ÙŽÙ„Ù°Ù…ÙŒ Û›Ù‡ÙÙŠÙŽ Ø­ÙŽØªÙ‘Ù°Ù‰ Ù…ÙŽØ·Ù’Ù„ÙŽØ¹Ù Ø§Ù„Ù’ÙÙŽØ¬Ù’Ø±Ù ÛÙ¥"], correctAnswer: 1, surahInfo: "QS. Al-Qadr: 2" },
    { level: "sedang", question: "ÙˆÙŽÙ…ÙŽØ¢ Ø§ÙŽØ¯Ù’Ø±Ù°Ù‰ÙƒÙŽ Ù…ÙŽØ§ Ù„ÙŽÙŠÙ’Ù„ÙŽØ©Ù Ø§Ù„Ù’Ù‚ÙŽØ¯Ù’Ø±ÙÛ— ÛÙ¢", options: ["Ù„ÙŽÙŠÙ’Ù„ÙŽØ©Ù Ø§Ù„Ù’Ù‚ÙŽØ¯Ù’Ø±Ù Û•Û™ Ø®ÙŽÙŠÙ’Ø±ÙŒ Ù…ÙÙ‘Ù†Ù’ Ø§ÙŽÙ„Ù’ÙÙ Ø´ÙŽÙ‡Ù’Ø±ÙÛ— ÛÙ£", "Ø§ÙÙ†ÙŽÙ‘Ø¢ Ø§ÙŽÙ†Ù’Ø²ÙŽÙ„Ù’Ù†Ù°Ù‡Ù ÙÙÙŠÙ’ Ù„ÙŽÙŠÙ’Ù„ÙŽØ©Ù Ø§Ù„Ù’Ù‚ÙŽØ¯Ù’Ø±Ù ÛÙ¡", "ØªÙŽÙ†ÙŽØ²ÙŽÙ‘Ù„Ù Ø§Ù„Ù’Ù…ÙŽÙ„Ù°Û¤Ù‰ÙÙ•ÙƒÙŽØ©Ù ÙˆÙŽØ§Ù„Ø±ÙÙ‘ÙˆÙ’Ø­Ù ÙÙÙŠÙ’Ù‡ÙŽØ§", "Ø³ÙŽÙ„Ù°Ù…ÙŒ Û›Ù‡ÙÙŠÙŽ Ø­ÙŽØªÙ‘Ù°Ù‰ Ù…ÙŽØ·Ù’Ù„ÙŽØ¹Ù Ø§Ù„Ù’ÙÙŽØ¬Ù’Ø±Ù ÛÙ¥"], correctAnswer: 0, surahInfo: "QS. Al-Qadr: 3" },
    { level: "sedang", question: "Ù„ÙŽÙŠÙ’Ù„ÙŽØ©Ù Ø§Ù„Ù’Ù‚ÙŽØ¯Ù’Ø±Ù Û•Û™ Ø®ÙŽÙŠÙ’Ø±ÙŒ Ù…ÙÙ‘Ù†Ù’ Ø§ÙŽÙ„Ù’ÙÙ Ø´ÙŽÙ‡Ù’Ø±ÙÛ— ÛÙ£", options: ["ÙˆÙŽÙ…ÙŽØ¢ Ø§ÙŽØ¯Ù’Ø±Ù°Ù‰ÙƒÙŽ Ù…ÙŽØ§ Ù„ÙŽÙŠÙ’Ù„ÙŽØ©Ù Ø§Ù„Ù’Ù‚ÙŽØ¯Ù’Ø±ÙÛ— ÛÙ¢", "Ø³ÙŽÙ„Ù°Ù…ÙŒ Û›Ù‡ÙÙŠÙŽ Ø­ÙŽØªÙ‘Ù°Ù‰ Ù…ÙŽØ·Ù’Ù„ÙŽØ¹Ù Ø§Ù„Ù’ÙÙŽØ¬Ù’Ø±Ù ÛÙ¥", "Ø§ÙÙ†ÙŽÙ‘Ø¢ Ø§ÙŽÙ†Ù’Ø²ÙŽÙ„Ù’Ù†Ù°Ù‡Ù ÙÙÙŠÙ’ Ù„ÙŽÙŠÙ’Ù„ÙŽØ©Ù Ø§Ù„Ù’Ù‚ÙŽØ¯Ù’Ø±Ù ÛÙ¡", "ØªÙŽÙ†ÙŽØ²ÙŽÙ‘Ù„Ù Ø§Ù„Ù’Ù…ÙŽÙ„Ù°Û¤Ù‰ÙÙ•ÙƒÙŽØ©Ù ÙˆÙŽØ§Ù„Ø±ÙÙ‘ÙˆÙ’Ø­Ù ÙÙÙŠÙ’Ù‡ÙŽØ§ Ø¨ÙØ§ÙØ°Ù’Ù†Ù Ø±ÙŽØ¨ÙÙ‘Ù‡ÙÙ…Ù’ Ù…ÙÙ‘Ù†Ù’ ÙƒÙÙ„ÙÙ‘ Ø§ÙŽÙ…Ù’Ø±ÙÛ› ÛÙ¤"], correctAnswer: 3, surahInfo: "QS. Al-Qadr: 4" },

    // === LEVEL SULIT ===
    
    // --- QS. An-Naba' ---
    { level: "sulit", question: "Ø¹ÙŽÙ…ÙŽÙ‘ ÙŠÙŽØªÙŽØ³ÙŽØ§Û¤Ø¡ÙŽÙ„ÙÙˆÙ’Ù†ÙŽÛš ÛÙ¡", options: ["Ø¹ÙŽÙ†Ù Ø§Ù„Ù†ÙŽÙ‘Ø¨ÙŽØ§Ù Ø§Ù„Ù’Ø¹ÙŽØ¸ÙÙŠÙ’Ù…ÙÛ™ ÛÙ¢", "Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ Ù‡ÙÙ…Ù’ ÙÙÙŠÙ’Ù‡Ù Ù…ÙØ®Ù’ØªÙŽÙ„ÙÙÙÙˆÙ’Ù†ÙŽÛ— ÛÙ£", "ÙƒÙŽÙ„ÙŽÙ‘Ø§ Ø³ÙŽÙŠÙŽØ¹Ù’Ù„ÙŽÙ…ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ¤", "Ø§ÙŽÙ„ÙŽÙ…Ù’ Ù†ÙŽØ¬Ù’Ø¹ÙŽÙ„Ù Ø§Ù„Ù’Ø§ÙŽØ±Ù’Ø¶ÙŽ Ù…ÙÙ‡Ù°Ø¯Ù‹Ø§Û™ ÛÙ¦"], correctAnswer: 0, surahInfo: "QS. An-Naba': 2" },
    { level: "sulit", question: "Ø¹ÙŽÙ†Ù Ø§Ù„Ù†ÙŽÙ‘Ø¨ÙŽØ§Ù Ø§Ù„Ù’Ø¹ÙŽØ¸ÙÙŠÙ’Ù…ÙÛ™ ÛÙ¢", options: ["Ø«ÙÙ…ÙŽÙ‘ ÙƒÙŽÙ„ÙŽÙ‘Ø§ Ø³ÙŽÙŠÙŽØ¹Ù’Ù„ÙŽÙ…ÙÙˆÙ’Ù†ÙŽ ÛÙ¥", "ÙƒÙŽÙ„ÙŽÙ‘Ø§ Ø³ÙŽÙŠÙŽØ¹Ù’Ù„ÙŽÙ…ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ¤", "Ø§ÙŽÙ„ÙŽÙ…Ù’ Ù†ÙŽØ¬Ù’Ø¹ÙŽÙ„Ù Ø§Ù„Ù’Ø§ÙŽØ±Ù’Ø¶ÙŽ Ù…ÙÙ‡Ù°Ø¯Ù‹Ø§Û™ ÛÙ¦", "Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ Ù‡ÙÙ…Ù’ ÙÙÙŠÙ’Ù‡Ù Ù…ÙØ®Ù’ØªÙŽÙ„ÙÙÙÙˆÙ’Ù†ÙŽÛ— ÛÙ£"], correctAnswer: 3, surahInfo: "QS. An-Naba': 3" },
    { level: "sulit", question: "Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ Ù‡ÙÙ…Ù’ ÙÙÙŠÙ’Ù‡Ù Ù…ÙØ®Ù’ØªÙŽÙ„ÙÙÙÙˆÙ’Ù†ÙŽÛ— ÛÙ£", options: ["Ø¹ÙŽÙ†Ù Ø§Ù„Ù†ÙŽÙ‘Ø¨ÙŽØ§Ù Ø§Ù„Ù’Ø¹ÙŽØ¸ÙÙŠÙ’Ù…ÙÛ™ ÛÙ¢", "ÙƒÙŽÙ„ÙŽÙ‘Ø§ Ø³ÙŽÙŠÙŽØ¹Ù’Ù„ÙŽÙ…ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ¤", "Ø«ÙÙ…ÙŽÙ‘ ÙƒÙŽÙ„ÙŽÙ‘Ø§ Ø³ÙŽÙŠÙŽØ¹Ù’Ù„ÙŽÙ…ÙÙˆÙ’Ù†ÙŽ ÛÙ¥", "ÙˆÙŽØ§Ù„Ù’Ø¬ÙØ¨ÙŽØ§Ù„ÙŽ Ø§ÙŽÙˆÙ’ØªÙŽØ§Ø¯Ù‹Ø§Û™ ÛÙ§"], correctAnswer: 1, surahInfo: "QS. An-Naba': 4" },
    { level: "sulit", question: "ÙƒÙŽÙ„ÙŽÙ‘Ø§ Ø³ÙŽÙŠÙŽØ¹Ù’Ù„ÙŽÙ…ÙÙˆÙ’Ù†ÙŽÛ™ ÛÙ¤", options: ["Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ Ù‡ÙÙ…Ù’ ÙÙÙŠÙ’Ù‡Ù Ù…ÙØ®Ù’ØªÙŽÙ„ÙÙÙÙˆÙ’Ù†ÙŽÛ— ÛÙ£", "Ø§ÙŽÙ„ÙŽÙ…Ù’ Ù†ÙŽØ¬Ù’Ø¹ÙŽÙ„Ù Ø§Ù„Ù’Ø§ÙŽØ±Ù’Ø¶ÙŽ Ù…ÙÙ‡Ù°Ø¯Ù‹Ø§Û™ ÛÙ¦", "Ø¹ÙŽÙ†Ù Ø§Ù„Ù†ÙŽÙ‘Ø¨ÙŽØ§Ù Ø§Ù„Ù’Ø¹ÙŽØ¸ÙÙŠÙ’Ù…ÙÛ™ ÛÙ¢", "Ø«ÙÙ…ÙŽÙ‘ ÙƒÙŽÙ„ÙŽÙ‘Ø§ Ø³ÙŽÙŠÙŽØ¹Ù’Ù„ÙŽÙ…ÙÙˆÙ’Ù†ÙŽ ÛÙ¥"], correctAnswer: 3, surahInfo: "QS. An-Naba': 5" },
    
    // --- QS. Al-Buruj ---
    { level: "sulit", question: "ÙˆÙŽØ§Ù„Ø³ÙŽÙ‘Ù…ÙŽØ§Û¤Ø¡Ù Ø°ÙŽØ§ØªÙ Ø§Ù„Ù’Ø¨ÙØ±ÙÙˆÙ’Ø¬ÙÛ™ ÛÙ¡", options: ["ÙˆÙŽØ§Ù„Ù’ÙŠÙŽÙˆÙ’Ù…Ù Ø§Ù„Ù’Ù…ÙŽÙˆÙ’Ø¹ÙÙˆÙ’Ø¯ÙÛ™ ÛÙ¢", "ÙˆÙŽØ´ÙŽØ§Ù‡ÙØ¯Ù ÙˆÙŽÙ‘Ù…ÙŽØ´Ù’Ù‡ÙÙˆÙ’Ø¯ÙÛ— ÛÙ£", "Ù‚ÙØªÙÙ„ÙŽ Ø§ÙŽØµÙ’Ø­Ù°Ø¨Ù Ø§Ù„Ù’Ø§ÙØ®Ù’Ø¯ÙÙˆÙ’Ø¯ÙÛ™ ÛÙ¤", "Ø§ÙÙ†ÙŽÙ‘ Ø¨ÙŽØ·Ù’Ø´ÙŽ Ø±ÙŽØ¨ÙÙ‘ÙƒÙŽ Ù„ÙŽØ´ÙŽØ¯ÙÙŠÙ’Ø¯ÙŒÛ— ÛÙ¡Ù¢"], correctAnswer: 0, surahInfo: "QS. Al-Buruj: 2" },
    { level: "sulit", question: "ÙˆÙŽØ§Ù„Ù’ÙŠÙŽÙˆÙ’Ù…Ù Ø§Ù„Ù’Ù…ÙŽÙˆÙ’Ø¹ÙÙˆÙ’Ø¯ÙÛ™ ÛÙ¢", options: ["Ù‚ÙØªÙÙ„ÙŽ Ø§ÙŽØµÙ’Ø­Ù°Ø¨Ù Ø§Ù„Ù’Ø§ÙØ®Ù’Ø¯ÙÙˆÙ’Ø¯ÙÛ™ ÛÙ¤", "Ø§Ù„Ù†ÙŽÙ‘Ø§Ø±Ù Ø°ÙŽØ§ØªÙ Ø§Ù„Ù’ÙˆÙŽÙ‚ÙÙˆÙ’Ø¯ÙÛ™ ÛÙ¥", "ÙˆÙŽØ´ÙŽØ§Ù‡ÙØ¯Ù ÙˆÙŽÙ‘Ù…ÙŽØ´Ù’Ù‡ÙÙˆÙ’Ø¯ÙÛ— ÛÙ£", "Ø§ÙØ°Ù’ Ù‡ÙÙ…Ù’ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù‡ÙŽØ§ Ù‚ÙØ¹ÙÙˆÙ’Ø¯ÙŒÛ™ ÛÙ¦"], correctAnswer: 2, surahInfo: "QS. Al-Buruj: 3" },
    { level: "sulit", question: "ÙˆÙŽØ´ÙŽØ§Ù‡ÙØ¯Ù ÙˆÙŽÙ‘Ù…ÙŽØ´Ù’Ù‡ÙÙˆÙ’Ø¯ÙÛ— ÛÙ£", options: ["Ø§Ù„Ù†ÙŽÙ‘Ø§Ø±Ù Ø°ÙŽØ§ØªÙ Ø§Ù„Ù’ÙˆÙŽÙ‚ÙÙˆÙ’Ø¯ÙÛ™ ÛÙ¥", "Ù‚ÙØªÙÙ„ÙŽ Ø§ÙŽØµÙ’Ø­Ù°Ø¨Ù Ø§Ù„Ù’Ø§ÙØ®Ù’Ø¯ÙÙˆÙ’Ø¯ÙÛ™ ÛÙ¤", "Ø§ÙØ°Ù’ Ù‡ÙÙ…Ù’ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù‡ÙŽØ§ Ù‚ÙØ¹ÙÙˆÙ’Ø¯ÙŒÛ™ ÛÙ¦", "ÙˆÙŽØ§Ù„Ù’ÙŠÙŽÙˆÙ’Ù…Ù Ø§Ù„Ù’Ù…ÙŽÙˆÙ’Ø¹ÙÙˆÙ’Ø¯ÙÛ™ ÛÙ¢"], correctAnswer: 1, surahInfo: "QS. Al-Buruj: 4" },

    // --- QS. At-Tariq ---
    { level: "sulit", question: "ÙˆÙŽØ§Ù„Ø³ÙŽÙ‘Ù…ÙŽØ§Û¤Ø¡Ù ÙˆÙŽØ§Ù„Ø·ÙŽÙ‘Ø§Ø±ÙÙ‚ÙÛ™ ÛÙ¡", options: ["Ø§ÙŽÙ„Ù†ÙŽÙ‘Ø¬Ù’Ù…Ù Ø§Ù„Ø«ÙŽÙ‘Ø§Ù‚ÙØ¨ÙÛ™ ÛÙ£", "Ø§ÙÙ†Ù’ ÙƒÙÙ„ÙÙ‘ Ù†ÙŽÙÙ’Ø³Ù Ù„ÙŽÙ‘Ù…ÙŽÙ‘Ø§ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù‡ÙŽØ§ Ø­ÙŽØ§ÙÙØ¸ÙŒÛ— ÛÙ¤", "ÙˆÙŽÙ…ÙŽØ¢ Ø§ÙŽØ¯Ù’Ø±Ù°Ù‰ÙƒÙŽ Ù…ÙŽØ§ Ø§Ù„Ø·ÙŽÙ‘Ø§Ø±ÙÙ‚ÙÛ™ ÛÙ¢", "ÙÙŽÙ„Ù’ÙŠÙŽÙ†Ù’Ø¸ÙØ±Ù Ø§Ù„Ù’Ø§ÙÙ†Ù’Ø³ÙŽØ§Ù†Ù Ù…ÙÙ…ÙŽÙ‘ Ø®ÙÙ„ÙÙ‚ÙŽ ÛÙ¥"], correctAnswer: 2, surahInfo: "QS. At-Tariq: 2" },
    { level: "sulit", question: "ÙˆÙŽÙ…ÙŽØ¢ Ø§ÙŽØ¯Ù’Ø±Ù°Ù‰ÙƒÙŽ Ù…ÙŽØ§ Ø§Ù„Ø·ÙŽÙ‘Ø§Ø±ÙÙ‚ÙÛ™ ÛÙ¢", options: ["Ø®ÙÙ„ÙÙ‚ÙŽ Ù…ÙÙ†Ù’ Ù…ÙŽÙ‘Ø§Û¤Ø¡Ù Ø¯ÙŽØ§ÙÙÙ‚ÙÛ™ ÛÙ¦", "Ø§ÙÙ†Ù’ ÙƒÙÙ„ÙÙ‘ Ù†ÙŽÙÙ’Ø³Ù Ù„ÙŽÙ‘Ù…ÙŽÙ‘Ø§ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù‡ÙŽØ§ Ø­ÙŽØ§ÙÙØ¸ÙŒÛ— ÛÙ¤", "Ø§ÙŽÙ„Ù†ÙŽÙ‘Ø¬Ù’Ù…Ù Ø§Ù„Ø«ÙŽÙ‘Ø§Ù‚ÙØ¨ÙÛ™ ÛÙ£", "ÙŠÙŽØ®Ù’Ø±ÙØ¬Ù Ù…ÙÙ†Ù’Û¢ Ø¨ÙŽÙŠÙ’Ù†Ù Ø§Ù„ØµÙÙ‘Ù„Ù’Ø¨Ù ÙˆÙŽØ§Ù„ØªÙŽÙ‘Ø±ÙŽØ§Û¤Ù‰ÙÙ•Ø¨ÙÛ— ÛÙ§"], correctAnswer: 2, surahInfo: "QS. At-Tariq: 3" },
    { level: "sulit", question: "Ø§ÙŽÙ„Ù†ÙŽÙ‘Ø¬Ù’Ù…Ù Ø§Ù„Ø«ÙŽÙ‘Ø§Ù‚ÙØ¨ÙÛ™ ÛÙ£", options: ["ÙÙŽÙ„Ù’ÙŠÙŽÙ†Ù’Ø¸ÙØ±Ù Ø§Ù„Ù’Ø§ÙÙ†Ù’Ø³ÙŽØ§Ù†Ù Ù…ÙÙ…ÙŽÙ‘ Ø®ÙÙ„ÙÙ‚ÙŽ ÛÙ¥", "ÙˆÙŽÙ…ÙŽØ¢ Ø§ÙŽØ¯Ù’Ø±Ù°Ù‰ÙƒÙŽ Ù…ÙŽØ§ Ø§Ù„Ø·ÙŽÙ‘Ø§Ø±ÙÙ‚ÙÛ™ ÛÙ¢", "Ø®ÙÙ„ÙÙ‚ÙŽ Ù…ÙÙ†Ù’ Ù…ÙŽÙ‘Ø§Û¤Ø¡Ù Ø¯ÙŽØ§ÙÙÙ‚ÙÛ™ ÛÙ¦", "Ø§ÙÙ†Ù’ ÙƒÙÙ„ÙÙ‘ Ù†ÙŽÙÙ’Ø³Ù Ù„ÙŽÙ‘Ù…ÙŽÙ‘Ø§ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù‡ÙŽØ§ Ø­ÙŽØ§ÙÙØ¸ÙŒÛ— ÛÙ¤"], correctAnswer: 3, surahInfo: "QS. At-Tariq: 4" },
    
    // --- QS. Al-A'la ---
    { level: "sulit", question: "Ø³ÙŽØ¨ÙÙ‘Ø­Ù Ø§Ø³Ù’Ù…ÙŽ Ø±ÙŽØ¨ÙÙ‘ÙƒÙŽ Ø§Ù„Ù’Ø§ÙŽØ¹Ù’Ù„ÙŽÙ‰Û™ ÛÙ¡", options: ["ÙˆÙŽØ§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ Ù‚ÙŽØ¯ÙŽÙ‘Ø±ÙŽ ÙÙŽÙ‡ÙŽØ¯Ù°Ù‰Û– ÛÙ£", "Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ Ø®ÙŽÙ„ÙŽÙ‚ÙŽ ÙÙŽØ³ÙŽÙˆÙ‘Ù°Ù‰Û– ÛÙ¢", "ÙˆÙŽØ§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’Ù“ Ø§ÙŽØ®Ù’Ø±ÙŽØ¬ÙŽ Ø§Ù„Ù’Ù…ÙŽØ±Ù’Ø¹Ù°Ù‰Û– ÛÙ¤", "ÙÙŽØ¬ÙŽØ¹ÙŽÙ„ÙŽÙ‡Ù— ØºÙØ«ÙŽØ§Û¤Ø¡Ù‹ Ø§ÙŽØ­Ù’ÙˆÙ°Ù‰Û— ÛÙ¥"], correctAnswer: 1, surahInfo: "QS. Al-A'la: 2" },
    { level: "sulit", question: "Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ Ø®ÙŽÙ„ÙŽÙ‚ÙŽ ÙÙŽØ³ÙŽÙˆÙ‘Ù°Ù‰Û– ÛÙ¢", options: ["ÙˆÙŽØ§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ Ù‚ÙŽØ¯ÙŽÙ‘Ø±ÙŽ ÙÙŽÙ‡ÙŽØ¯Ù°Ù‰Û– ÛÙ£", "Ø³ÙŽÙ†ÙÙ‚Ù’Ø±ÙØ¦ÙÙƒÙŽ ÙÙŽÙ„ÙŽØ§ ØªÙŽÙ†Ù’Ø³Ù°Ù‰Ù“ ÛÙ¦", "ÙˆÙŽØ§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’Ù“ Ø§ÙŽØ®Ù’Ø±ÙŽØ¬ÙŽ Ø§Ù„Ù’Ù…ÙŽØ±Ù’Ø¹Ù°Ù‰Û– ÛÙ¤", "Ø§ÙÙ„ÙŽÙ‘Ø§ Ù…ÙŽØ§ Ø´ÙŽØ§Û¤Ø¡ÙŽ Ø§Ù„Ù„Ù‘Ù°Ù‡Ù Û—Ø§ÙÙ†ÙŽÙ‘Ù‡Ù— ÙŠÙŽØ¹Ù’Ù„ÙŽÙ…Ù Ø§Ù„Ù’Ø¬ÙŽÙ‡Ù’Ø±ÙŽ ÙˆÙŽÙ…ÙŽØ§ ÙŠÙŽØ®Ù’ÙÙ°Ù‰Û— ÛÙ§"], correctAnswer: 0, surahInfo: "QS. Al-A'la: 3" },
    { level: "sulit", question: "ÙˆÙŽØ§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ Ù‚ÙŽØ¯ÙŽÙ‘Ø±ÙŽ ÙÙŽÙ‡ÙŽØ¯Ù°Ù‰Û– ÛÙ£", options: ["ÙÙŽØ¬ÙŽØ¹ÙŽÙ„ÙŽÙ‡Ù— ØºÙØ«ÙŽØ§Û¤Ø¡Ù‹ Ø§ÙŽØ­Ù’ÙˆÙ°Ù‰Û— ÛÙ¥", "Ø§ÙÙ„ÙŽÙ‘Ø§ Ù…ÙŽØ§ Ø´ÙŽØ§Û¤Ø¡ÙŽ Ø§Ù„Ù„Ù‘Ù°Ù‡Ù Û—Ø§ÙÙ†ÙŽÙ‘Ù‡Ù— ÙŠÙŽØ¹Ù’Ù„ÙŽÙ…Ù Ø§Ù„Ù’Ø¬ÙŽÙ‡Ù’Ø±ÙŽ ÙˆÙŽÙ…ÙŽØ§ ÙŠÙŽØ®Ù’ÙÙ°Ù‰Û— ÛÙ§", "ÙˆÙŽØ§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’Ù“ Ø§ÙŽØ®Ù’Ø±ÙŽØ¬ÙŽ Ø§Ù„Ù’Ù…ÙŽØ±Ù’Ø¹Ù°Ù‰Û– ÛÙ¤", "Ø³ÙŽÙ†ÙÙ‚Ù’Ø±ÙØ¦ÙÙƒÙŽ ÙÙŽÙ„ÙŽØ§ ØªÙŽÙ†Ù’Ø³Ù°Ù‰Ù“ ÛÙ¦"], correctAnswer: 2, surahInfo: "QS. Al-A'la: 4" },
    { level: "sulit", question: "ÙˆÙŽØ§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’Ù“ Ø§ÙŽØ®Ù’Ø±ÙŽØ¬ÙŽ Ø§Ù„Ù’Ù…ÙŽØ±Ù’Ø¹Ù°Ù‰Û– ÛÙ¤", options: ["Ø³ÙŽÙ†ÙÙ‚Ù’Ø±ÙØ¦ÙÙƒÙŽ ÙÙŽÙ„ÙŽØ§ ØªÙŽÙ†Ù’Ø³Ù°Ù‰Ù“ ÛÙ¦", "ÙÙŽØ¬ÙŽØ¹ÙŽÙ„ÙŽÙ‡Ù— ØºÙØ«ÙŽØ§Û¤Ø¡Ù‹ Ø§ÙŽØ­Ù’ÙˆÙ°Ù‰Û— ÛÙ¥", "ÙˆÙŽØ§Ù„ÙŽÙ‘Ø°ÙÙŠÙ’ Ù‚ÙŽØ¯ÙŽÙ‘Ø±ÙŽ ÙÙŽÙ‡ÙŽØ¯Ù°Ù‰Û– ÛÙ£", "Ø§ÙÙ„ÙŽÙ‘Ø§ Ù…ÙŽØ§ Ø´ÙŽØ§Û¤Ø¡ÙŽ Ø§Ù„Ù„Ù‘Ù°Ù‡Ù Û—Ø§ÙÙ†ÙŽÙ‘Ù‡Ù— ÙŠÙŽØ¹Ù’Ù„ÙŽÙ…Ù Ø§Ù„Ù’Ø¬ÙŽÙ‡Ù’Ø±ÙŽ ÙˆÙŽÙ…ÙŽØ§ ÙŠÙŽØ®Ù’ÙÙ°Ù‰Û— ÛÙ§"], correctAnswer: 1, surahInfo: "QS. Al-A'la: 5" }
];
    
// [MODIFIKASI] Data untuk Toko Tema diubah agar lebih lengkap
const themes = [
    // Tema sebelumnya...
    { id: 'default', name: 'Standar', price: 0, colors: ['#0d264a', '#f0f4f8', '#f9d788', '#ffffff'] },
    { id: 'forest', name: 'Hutan Senja', price: 200, colors: ['#2d5a2d', '#f0fff0', '#ffcf40', '#ffffff'] },
    { id: 'ocean', name: 'Biru Samudra', price: 250, colors: ['#1e3a5f', '#e6f7ff', '#6ab0de', '#fcfcfc'] },
    { id: 'royal', name: 'Ungu Royal', price: 300, colors: ['#4c2a85', '#f3e5f5', '#d1c4e9', '#ffffff'] },
    { id: 'desert', name: 'Gurun Emas', price: 350, colors: ['#8c5a2b', '#fff8e1', '#ffc107', '#fffdf7'] },

    // Tema modern
    { id: 'midnight', name: 'Midnight Glow', price: 400, colors: ['#0f0f1a', '#1a1a2e', '#ff4081', '#2e2e3a'] },
    { id: 'sunset', name: 'Senja Cerah', price: 420, colors: ['#ff5e62', '#ffe7d1', '#ff9a8b', '#fff2ec'] },
    { id: 'aqua', name: 'Aqua Mint', price: 380, colors: ['#00bfa6', '#e0f7f4', '#66d9cc', '#ffffff'] },
    { id: 'blossom', name: 'Bunga Sakura', price: 390, colors: ['#f8bbd0', '#fff0f6', '#f06292', '#ffffff'] },
    { id: 'tech', name: 'Cyber Neon', price: 450, colors: ['#000000', '#121212', '#00ffff', '#1e1e1e'] },

    // Modern klasik
    { id: 'classicblue', name: 'Biru Klasik', price: 500, colors: ['#002147', '#e3eaf2', '#6c91bf', '#ffffff'] },
    { id: 'vintagegold', name: 'Emas Vintage', price: 750, colors: ['#3e2c00', '#fff8e5', '#d4af37', '#fbf6e8'] },
    { id: 'rosewood', name: 'Rosewood', price: 1000, colors: ['#65000b', '#f9f2f2', '#b76e79', '#fff8f8'] },
    { id: 'imperial', name: 'Imperial Elegance', price: 2000, colors: ['#2c2a4a', '#f6f6f6', '#d4a373', '#ffffff'] },
    { id: 'onyxbronze', name: 'Onyx Bronze', price: 3000, colors: ['#1c1c1c', '#f5f5f5', '#cd7f32', '#f9f9f9'] },

    // ðŸ•Œ Tema Islami
    { id: 'nabawi_green', name: 'Hijau Nabawi', price: 550, colors: ['#014421', '#f5f5dc', '#d4af37', '#ffffff'] },
    { id: 'mecca_twilight', name: 'Senja di Mekkah', price: 850, colors: ['#2c2a4a', '#ead1dc', '#c0c0c0', '#f5f5f5'] },
    { id: 'islamic_geometry', name: 'Geometri Islami', price: 900, colors: ['#008080', '#f5f5dc', '#daa520', '#ffffff'] },
    { id: 'ramadan_lantern', name: 'Lentera Ramadan', price: 1200, colors: ['#8b4513', '#fffacd', '#ffbf00', '#fafafa'] },
    { id: 'kaaba_gold', name: 'Kiswah Ka\'bah', price: 3500, colors: ['#000000', '#1c1c1c', '#b8860b', '#f0f0f0'] },
    
    // ðŸŒ Tema Masa Depan
    { id: 'neoncore', name: 'Neon Core', price: 5000, colors: ['#0a0a0a', '#121212', '#ff00ff', '#222222'] },
    { id: 'quantum', name: 'Quantum Pulse', price: 10000, colors: ['#1a0033', '#330066', '#66ffcc', '#1e0033'] },
    { id: 'hologram', name: 'Hologram Light', price: 15000, colors: ['#ffffff', '#f0f0ff', '#cc99ff', '#e6e6ff'] },
    { id: 'ultrachrome', name: 'Ultra Chrome', price: 18000, colors: ['#101010', '#202020', '#00e6e6', '#1c1c1c'] },
    { id: 'hypernova', name: 'Hypernova', price: 20000, colors: ['#14002e', '#1f003f', '#ff5ef7', '#250045'] }
    
];

const motivationData = [
    { id: 1, text: "Kesabaran itu ada dua macam: sabar atas sesuatu yang tidak kau ingin dan sabar menahan diri dari sesuatu yang kau ingini.", author: "Ali bin Abi Thalib", category: "Sabar", featured: true },
    { id: 2, text: "Jangan berduka. Apa pun yang hilang darimu akan kembali lagi dalam wujud lain.", author: "Jalaluddin Rumi", category: "Sabar" },
    { id: 3, text: "Bersyukurlah, karena rasa syukur akan menambah nikmat yang telah ada dan membuka pintu nikmat yang belum datang.", author: "Imam Al-Ghazali", category: "Syukur", featured: true },
    { id: 4, text: "Barangsiapa tidak mensyukuri yang sedikit, maka ia tidak akan mampu mensyukuri yang banyak.", author: "HR. Ahmad", category: "Syukur" },
    { id: 5, text: "Jadilah engkau di dunia ini seakan-akan orang asing atau seorang pengembara.", author: "HR. Bukhari no. 6416", category: "Semangat", featured: true },
    { id: 6, text: "Kegagalan adalah cara Allah untuk mengatakan 'Bersabarlah, Aku memiliki sesuatu yang lebih baik untukmu'.", author: "Ridho Sandhika", category: "Sabar" },
    { id: 7, text: "Hiduplah seperti pohon kayu yang lebat buahnya; hidup di tepi jalan dan dilempari dengan batu, tetapi membalas dengan buah.", author: "Abu Bakar As-Siddiq", category: "Sabar" },
    { id: 8, text: "Dunia ini ibarat bayangan. Kalau kau coba menangkapnya, ia akan lari. Tapi kalau kau membelakanginya, ia tak punya pilihan selain mengikutimu.", author: "Ibnu Qayyim Al-Jauziyyah", category: "Semangat" },
    { id: 9, text: "Jika kamu tidak dapat menahan lelahnya belajar, maka kamu harus sanggup menahan perihnya kebodohan.", author: "Imam Syafi'i", category: "Semangat" },
    { id: 10, text: "Orang yang paling aku sukai adalah dia yang menunjukkan kesalahanku.", author: "Umar bin Khattab", category: "Semangat" },
    { id: 11, text: "Cukuplah Allah sebagai penolong kami, dan Allah adalah sebaik-baik pelindung.", author: "QS. Ali 'Imran: 173", category: "Syukur" },
    { id: 12, text: "Dan sedikit sekali dari hamba-hamba-Ku yang bersyukur.", author: "QS. Saba': 13", category: "Syukur" },
    { id: 13, text: "Maka sesungguhnya beserta kesulitan ada kemudahan.", author: "QS. Al-Insyirah: 5", category: "Sabar", featured: true },
    { id: 14, text: "Balaslah keburukan dengan kebaikan.", author: "Ridho Sandhika", category: "Sabar" },
    { id: 15, text: "Janganlah kamu berputus asa dari rahmat Allah.", author: "QS. Az-Zumar: 53", category: "Semangat", featured: true },
    { id: 16, text: "Tidak sempurna iman seseorang di antara kalian sehingga ia mencintai saudaranya sebagaimana ia mencintai dirinya sendiri.", author: "HR. Bukhari & Muslim", category: "Jodoh", featured: true },
    { id: 17, text: "Cinta kepada Allah adalah puncak dari segala cinta. Lembahnya adalah cinta kepada sesama.", author: "Imam Syafi'i", category: "Jodoh" },
    { id: 18, text: "Dan di antara tanda-tanda kekuasaan-Nya ialah Dia menciptakan untukmu isteri-isteri dari jenismu sendiri, supaya kamu cenderung dan merasa tenteram kepadanya, dan dijadikan-Nya diantaramu rasa kasih dan sayang.", author: "QS. Ar-Rum: 21", category: "Jodoh" },
    { id: 19, text: "Cintailah kekasihmu sekadarnya saja, siapa tahu nanti akan jadi musuhmu. Dan bencilah musuhmu sekadarnya saja, siapa tahu nanti akan jadi kekasihmu.", author: "Ali bin Abi Thalib", category: "Jodoh" },
    { id: 20, text: "Perumpamaan kaum mukminin dalam berkasih sayang bagaikan satu tubuh. Apabila satu anggota tubuh sakit, maka anggota tubuh yang lain akan ikut merasakan sakit dengan demam dan tidak bisa tidur.", author: "HR. Muslim", category: "Jodoh" },
    { id: 21, text: "Jika engkau mencintai seseorang, beritahukanlah kepadanya bahwa engkau mencintainya.", author: "HR. Abu Dawud", category: "Jodoh" },
    { id: 22, text: "Ruh-ruh itu laksana prajurit yang berbaris-baris. Yang saling mengenal akan bersatu, dan yang tidak saling mengenal akan berpisah.", author: "HR. Bukhari", category: "Jodoh" },
    { id: 23, text: "Jangan menjelaskan tentang dirimu kepada siapa pun. Karena yang menyukaimu tidak butuh itu, dan yang membencimu tidak percaya itu.", author: "Ali bin Abi Thalib", category: "Jodoh" },
    { id: 24, text: "Aku sudah pernah merasakan semua kepahitan dalam hidup, dan yang paling pahit ialah berharap kepada manusia.", author: "Ali bin Abi Thalib", category: "Jodoh" },
    { id: 25, text: "Orang yang suka berkata jujur akan mendapatkan tiga hal: kepercayaan, cinta, dan rasa hormat.", author: "Ali bin Abi Thalib", category: "Jodoh" },
    { id: 26, text: "Cintailah siapapun yang engkau mau, tapi ingat, engkau akan berpisah dengannya. Malaikat Maut akan menjadi pemisah setiap cinta duniawi.", author: "Annur Islamic", category: "Jodoh" },
    { id: 27, text: "Barangsiapa yang suka bertemu dengan Allah, maka Allah pun suka bertemu dengannya. Dan pertemuan itu terjadi setelah kematian.", author: "HR. Bukhari", category: "Jodoh", featured: true },
    { id: 28, text: "Jadikanlah kematian sebagai penasihat cintamu. Ia akan membuat cintamu pada dunia menjadi secukupnya, dan cintamu pada akhirat menjadi segalanya.", author: "Annur Islamic", category: "Jodoh" },
    { id: 29, text: "Wanita-wanita yang baik adalah untuk laki-laki yang baik dan laki-laki yang baik adalah untuk wanita-wanita yang baik (pula).", author: "QS. An-Nur: 26", category: "Jodoh", featured: true },
    { id: 30, text: "Dan Kami menciptakan kamu berpasang-pasangan.", author: "QS. An-Naba': 8", category: "Jodoh" },
    { id: 31, text: "Jodoh itu cerminan diri. Bukan mencari yang sempurna, tapi saling menyempurnakan dalam ikatan yang diridhai-Nya.", author: "Annur Islamic", category: "Jodoh" },
    { id: 32, text: "Ketika hatimu terlalu berharap kepada seseorang, maka Allah timpakan ke atas kamu kepedihan agar kamu kembali berharap kepada-Nya.", author: "Imam Syafi'i", category: "Jodoh" },
    { id: 33, text: "Tulang rusuk dan pemiliknya tidak akan pernah tertukar. Sabarlah dalam penantian dan ikhtiar.", author: "Annur Islamic", category: "Jodoh" },
    { id: 34, text: "Tiap-tiap yang berjiwa akan merasakan mati.", author: "QS. Ali 'Imran: 185", category: "Maut", featured: true },
    { id: 35, text: "Perbanyaklah mengingat pemutus kelezatan, yaitu kematian.", author: "HR. Tirmidzi", category: "Maut" },
    { id: 36, text: "Kematian bukanlah akhir dari segalanya, melainkan awal dari kehidupan yang sebenarnya.", author: "Annur Islamic", category: "Maut" },
    { id: 37, text: "Orang yang paling cerdas adalah yang paling banyak mengingat kematian serta paling baik persiapannya untuk kehidupan setelah kematian.", author: "HR. Ibnu Majah", category: "Maut" },
    { id: 38, text: "Cukuplah kematian sebagai nasihat.", author: "Umar bin Khattab", category: "Maut", featured: true },
    { id: 39, text: "Tugas kita bukan untuk berhasil, melainkan untuk terus mencoba. Soal hasil, serahkan pada skenario terbaik dari-Nya.", author: "Ridho Sandhika", category: "Semangat", featured: true },
    { id: 40, text: "Saat duniamu terasa sempit, ingatlah bahwa rahmat Allah itu seluas langit. Jangan pernah berhenti berharap dan berusaha.", author: "Ridho Sandhika", category: "Semangat" },
    { id: 41, text: "Ujian itu bukan untuk menjatuhkanmu, tapi untuk meningkatkan levelmu. Hadapi dengan sabar, jalani dengan ikhlas.", author: "Ridho Sandhika", category: "Semangat" },
    { id: 42, text: "Jangan menunggu sempurna untuk memulai, tapi mulailah untuk menjadi lebih baik setiap harinya karena Allah.", author: "Ridho Sandhika", category: "Semangat" },
    { id: 43, text: "Menantimu dalam doa adalah cara terbaikku memantaskan diri. Sebab aku percaya, janji Allah tak akan pernah salah alamat.", author: "Ridho Sandhika", category: "Jodoh", featured: true },
    { id: 44, text: "Jodoh bukan tentang siapa yang datang paling cepat, tapi siapa yang datang dengan niat ibadah dan siap membersamai hingga ke Jannah.", author: "Ridho Sandhika", category: "Jodoh" },
    { id: 45, text: "Fokus perbaiki diri untuk-Nya, maka Allah akan datangkan seseorang yang baik untukmu. Karena jodoh adalah cerminan, bukan sekadar pilihan.", author: "Ridho Sandhika", category: "Jodoh" },
    { id: 46, text: "Jika penantian ini terasa berat, mungkin Allah sedang merindukan rintihan doamu. Teruslah meminta yang terbaik, Dia Maha Mendengar.", author: "Ridho Sandhika", category: "Jodoh" },
    { id: 47, text: "Sabar itu bukan hanya tentang menunggu, tapi tentang bagaimana kita bersikap saat sedang menunggu.", author: "Ananda Pratama", category: "Sabar" },
    { id: 48, text: "Dalam setiap ujian kesabaran, ada kekuatan baru yang sedang Allah tanamkan di dalam dirimu.", author: "Ananda Pratama", category: "Sabar", featured: true },
    { id: 49, text: "Sabar adalah seni mengelola hati agar tetap tenang di tengah badai, percaya bahwa pelangi akan segera datang.", author: "Ananda Pratama", category: "Sabar" },
    { id: 50, text: "Jangan lelah untuk bersabar dan berdoa. Karena Allah lebih tahu kapan waktu yang paling tepat untuk mengabulkan semuanya.", author: "Ananda Pratama", category: "Sabar" },
    { id: 51, text: "Sabar itu bukan berarti diam tak berbuat. Sabar adalah caramu berdialog dengan Allah, percaya penuh bahwa setiap detik penantianmu bernilai ibadah.", author: "Tirta", category: "Sabar" },
    { id: 52, text: "Saat sabarmu terasa habis, coba temukan satu hal kecil untuk disyukuri. Di situlah pintu kekuatan sabar akan kembali terbuka.", author: "Tirta", category: "Sabar", featured: true },
    { id: 53, text: "Allah tidak hanya memberimu ujian, tapi juga memberimu sabar untuk melaluinya. Anggaplah ini proses pembentukan terindah dari-Nya.", author: "Tirta", category: "Sabar" },
    { id: 54, text: "Sabar itu mungkin pahit di awal, tapi percayalah, buahnya lebih manis dari madu. Janji Allah tak pernah ingkar.", author: "Tirta", category: "Sabar" },
    { id: 55, text: "Doâ€™a mu tidak akan ditolak cuma dikabulkan di waktu yang tepat, ingat cinta allah lebih besar dari kekecewaanmu", author: "Tirta", category: "Sabar" },
    { id: 56, text: "Jika Allah membuatmu menunggu, bersiaplah untuk menerima lebih dari apa yang kamu minta.", author: "Annur Islamic", category: "Sabar & Tawakal" },
    { id: 57, text: "Jangan takut gagal, karena kegagalan adalah awal dari kesuksesan.", author: "Natasya leslie", category: "Semangat" },
    { id: 58, text: "Berdoa dan berusaha, maka Allah akan memberikan yang terbaik.", author: "Natasya leslie", category: "Semangat" },
    { id: 59, text: "Jangan menyerah, karena setiap kesulitan pasti ada kemudahan.", author: "Natasya leslie", category: "Semangat" },
    { id: 60, text: "Percayalah pada Allah, dan Allah akan memberikan jalan keluar.", author: "Natasya leslie", category: "Sabar" },
    { id: 61, text: "Jangan lupa bersyukur, karena setiap nikmat adalah anugerah dari Allah.", author: "Natasya leslie", category: "Syukur" },

    // --- [TAMBAHAN BARU: SABAR & TAWAKAL] ---
    { id: 62, text: "Tawakal bukan berarti pasrah tanpa usaha. Ia adalah puncak dari ikhtiar yang diiringi keyakinan penuh bahwa hasil terbaik ada di tangan-Nya.", author: "Ridho Sandhika", category: "Sabar & Tawakal" },
    { id: 63, text: "Saat hatimu gelisah, letakkan tanganmu di dada dan katakan: 'Hasbunallah wa ni'mal wakil'. Cukuplah Allah sebagai penolongku.", author: "Ridho Sandhika", category: "Sabar & Tawakal", featured: true },
    { id: 64, text: "Jangan terlalu khawatir tentang masa depan. Bersabarlah hari ini, berdoalah, dan bertawakallah. Allah adalah perencana terbaik.", author: "Ridho Sandhika", category: "Sabar & Tawakal" },
    { id: 65, text: "Sabar dalam penantian dan tawakal dalam ketidakpastian adalah bentuk ibadah hati yang paling indah.", author: "Ridho Sandhika", category: "Sabar & Tawakal" },
    { id: 66, text: "Semakin kuat tawakalku pada-Mu, semakin ringan bebanku. Karena aku tahu, Engkau selalu bersamaku, ya Allah.", author: "Ananda Pratama", category: "Sabar & Tawakal" }
];






const sahabatAnnurData = [
    // Data Asli yang Dipertahankan dan Diperbarui
    {
        keywords: ["rukun", "islam"],
        question: "Apa saja rukun Islam?",
        answer: "Rukun Islam ada lima: 1. Mengucap dua kalimat syahadat, 2. Mendirikan shalat, 3. Menunaikan zakat, 4. Berpuasa di bulan Ramadhan, dan 5. Menunaikan haji bagi yang mampu."
    },
    {
        keywords: ["rukun", "iman"],
        question: "Apa saja rukun Iman?",
        answer: "Rukun Iman ada enam: 1. Iman kepada Allah, 2. Iman kepada Malaikat, 3. Iman kepada Kitab-kitab Allah, 4. Iman kepada Rasul, 5. Iman kepada Hari Kiamat, dan 6. Iman kepada Qada dan Qadar (takdir)."
    },
    {
        keywords: ["arti", "salat", "sholat"],
        question: "Apa arti Salat?",
        answer: "Secara bahasa, salat berarti doa. Secara istilah, salat adalah serangkaian ucapan dan perbuatan tertentu yang dimulai dengan takbiratul ihram dan diakhiri dengan salam, dengan syarat-syarat tertentu."
    },
    {
        keywords: ["berapa", "kali", "salat", "sholat", "sehari"],
        question: "Berapa kali umat Islam salat dalam sehari?",
        answer: "Umat Islam diwajibkan shalat fardu lima kali dalam sehari: Subuh, Dzuhur, Ashar, Maghrib, dan Isya."
    },
    {
        keywords: ["siapa", "nabi", "muhammad"],
        question: "Siapakah Nabi Muhammad SAW?",
        answer: "Nabi Muhammad SAW adalah nabi dan rasul terakhir yang diutus oleh Allah SWT untuk seluruh umat manusia. Beliau menerima wahyu Al-Qur'an dan menjadi teladan utama bagi umat Islam."
    },
    {
        keywords: ["quran", "al-quran", "apa", "itu"],
        question: "Apa itu Al-Qurâ€™an?",
        answer: "Al-Qurâ€™an adalah kitab suci umat Islam yang berisi firman Allah, diturunkan dalam bahasa Arab kepada Nabi Muhammad ï·º sebagai petunjuk hidup bagi seluruh manusia."
    },
    {
        keywords: ["wudhu", "wudu", "apa", "itu"],
        question: "Apa itu Wudhu?",
        answer: "Wudhu adalah cara bersuci dari hadas kecil dengan membasuh bagian-bagian tubuh tertentu menggunakan air suci dan menyucikan sebelum melaksanakan ibadah seperti salat."
    },
    {
        keywords: ["batal", "wudhu", "membatalkan", "wudu"],
        question: "Apa saja yang membatalkan wudhu?",
        answer: "Beberapa hal yang dapat membatalkan wudhu antara lain: keluarnya sesuatu dari dua jalan (qubul dan dubur), hilang akal (karena tidur nyenyak, pingsan, atau gila), dan bersentuhan kulit antara laki-laki dan perempuan yang bukan mahram."
    },
    {
        keywords: ["halal", "haram", "apa", "itu"],
        question: "Apa itu Halal dan Haram?",
        answer: "Halal adalah segala sesuatu yang diizinkan oleh syariat Islam untuk dikonsumsi atau dilakukan. Haram adalah segala sesuatu yang dilarang keras oleh syariat Islam."
    },
    {
        keywords: ["bulan", "suci", "islam", "ramadan"],
        question: "Bulan apa yang dianggap suci oleh umat Islam?",
        answer: "Bulan Ramadan adalah bulan yang paling suci dalam kalender Islam. Di bulan ini, umat Islam diwajibkan berpuasa dan Al-Qur'an pertama kali diturunkan."
    },
    {
        keywords: ["idul", "fitri", "lebaran", "apa"],
        question: "Apa itu Idul Fitri?",
        answer: "Idul Fitri atau Lebaran adalah hari raya umat Islam yang jatuh pada tanggal 1 Syawal. Hari ini menandai berakhirnya bulan puasa Ramadan dan dirayakan dengan salat Ied serta silaturahmi."
    },
    {
        keywords: ["idul", "adha", "kurban", "apa"],
        question: "Apa itu Idul Adha?",
        answer: "Idul Adha adalah hari raya umat Islam yang diperingati setiap tanggal 10 Dzulhijjah. Hari ini dikenal juga sebagai Hari Raya Kurban, di mana umat Islam yang mampu disunahkan untuk menyembelih hewan kurban."
    },
    {
        keywords: ["khulafaur", "rasyidin", "siapa"],
        question: "Siapa saja Khulafaur Rasyidin?",
        answer: "Khulafaur Rasyidin adalah empat sahabat Nabi yang menjadi pemimpin setelah beliau wafat. Mereka adalah: 1. Abu Bakar Ash-Shiddiq, 2. Umar bin Khattab, 3. Utsman bin Affan, 4. Ali bin Abi Thalib."
    },
    {
        keywords: ["beda", "sunnah", "fardhu", "wajib"],
        question: "Apa beda Sunnah dan Fardhu?",
        answer: "Fardhu (atau Wajib) adalah amalan yang harus dikerjakan dan akan mendapat dosa jika ditinggalkan. Sunnah adalah amalan yang dianjurkan untuk dikerjakan; akan mendapat pahala jika dikerjakan, namun tidak berdosa jika ditinggalkan."
    },
    {
        keywords: ["kiblat", "arah", "mana"],
        question: "Ke arah mana kiblat umat Islam?",
        answer: "Kiblat umat Islam adalah ke arah Ka'bah yang berada di Masjidil Haram, kota Mekkah."
    },
    {
        keywords: ["syahadat", "syahadatain", "apa", "itu"],
        question: "Apa itu Syahadat?",
        answer: "Syahadat adalah persaksian dan pengakuan dasar dalam Islam yang berbunyi 'Asyhadu an laa ilaaha illallaah, wa asyhadu anna Muhammadan rasuulullaah', artinya 'Aku bersaksi bahwa tiada Tuhan selain Allah, dan aku bersaksi bahwa Muhammad adalah utusan Allah'."
    },
    // âœ… Percakapan Dasar
    {
        keywords: ["assalamualaikum", "assalamu'alaikum", "salam", "halo", "hai", "selamat pagi", "selamat siang", "selamat sore", "selamat malam"],
        question: "Sapaan atau salam pembuka",
        answer: "Wa'alaikumussalam warahmatullahi wabarakatuh. Ada yang bisa saya bantu terkait pertanyaan seputar Islam?"
    },
    {
        keywords: ["terima kasih", "makasih", "syukron", "terimakasih", "thanks"],
        question: "Ucapan terima kasih",
        answer: "Sama-sama. Senang bisa membantu. Jika ada pertanyaan lain, jangan ragu untuk bertanya ya."
    },
    // âœ… Keimanan dan Aqidah
    {
        keywords: ["islam", "apa", "itu", "agama", "arti"],
        question: "Apa itu Islam?",
        answer: "Islam adalah agama yang diturunkan oleh Allah kepada Nabi Muhammad ï·º sebagai petunjuk hidup yang sempurna. Islam berarti kedamaian dan berserah diri kepada Allah."
    },
    {
        keywords: ["siapa", "allah", "tuhan"],
        question: "Siapa itu Allah?",
        answer: "Allah adalah Tuhan Yang Maha Esa, Pencipta alam semesta, dan hanya kepada-Nya semua makhluk bergantung. Dia tidak beranak dan tidak diperanakkan."
    },
    {
        keywords: ["iman", "takdir", "qada", "qadar", "arti"],
        question: "Apa arti iman kepada takdir?",
        answer: "Iman kepada takdir (Qada dan Qadar) berarti meyakini bahwa segala sesuatu yang terjadi di alam semesta, baik yang baik maupun yang buruk, telah ditetapkan oleh Allah SWT, namun manusia tetap diberi pilihan untuk berusaha (ikhtiar)."
    },
    {
        keywords: ["mengapa", "kenapa", "harus", "shalat", "sholat"],
        question: "Mengapa kita harus shalat?",
        answer: "Karena shalat adalah tiang agama dan cara seorang Muslim berkomunikasi langsung dengan Allah. Ia merupakan ibadah yang diwajibkan lima kali sehari."
    },
    // âœ… Ibadah
    {
        keywords: ["tata", "cara", "shalat", "sholat", "benar"],
        question: "Bagaimana tata cara shalat yang benar?",
        answer: "Secara ringkas, shalat dimulai dengan niat, Takbiratul Ihram, membaca Al-Fatihah, ruku', i'tidal, sujud, duduk di antara dua sujud, hingga diakhiri dengan salam. Untuk detailnya, sangat dianjurkan belajar dari guru yang terpercaya."
    },
    {
        keywords: ["hukum", "meninggalkan", "shalat", "sholat"],
        question: "Apa hukum meninggalkan shalat?",
        answer: "Menurut kesepakatan ulama, meninggalkan shalat dengan sengaja adalah dosa yang sangat besar dalam Islam. Ia adalah pembeda utama antara seorang Muslim dan non-Muslim."
    },
    {
        keywords: ["niat", "puasa", "ramadhan"],
        question: "Bagaimana niat puasa Ramadhan?",
        answer: "Niat puasa Ramadhan dapat diucapkan dalam hati pada malam hari sebelum fajar, dengan tekad untuk berpuasa esok hari karena Allah Ta'ala."
    },
    {
        keywords: ["zakat", "siapa", "wajib", "membayar"],
        question: "Apa itu zakat dan siapa yang wajib membayarnya?",
        answer: "Zakat adalah kewajiban mengeluarkan sebagian harta untuk diberikan kepada yang berhak (fakir miskin, dll), bagi setiap Muslim yang telah memenuhi syarat kekayaan tertentu (nisab dan haul)."
    },
    {
        keywords: ["cara", "wudhu", "tayammum"],
        question: "Bagaimana cara berwudhu atau tayammum?",
        answer: "Wudhu dilakukan dengan air untuk membasuh wajah, tangan, mengusap kepala, dan membasuh kaki. Tayammum dilakukan dengan debu suci sebagai pengganti wudhu saat tidak ada air, dengan mengusap wajah dan kedua tangan."
    },
    // âœ… Al-Qur'an dan Hadis
    {
        keywords: ["perbedaan", "quran", "hadis"],
        question: "Apa perbedaan antara Al-Qurâ€™an dan Hadis?",
        answer: "Al-Qur'an adalah firman Allah yang mutlak kebenarannya. Hadis adalah perkataan, perbuatan, dan ketetapan Nabi Muhammad ï·º, yang berfungsi sebagai penjelas Al-Qur'an."
    },
    {
        keywords: ["membaca", "quran", "tartil"],
        question: "Bagaimana cara membaca Al-Qurâ€™an dengan tartil?",
        answer: "Membaca dengan tartil artinya membaca secara perlahan, jelas, dan sesuai dengan kaidah ilmu Tajwid. Tujuannya agar dapat memahami dan merenungi maknanya."
    },
    // âœ… Hukum Islam
    {
        keywords: ["hukum", "riba"],
        question: "Apa itu riba dan apa hukumnya?",
        answer: "Riba adalah tambahan atau bunga dalam pinjaman atau transaksi tertentu. Hukum riba dalam Islam adalah haram secara mutlak karena merugikan dan tidak adil."
    },
    {
        keywords: ["hukum", "menikah", "non-muslim"],
        question: "Bolehkah seorang Muslim menikah dengan non-Muslim?",
        answer: "Seorang pria Muslim boleh menikahi wanita Ahli Kitab (Yahudi/Nasrani). Namun, seorang wanita Muslimah haram hukumnya menikah dengan pria non-Muslim."
    },
    {
        keywords: ["hukum", "asuransi", "pinjaman", "bank"],
        question: "Bagaimana hukum asuransi atau pinjaman bank?",
        answer: "Transaksi konvensional seringkali mengandung unsur riba yang haram. Sebagai alternatif, Islam menyediakan sistem syariah seperti asuransi syariah (takaful) dan bank syariah yang terhindar dari riba."
    },
    // âœ… Kehidupan Sehari-hari
    {
        keywords: ["hukum", "merayakan", "ulang tahun"],
        question: "Bolehkah merayakan ulang tahun dalam Islam?",
        answer: "Ada perbedaan pendapat di kalangan ulama. Sebagian membolehkan jika diisi dengan rasa syukur dan tidak bertentangan dengan syariat. Sebagian yang lain melarang karena dianggap tidak berasal dari ajaran Islam."
    },
    {
        keywords: ["cara", "menghadapi", "ujian", "hidup", "cobaan"],
        question: "Bagaimana cara menghadapi ujian hidup menurut Islam?",
        answer: "Dengan sabar, shalat, doa, tawakal (berserah diri), dan yakin bahwa semua ujian dari Allah memiliki hikmah dan tidak akan melebihi kemampuan kita."
    },
    {
        keywords: ["doa", "hati", "tenang"],
        question: "Apa doa agar hati tenang?",
        answer: "Cara utama menenangkan hati adalah dengan berdzikir (mengingat Allah). Salah satu doa yang bisa dibaca adalah 'Yaa muqallibal quluub, tsabbit qalbii 'alaa diinik' (Wahai Dzat yang membolak-balikkan hati, teguhkanlah hatiku di atas agama-Mu)."
    },
    {
        keywords: ["adab", "berteman", "teman"],
        question: "Bagaimana adab dalam berteman menurut Islam?",
        answer: "Adab berteman antara lain saling menasihati dalam kebaikan, menjaga aib teman, berkata jujur, dan memilih teman yang baik agamanya."
    },
    // âœ… Akhirat dan Hari Kiamat
    {
        keywords: ["setelah", "mati", "kematian", "terjadi"],
        question: "Apa yang terjadi setelah mati?",
        answer: "Setelah mati, manusia akan memasuki alam kubur (barzakh), lalu dibangkitkan pada hari kiamat, dihisab (dihitung) amalnya, dan akan masuk surga atau neraka."
    },
    {
        keywords: ["siksa", "kubur"],
        question: "Seperti apa siksa kubur?",
        answer: "Siksa kubur adalah balasan pertama di akhirat bagi orang kafir dan Muslim yang berdosa. Hadis menggambarkannya sebagai sesuatu yang sangat pedih. Kita dianjurkan untuk selalu berdoa agar terhindar darinya."
    },
    {
        keywords: ["tanda", "tanda-tanda", "kiamat"],
        question: "Apa tanda-tanda kiamat?",
        answer: "Tanda kiamat ada dua: tanda kecil (seperti ilmu agama dicabut, banyak fitnah) dan tanda besar (seperti munculnya Dajjal, turunnya Nabi Isa, dan terbitnya matahari dari barat)."
    },
    // âœ… Dosa-Dosa Besar
    {
        keywords: ["zina", "hukum", "dosa", "berzina"],
        question: "Apa hukum zina dalam Islam?",
        answer: "Zina adalah hubungan seksual di luar ikatan pernikahan yang sah. Hukumnya adalah haram dan termasuk salah satu dosa terbesar dalam Islam. Allah SWT berfirman, 'Dan janganlah kamu mendekati zina; (zina) itu sungguh suatu perbuatan keji, dan suatu jalan yang buruk.' (QS. Al-Isra': 32). Pelakunya diancam dengan hukuman berat di dunia dan siksa pedih di akhirat."
    },
    {
        keywords: ["mencuri", "hukum", "dosa", "curi"],
        question: "Apa hukum mencuri dalam Islam?",
        answer: "Mencuri adalah mengambil harta milik orang lain secara sembunyi-sembunyi tanpa hak. Hukumnya haram dan merupakan dosa besar. Islam sangat menjaga hak milik setiap individu, dan menetapkan hukuman yang berat (hudud) bagi pencuri yang telah memenuhi syarat-syarat tertentu, sebagai efek jera dan untuk menjaga keamanan masyarakat."
    },
    {
        keywords: ["korupsi", "hukum", "suap", "ghulul"],
        question: "Bagaimana pandangan Islam tentang korupsi?",
        answer: "Korupsi dalam pandangan Islam adalah perbuatan haram dan termasuk dosa besar. Korupsi merupakan bentuk kezaliman, pengkhianatan terhadap amanah, dan pencurian harta rakyat. Perbuatan ini mencakup suap (risywah) dan penggelapan (ghulul), yang dilaknat oleh Allah dan Rasul-Nya karena merusak tatanan masyarakat dan merugikan banyak orang."
    },
    {
        keywords: ["pemimpin", "amanah", "tanggung jawab", "khianat", "dosa"],
        question: "Apa dosa pemimpin yang tidak amanah dan tidak bertanggung jawab?",
        answer: "Kepemimpinan dalam Islam adalah amanah yang sangat besar dan akan dimintai pertanggungjawaban di akhirat. Pemimpin yang tidak amanah, tidak bertanggung jawab, dan berkhianat kepada rakyatnya telah melakukan dosa yang sangat besar. Rasulullah ï·º bersabda bahwa setiap pemimpin akan ditanya tentang kepemimpinannya dan mengancam pemimpin yang menipu rakyatnya tidak akan mencium bau surga."
    },
    {
        keywords: ["durhaka", "orang tua", "ibu", "ayah", "dosa"],
        question: "Apa dosa durhaka kepada orang tua?",
        answer: "Durhaka kepada orang tua ('uququl walidain) adalah salah satu dosa terbesar dalam Islam setelah syirik. Perbuatan ini mencakup segala ucapan atau tindakan yang menyakiti hati mereka, bahkan sekadar berkata 'ah' (uff). Ridha Allah terletak pada ridha orang tua, dan murka Allah terletak pada murka orang tua."
    },

    // --- Data yang Ditambahkan Sebelumnya (2 Agustus 2025) ---
    {
        keywords: ["pacaran", "hukum", "dating", "khalwat"],
        question: "Apa hukum pacaran dalam Islam?",
        answer: "Pacaran seperti yang umum dipahami (berduaan, bersentuhan fisik, dll) hukumnya haram dalam Islam karena mendekati zina. Islam melarang keras khalwat, yaitu berduaan antara laki-laki dan perempuan yang bukan mahram. Proses yang dianjurkan Islam adalah ta'aruf (perkenalan yang diawasi keluarga), lalu khitbah (lamaran), dan diakhiri dengan pernikahan."
    },
    {
        keywords: ["bohong", "berbohong", "dusta", "hukum", "dosa"],
        question: "Apa hukum berbohong dalam Islam?",
        answer: "Berbohong atau berdusta (kadzib) hukumnya haram dan merupakan salah satu tanda kemunafikan. Kejujuran (shiddiq) adalah sifat mulia yang wajib dimiliki setiap Muslim. Meskipun ada pengecualian yang sangat sempit (seperti mendamaikan orang), pada dasarnya berbohong adalah perbuatan tercela yang mendatangkan murka Allah."
    },
    {
        keywords: ["tidak puasa", "meninggalkan puasa", "ramadhan", "hukum", "dosa"],
        question: "Apa hukum tidak puasa Ramadhan dengan sengaja?",
        answer: "Sengaja tidak berpuasa di bulan Ramadhan tanpa udzur syar'i (alasan yang dibenarkan syariat seperti sakit, safar, haid) adalah dosa yang sangat besar. Orang yang meninggalkannya wajib bertaubat dengan sungguh-sungguh dan menggantinya (qadha) di hari lain. Meremehkan puasa Ramadhan berarti meremehkan salah satu rukun Islam."
    },
    {
        keywords: ["hukum zakat", "zakat", "wajib"],
        question: "Apa hukum membayar zakat?",
        answer: "Hukum membayar zakat adalah Fardhu 'Ain (wajib bagi setiap individu) bagi setiap Muslim yang telah memenuhi syarat, yaitu hartanya telah mencapai batas minimum (nisab) dan telah dimiliki selama satu tahun (haul). Zakat adalah rukun Islam ketiga dan menolak membayarnya termasuk dosa besar."
    },
    {
        keywords: ["niat wudhu", "niat", "wudhu", "doa wudhu"],
        question: "Bagaimana niat wudhu, lafaz Arab dan artinya?",
        answer: "Niat wudhu letaknya di dalam hati saat pertama kali membasuh wajah. Namun, melafalkannya dianjurkan oleh sebagian ulama untuk memantapkan hati. Lafaznya adalah: <br><b>Ù†ÙŽÙˆÙŽÙŠÙ’ØªÙ Ø§Ù„Ù’ÙˆÙØ¶ÙÙˆÙ’Ø¡ÙŽ Ù„ÙØ±ÙŽÙÙ’Ø¹Ù Ø§Ù„Ù’Ø­ÙŽØ¯ÙŽØ«Ù Ø§Ù„Ù’Ø£ÙŽØµÙ’ØºÙŽØ±Ù ÙÙŽØ±Ù’Ø¶Ù‹Ø§ Ù„ÙÙ„Ù‘Ù°Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰</b><br><i>Nawaitul wudhuu'a liraf'il hadatsil ashghari fardhal lillaahi ta'aala.</i><br>Artinya: 'Saya niat berwudhu untuk menghilangkan hadas kecil, fardhu karena Allah Ta'ala'."
    },
    {
        keywords: ["doa setelah wudhu", "setelah wudhu", "doa", "niat setelah wudhu"],
        question: "Bagaimana doa setelah wudhu, lafaz Arab dan artinya?",
        answer: "Doa setelah wudhu adalah: <br><b>Ø£ÙŽØ´Ù’Ù‡ÙŽØ¯Ù Ø£ÙŽÙ†Ù’ Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø§Ù„Ù„Ù‡Ù ÙˆÙŽØ­Ù’Ø¯ÙŽÙ‡Ù Ù„ÙŽØ§ Ø´ÙŽØ±ÙÙŠÙƒÙŽ Ù„ÙŽÙ‡ÙØŒ ÙˆÙŽØ£ÙŽØ´Ù’Ù‡ÙŽØ¯Ù Ø£ÙŽÙ†ÙŽÙ‘ Ù…ÙØ­ÙŽÙ…ÙŽÙ‘dÙ‹Ø§ Ø¹ÙŽØ¨Ù’Ø¯ÙÙ‡Ù ÙˆÙŽØ±ÙŽØ³ÙÙˆÙ„ÙÙ‡ÙØŒ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§Ø¬Ù’Ø¹ÙŽÙ„Ù’Ù†ÙÙŠ Ù…ÙÙ†ÙŽ Ø§Ù„ØªÙŽÙ‘ÙˆÙŽÙ‘Ø§Ø¨ÙÙŠÙ†ÙŽØŒ ÙˆÙŽØ§Ø¬Ù’Ø¹ÙŽÙ„Ù’Ù†ÙÙŠ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ù…ÙØªÙŽØ·ÙŽÙ‡ÙÙ‘Ø±ÙÙŠÙ†ÙŽ</b><br><i>Asyhadu an laa ilaaha illallaah wahdahu laa syariika lah, wa asyhadu anna muhammadan 'abduhu wa rasuuluh. Allahummaj 'alnii minat tawwaabiina waj'alnii minal mutathahhiriin.</i><br>Artinya: 'Aku bersaksi bahwa tiada Tuhan selain Allah Yang Maha Esa, tiada sekutu bagi-Nya. Dan aku bersaksi bahwa Muhammad adalah hamba dan utusan-Nya. Ya Allah, jadikanlah aku termasuk orang-orang yang bertaubat dan jadikanlah aku termasuk orang-orang yang mensucikan diri'."
    },
    {
        keywords: ["niat sholat", "niat subuh", "niat dzuhur", "niat ashar", "niat maghrib", "niat isya"],
        question: "Bagaimana niat sholat fardhu, lafaz Arab dan artinya?",
        answer: "Niat sholat letaknya di dalam hati, namun dianjurkan melafalkannya. Berikut lafaz niat untuk sholat sendiri (munfaridan):<br><b>Subuh:</b> Ø£ÙØµÙŽÙ„ÙÙ‘ÙŠ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„ØµÙÙ‘Ø¨Ù’Ø­Ù Ø±ÙŽÙƒÙ’Ø¹ÙŽØªÙŽÙŠÙ’Ù†Ù Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ Ù„ÙÙ„Ù‘Ù°Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰ (Ushalli fardhash shubhi rak'ataini mustaqbilal qiblati adaa'an lillaahi ta'aala).<br><b>Dzuhur:</b> Ø£ÙØµÙŽÙ„ÙÙ‘ÙŠ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„Ø¸ÙÙ‘Ù‡Ù’Ø±Ù Ø£ÙŽØ±Ù’Ø¨ÙŽØ¹ÙŽ Ø±ÙŽÙƒÙŽØ¹ÙŽØ§ØªÙ Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ Ù„ÙÙ„Ù‘Ù°Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰ (Ushalli fardhadz dzuhri arba'a raka'aatin mustaqbilal qiblati adaa'an lillaahi ta'aala).<br><b>Ashar:</b> Ø£ÙØµÙŽÙ„ÙÙ‘ÙŠ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„Ù’Ø¹ÙŽØµÙ’Ø±Ù Ø£ÙŽØ±Ù’Ø¨ÙŽØ¹ÙŽ Ø±ÙŽÙƒÙŽØ¹ÙŽØ§ØªÙ Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ Ù„ÙÙ„Ù‘Ù°Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰ (Ushalli fardhal 'ashri arba'a raka'aatin mustaqbilal qiblati adaa'an lillaahi ta'aala).<br><b>Maghrib:</b> Ø£ÙØµÙŽÙ„ÙÙ‘ÙŠ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„Ù’Ù…ÙŽØºÙ’Ø±ÙØ¨Ù Ø«ÙŽÙ„ÙŽØ§Ø«ÙŽ Ø±ÙŽÙƒÙŽØ¹ÙŽØ§ØªÙ Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ Ù„ÙÙ„Ù‘Ù°Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰ (Ushalli fardhal maghribi tsalaatsa raka'aatin mustaqbilal qiblati adaa'an lillaahi ta'aala).<br><b>Isya:</b> Ø£ÙØµÙŽÙ„ÙÙ‘ÙŠ ÙÙŽØ±Ù’Ø¶ÙŽ Ø§Ù„Ù’Ø¹ÙØ´ÙŽØ§Ø¡Ù Ø£ÙŽØ±Ù’Ø¨ÙŽØ¹ÙŽ Ø±ÙŽÙƒÙŽØ¹ÙŽØ§ØªÙ Ù…ÙØ³Ù’ØªÙŽÙ‚Ù’Ø¨ÙÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙŽØ©Ù Ø£ÙŽØ¯ÙŽØ§Ø¡Ù‹ Ù„ÙÙ„Ù‘Ù°Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰ (Ushalli fardhal 'isyaa'i arba'a raka'aatin mustaqbilal qiblati adaa'an lillaahi ta'aala).<br>Jika menjadi makmum, tambahkan kata 'Ù…ÙŽØ£Ù’Ù…ÙÙˆÙ’Ù…Ù‹Ø§' (ma'muuman) sebelum 'Ù„ÙÙ„Ù‘Ù°Ù‡Ù ØªÙŽØ¹ÙŽØ§Ù„ÙŽÙ‰'."
    },
    {
        keywords: ["sholat jenazah", "jenazah", "mayit", "hukum"],
        question: "Apa itu sholat jenazah?",
        answer: "Sholat jenazah adalah sholat yang dilakukan untuk mendoakan seorang Muslim yang telah meninggal dunia. Sholat ini unik karena tidak ada ruku' atau sujud, hanya terdiri dari 4 kali takbir dengan bacaan-bacaan khusus. Hukum melaksanakannya adalah Fardhu Kifayah."
    },
    {
        keywords: ["fardhu kifayah", "fardhu ain", "arti"],
        question: "Apa arti dari Fardhu Kifayah?",
        answer: "Fardhu Kifayah adalah kewajiban yang ditujukan kepada seluruh komunitas Muslim. Jika sebagian orang dari komunitas tersebut telah melaksanakannya, maka gugurlah kewajiban bagi yang lain. Namun, jika tidak ada seorang pun yang melaksanakannya, maka seluruh komunitas akan menanggung dosa. Contohnya adalah sholat jenazah."
    },

    // --- Pertanyaan Tentang Curhat & Nyerah (Ditambahkan Sebelumnya) ---
    {
        keywords: ["curhat", "sedih", "galau", "cemas", "putus asa", "masalah", "stres", "buntu"],
        question: "Saya sedang sedih/cemas/punya banyak masalah, apa yang harus saya lakukan menurut Islam?",
        answer: "Dalam Islam, saat menghadapi kesedihan atau masalah, kita dianjurkan untuk:<br>1. <b>Sabar:</b> Yakinlah bahwa setiap ujian adalah cara Allah untuk menghapus dosa dan mengangkat derajat kita.<br>2. <b>Shalat dan Doa:</b> Jadikan shalat sebagai penolong dan curahkan semua isi hati kepada Allah dalam doa, karena Dia Maha Mendengar.<br>3. <b>Dzikir:</b> Mengingat Allah akan menenangkan hati (QS. Ar-Ra'd: 28). Perbanyak istighfar, tasbih, tahmid, dan tahlil.<br>4. <b>Tawakal:</b> Setelah berusaha (ikhtiar), serahkan hasilnya kepada Allah. Yakinlah Allah akan memberikan yang terbaik.<br>5. <b>Jangan Putus Asa:</b> Jangan pernah berputus asa dari rahmat Allah (QS. Az-Zumar: 53)."
    },
    {
        keywords: ["nyerah", "menyerah", "putus asa", "lelah", "capek", "pasrah", "tawakal"],
        question: "Saya merasa lelah dan ingin menyerah dengan keadaan, bagaimana pandangan Islam?",
        answer: "Perasaan lelah itu manusiawi, namun Islam melarang keras sikap putus asa dari rahmat Allah. Sikap 'menyerah' yang benar dalam Islam adalah <b>tawakal</b>, yaitu menyerahkan hasil akhir kepada Allah <b>setelah</b> kita berusaha sekuat tenaga (ikhtiar). Bukan menyerah sebelum berjuang. Ingatlah firman Allah: 'Dan jangan kamu berputus asa dari rahmat Allah. Sesungguhnya tiada berputus asa dari rahmat Allah, melainkan kaum yang kafir.' (QS. Yusuf: 87). Teruslah berusaha, berdoa, dan serahkan sisanya pada Allah."
    },
    {
        keywords: ["ikhlas", "pasrah", "ridha", "takdir", "tenang", "gelisah"],
        question: "Bagaimana cara agar hati tenang, ikhlas, dan ridha menerima takdir Allah?",
        answer: "Ketenangan hati datang dari keikhlasan (melakukan sesuatu murni karena Allah) dan ridha (menerima dengan lapang dada) atas segala ketetapan (takdir) Allah. Caranya adalah dengan:<br>1. <b>Husnudzon kepada Allah:</b> Selalu berbaik sangka bahwa apapun yang Allah takdirkan pasti mengandung hikmah dan kebaikan.<br>2. <b>Memahami Konsep Takdir:</b> Meyakini bahwa Allah telah menetapkan yang terbaik, dan tugas kita hanya berusaha dan berdoa.<br>3. <b>Memperbanyak Dzikir:</b> Mengingat Allah adalah kunci ketenangan jiwa. 'Ingatlah, hanya dengan mengingat Allah-lah hati menjadi tenteram.' (QS. Ar-Ra'd: 28).<br>4. <b>Melihat ke Bawah:</b> Syukuri nikmat yang ada dengan melihat orang yang keadaannya di bawah kita, bukan selalu melihat ke atas."
    },
    {
        keywords: ["beda", "tawakal", "pasrah", "malas", "ikhtiar", "berusaha"],
        question: "Apa bedanya tawakal dengan pasrah yang berarti malas dan tidak mau berusaha?",
        answer: "Perbedaannya sangat besar. <b>Ikhtiar (berusaha)</b> adalah kewajiban kita sebagai manusia. <b>Tawakal</b> adalah amalan hati yang dilakukan <b>setelah</b> kita melakukan ikhtiar secara maksimal. Jadi, urutannya adalah: Berusaha (Ikhtiar) -> Berdoa -> Bertawakal (Menyerahkan hasilnya pada Allah). Sedangkan pasrah dalam arti malas, tidak mau berusaha, dan hanya menunggu takdir adalah sikap yang keliru dan dilarang dalam Islam. Rasulullah ï·º bersabda, 'Ikatlah untamu, baru kemudian bertawakallah'."
    },
    
    // --- PENAMBAHAN BARU SESUAI PERMINTAAN ---
    {
        keywords: ["boleh curhat", "curhat", "capek", "nyerah", "lelah", "assalamualaikum"],
        question: "Assalamualaikum, boleh curhat tidak? Saya capek dan rasanya ingin menyerah.",
        answer: "Wa'alaikumussalam warahmatullahi wabarakatuh. Tentu saja boleh, Saudaraku. Saya di sini untuk mendengarkan. Perasaan lelah dan ingin menyerah itu sangat manusiawi, dan Islam sangat memahami kerapuhan hati manusia.<br><br>Ketahuilah, mengadu dan 'curhat' terbaik adalah kepada Allah SWT. Dia Maha Mendengar keluh kesahmu, bahkan sebelum engkau mengucapkannya. Allah berfirman: <i>'Berdoalah kepada-Ku, niscaya akan Kuperkenankan bagimu.'</i> (QS. Ghafir: 60).<br><br>Rasa 'capek' yang kau rasakan adalah ujian untuk mengangkat derajatmu. Yakinlah, <i>'Allah tidak membebani seseorang melainkan sesuai dengan kesanggupannya.'</i> (QS. Al-Baqarah: 286). Ini adalah janji Allah, artinya engkau pasti lebih kuat dari ujian ini.<br><br>Dan jangan biarkan bisikan 'menyerah' menguasaimu. Itu adalah bisikan setan agar engkau berputus asa. Padahal Allah melarang keras: <i>'Janganlah kamu berputus asa dari rahmat Allah.'</i> (QS. Az-Zumar: 53).<br><br>Cobalah ambil wudhu, bentangkan sajadahmu, shalatlah dua rakaat, dan menangislah dalam sujudmu. Adukan semua kepada-Nya. InsyaAllah hatimu akan terasa lebih lapang. Bertahanlah, karena sesungguhnya sesudah kesulitan itu ada kemudahan."
    }
];

// [BARU] FUNGSI UNTUK MENDETEKSI DAN MEWARNAI HUKUM TAJWID
function applyTajwidRules(arabicText) {
    const rules = [
        {
            name: 'Ghunnah Musyaddadah',
            className: 'tajwid-ghunnah',
            regex: /(Ù†Ù‘|Ù…Ù‘)/g,
            explanation: 'Ghunnah: Dengung pada huruf Nun atau Mim yang bertasydid (Ù‘). Dibaca dengan menahan suara selama 2-3 harakat.'
        },
        {
            name: 'Qalqalah',
            className: 'tajwid-qalqalah',
            regex: /([Ù‚Ù’Ø·Ù’Ø¨Ù’Ø¬Ù’Ø¯Ù’])/g,
            explanation: "Qalqalah: Pantulan suara pada huruf Qaf (Ù‚), Tha (Ø·), Ba (Ø¨), Jim (Ø¬), atau Dal (Ø¯) yang sukun (Ù’)."
        },
        {
            name: 'Iqlab',
            className: 'tajwid-iqlab',
            regex: /(Ù†Ù’|Ù‹|Ù|ÙŒ)(?=\s*Ø¨)/g,
            explanation: "Iqlab: Nun sukun (Ù†Ù’) atau tanwin (Ù‹ Ù ÙŒ) bertemu dengan huruf Ba (Ø¨). Dibaca dengan mengubah suara Nun/Tanwin menjadi Mim (Ù…) dan didengungkan."
        },
        {
            name: 'Idgham Bi Ghunnah',
            className: 'tajwid-idgham',
            regex: /(Ù†Ù’|Ù‹|Ù|ÙŒ)(?=\s*[ÙŠÙ†Ù…Ùˆ])/g,
            explanation: "Idgham Bi Ghunnah: Nun sukun (Ù†Ù’) atau tanwin (Ù‹ Ù ÙŒ) bertemu huruf Ya (ÙŠ), Nun (Ù†), Mim (Ù…), atau Waw (Ùˆ). Dibaca melebur dengan dengung."
        },
        {
            name: 'Ikhfa\' Haqiqi',
            className: 'tajwid-ikhfa',
            regex: /(Ù†Ù’|Ù‹|Ù|ÙŒ)(?=\s*[ØªØ«Ø¬Ø¯Ø°Ø²Ø³Ø´ØµØ¶Ø·Ø¸ÙÙ‚Ùƒ])/g,
            explanation: "Ikhfa' Haqiqi: Nun sukun (Ù†Ù’) atau tanwin (Ù‹ Ù ÙŒ) bertemu dengan salah satu dari 15 huruf Ikhfa'. Dibaca samar-samar sambil didengungkan."
        }
    ];

    let highlightedText = arabicText;
    rules.forEach(rule => {
        highlightedText = highlightedText.replace(rule.regex, (match) => {
            // Hindari membungkus span di dalam span lain
            if (match.includes('span')) return match;
            return `<span class="tajwid-highlight ${rule.className}" title="${rule.explanation}">${match}</span>`;
        });
    });

    return highlightedText;
}

    
    
    // --- FUNGSI PERMINTAAN PENYIMPANAN PERMANEN ---
    async function requestPersistentStorage() {
        if (navigator.storage && navigator.storage.persist) {
            try {
                const isPersisted = await navigator.storage.persisted();
                console.log(`Penyimpanan sudah permanen: ${isPersisted}`);
                if (!isPersisted) {
                    const result = await navigator.storage.persist();
                    console.log(`Berhasil meminta penyimpanan permanen: ${result}`);
                }
            } catch (error) {
                console.error('Gagal memeriksa atau meminta penyimpanan permanen:', error);
            }
        }
    }
    
    
    // --- FUNGSI PERMINTAAN PENYIMPANAN PERMANEN ---
    async function requestPersistentStorage() {
        if (navigator.storage && navigator.storage.persist) {
            try {
                const isPersisted = await navigator.storage.persisted();
                console.log(`Penyimpanan sudah permanen: ${isPersisted}`);
                if (!isPersisted) {
                    const result = await navigator.storage.persist();
                    console.log(`Berhasil meminta penyimpanan permanen: ${result}`);
                }
            } catch (error) {
                console.error('Gagal memeriksa atau meminta penyimpanan permanen:', error);
            }
        }
    }
    
    // --- SCRIPT UTAMA ---
    document.addEventListener('DOMContentLoaded', () => {
        // --- GLOBAL VARIABLES & STATE ---
        let currentLanguage = 'id';
        let countdownInterval;
        let bookmarkedDoas = JSON.parse(localStorage.getItem('bookmarked_doas')) || [];
        let lastReadDoaId = localStorage.getItem('last_read_doa_id');
        let currentOpenDoaId = null;
        let dzikirState = JSON.parse(localStorage.getItem('dzikir_state')) || {};
        let currentDzikirId = null;
        window.latestPrayerTimes = null;
        let lastCheckedDate = new Date().getDate();
    
        // Quran State
        let allSurahsData = [];
        let bookmarkedSurahs = JSON.parse(localStorage.getItem('bookmarked_surahs')) || [];
        let lastReadSurah = JSON.parse(localStorage.getItem('last_read_surah'));
        let currentOpenSurahNumber = null;
    
        // Pengaturan audio
        const adhanSoundFiles = {
            'none': { name: 'Tanpa Suara' },
            'notification': { name: 'Notifikasi', audioId: 'audio-notification' },
            'fajr': { name: 'Muazin Subuh', audioId: 'audio-adhan-fajr' },
            'mishary': { name: 'Muazin Makkah (Mishary)', audioId: 'audio-adhan-mishary' },
            'madinah': { name: 'Muazin Madinah', audioId: 'audio-adhan-madinah' },
            'al_afasy': { name: 'Muazin Al-Afasy', audioId: 'audio-adhan-mishary' },
            'abdul_basit': { name: 'Muazin Abdul Basit', audioId: 'audio-adhan-madinah' }
        };
        const adhanOptionsMap = {
            Imsak: ['none', 'notification', 'mishary', 'madinah'],
            Fajr: ['none', 'notification', 'fajr', 'mishary', 'madinah', 'al_afasy', 'abdul_basit'],
            Sunrise: ['none', 'notification'],
            Dhuhr: ['none', 'notification', 'mishary', 'madinah', 'al_afasy', 'abdul_basit'],
            Asr: ['none', 'notification', 'mishary', 'madinah', 'al_afasy', 'abdul_basit'],
            Maghrib: ['none', 'notification', 'mishary', 'madinah', 'al_afasy', 'abdul_basit'],
            Isha: ['none', 'notification', 'mishary', 'madinah', 'al_afasy', 'abdul_basit']
        };
    
        function migrateAudioSettings(settings) {
            const newSettings = {};
            let needsUpdate = false;
            for (const key in settings) {
                const value = settings[key];
                if (typeof value === 'string') {
                    newSettings[key] = { sound: value, volume: 1.0 };
                    needsUpdate = true;
                } else if (typeof value === 'object' && value !== null && 'sound' in value && 'volume' in value) {
                    newSettings[key] = value;
                } else {
                    newSettings[key] = { sound: 'none', volume: 1.0 };
                    needsUpdate = true;
                }
            }
            if (needsUpdate) {
                console.log("Migrating audio settings to new format.");
                localStorage.setItem('prayerAudioSettings', JSON.stringify(newSettings));
            }
            return newSettings;
        }
    
        const defaultAudioSettings = {
            Imsak: { sound: 'notification', volume: 1.0 },
            Fajr: { sound: 'fajr', volume: 1.0 },
            Sunrise: { sound: 'none', volume: 1.0 },
            Dhuhr: { sound: 'mishary', volume: 0.8 },
            Asr: { sound: 'mishary', volume: 0.8 },
            Maghrib: { sound: 'mishary', volume: 0.8 },
            Isha: { sound: 'mishary', volume: 0.8 }
        };
        let prayerAudioSettings = JSON.parse(localStorage.getItem('prayerAudioSettings')) || defaultAudioSettings;
        prayerAudioSettings = migrateAudioSettings(prayerAudioSettings);
    
        // --- ELEMENT SELECTORS ---
        const sidebar = document.getElementById('sidebar');
        const menuToggle = document.getElementById('menu-toggle');
        const prayerListContainerEl = document.getElementById('prayer-list-container');
        const countdownTimerEl = document.getElementById('countdown-timer');
        const nextPrayerNameEl = document.getElementById('next-prayer-name');
        const calendarContainerEl = document.getElementById('calendar-view-container');
        const gregorianDateEl = document.getElementById('gregorian-date-display');
        const hijriDateEl = document.getElementById('hijri-date-display');
    
        // --- [PERBAIKAN] LOGIKA LOKASI DAN JADWAL SHOLAT YANG BARU & LEBIH BAIK ---
        const CACHE_KEY_MONTHLY_TIMINGS = 'prayer_monthly_timings';
        const CACHE_KEY_CITY = 'prayer_city_data';
        const CACHE_KEY_COORDS = 'prayer_coords';
    
        function loadPrayerDataFromCache() {
            const cachedCity = localStorage.getItem(CACHE_KEY_CITY);
            if (cachedCity) {
                document.getElementById('city-name').textContent = cachedCity;
            }
    
            const today = new Date();
            const year = today.getFullYear();
            const month = today.getMonth() + 1;
            const day = today.getDate();
            const cacheKey = `timings_${year}_${month}`;
    
            const monthlyData = JSON.parse(localStorage.getItem(CACHE_KEY_MONTHLY_TIMINGS));
    
            if (monthlyData && monthlyData.key === cacheKey) {
                console.log("Memuat jadwal sholat dari cache bulanan.");
                const todayData = monthlyData.data[day - 1];
                if (todayData) {
                    const todayTimings = todayData.timings;
                    const todayHijri = todayData.date.hijri;
                    const hijriText = `${todayHijri.day} ${todayHijri.month.en} ${todayHijri.year} H`;
    
                    hijriDateEl.textContent = hijriText;
                    window.latestPrayerTimes = todayTimings;
                    renderPrayerTimes(todayTimings);
                    startCountdown(todayTimings);
                    return true;
                }
            }
            console.log("Cache tidak valid atau tidak tersedia untuk hari ini.");
            return false;
        }
    
        function fetchCityName(lat, lon) {
            fetch(`https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lon}&format=json`)
                .then(r => r.json())
                .then(data => {
                    const cityName = data.address.city || data.address.town || data.address.village || "Lokasi Tidak Diketahui";
                    document.getElementById('city-name').textContent = cityName;
                    localStorage.setItem(CACHE_KEY_CITY, cityName);
                })
                .catch(error => {
                    console.error("Gagal mengambil nama kota:", error);
                    const cachedCity = localStorage.getItem(CACHE_KEY_CITY);
                    if (cachedCity) document.getElementById('city-name').textContent = cachedCity;
                });
        }
    
        function fetchPrayerTimings(lat, lon) {
            document.getElementById('city-name').textContent = "Memperbarui jadwal...";
            const now = new Date();
            const year = now.getFullYear();
            const month = now.getMonth() + 1;
    
            fetch(`https://api.aladhan.com/v1/calendar/${year}/${month}?latitude=${lat}&longitude=${lon}&method=11`)
                .then(r => r.json())
                .then(j => {
                    if (j.code === 200) {
                        console.log("Berhasil mengambil data jadwal sholat baru untuk sebulan dari API.");
                        localStorage.setItem(CACHE_KEY_COORDS, JSON.stringify({ lat, lon }));
                        const cacheKey = `timings_${year}_${month}`;
                        const adjustedData = j.data.map(dailyData => {
                            const adjustedTimings = {};
                            for (const key in dailyData.timings) {
                                const timeString = dailyData.timings[key].split(' ')[0];
                                const [h, m] = timeString.split(':').map(Number);
                                if (!isNaN(h) && !isNaN(m)) {
                                    const date = new Date();
                                    date.setHours(h, m + 2, 0, 0);
                                    adjustedTimings[key] = `${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;
                                } else {
                                    adjustedTimings[key] = dailyData.timings[key];
                                }
                            }
                            return { ...dailyData, timings: adjustedTimings };
                        });
                        const dataToStore = { key: cacheKey, data: adjustedData };
                        localStorage.setItem(CACHE_KEY_MONTHLY_TIMINGS, JSON.stringify(dataToStore));
                        console.log("Data jadwal sholat sebulan penuh telah disimpan ke cache.");
    
                        loadPrayerDataFromCache();
                        fetchCityName(lat, lon);
                        
        // [TAMBAHKAN KODE INI]
        // Bagian ini akan mengirim data jadwal hari ini ke widget Android
        const todayDataForWidget = j.data[new Date().getDate() - 1];
        if (todayDataForWidget && window.Android && typeof window.Android.updateWidgetData === 'function') {
            console.log("Mengirim data jadwal ke Widget Android...");
            // Ubah objek jadwal menjadi string JSON
            const dataForWidget = JSON.stringify(todayDataForWidget.timings);
            // Panggil fungsi native Android melalui jembatan
            window.Android.updateWidgetData(dataForWidget);
        }
        // [AKHIR KODE TAMBAHAN]

        // --- KODE JEMBATAN UNTUK MENGIRIM JADWAL KE ANDROID ---
        if (window.Android && typeof window.Android.schedulePrayerAlarms === 'function') {
            // ... sisa kode Anda ...
        }

                        // --- KODE JEMBATAN UNTUK MENGIRIM JADWAL KE ANDROID ---
                        if (window.Android && typeof window.Android.schedulePrayerAlarms === 'function') {
                            console.log("Mengirim jadwal sholat ke Android untuk notifikasi native...");
                            
                            // 1. Ambil jadwal hari ini dari data yang baru di-fetch
                            const todayData = j.data[new Date().getDate() - 1];
                            const todayTimings = todayData.timings;
                            
                            // 2. Siapkan data dalam format JSON yang dimengerti oleh MainActivity
                            const scheduleForAndroid = [];
                            const prayerKeys = ['Imsak', 'Fajr', 'Sunrise', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];

                            prayerKeys.forEach(prayerName => {
                                if (todayTimings[prayerName] && prayerAudioSettings[prayerName]) {
                                    scheduleForAndroid.push({
                                        name: prayerName,
                                        time: todayTimings[prayerName],
                                        soundId: prayerAudioSettings[prayerName].sound
                                    });
                                }
                            });

                            // 3. Kirim data ke MainActivity
                            window.Android.schedulePrayerAlarms(JSON.stringify(scheduleForAndroid));
                        }
                        // --- AKHIR KODE JEMBATAN ---
                        
                    } else {
                        console.error("API Aladhan mengembalikan error.");
                        handleLocationError({ message: "API Error" });
                    }
                })
                .catch(error => {
                    console.error("Gagal mengambil jadwal sholat (kemungkinan offline):", error);
                    handleLocationError(error);
                });
        }
    
        function handleLocationError(error) {
            console.warn(`Error getting location: ${error.message}.`);
            document.getElementById('city-name').textContent = "Gagal dapat lokasi";
            // Coba lagi dari cache. Jika gagal total, baru pakai fallback
            if (!loadPrayerDataFromCache()) {
                console.warn("Cache juga gagal. Menggunakan lokasi fallback (Medan).");
                fetchPrayerTimings(3.5952, 98.6722); // Fallback ke Medan
                document.getElementById('city-name').textContent = "Medan (Fallback)";
            }
        }
    
    // Letakkan ini di dalam event listener DOMContentLoaded,
// di dalam fungsi setupSettings() atau di bawahnya.
// Letakkan ini di dalam fungsi setupSettings()

function setupAdBlockToggle() {
    const adblockToggle = document.getElementById('adblock-toggle');
    if (!adblockToggle) return;

    // 1. Saat pengaturan dibuka, sesuaikan status toggle dengan yang tersimpan
    const savedAdBlockState = localStorage.getItem('adblock_enabled') === 'true';
    adblockToggle.checked = savedAdBlockState;

    // 2. Saat toggle diubah oleh pengguna
    adblockToggle.addEventListener('change', () => {
        const isEnabled = adblockToggle.checked;
        
        // Simpan status ke localStorage agar tampilan toggle konsisten
        localStorage.setItem('adblock_enabled', isEnabled);
        
        // Panggil fungsi di MainActivity melalui JavaScript Interface
        if (window.Android && typeof window.Android.setAdBlockEnabled === 'function') {
            window.Android.setAdBlockEnabled(isEnabled);
            showCustomToast(`AdBlock ${isEnabled ? 'Diaktifkan' : 'Dinonaktifkan'}. Muat ulang halaman untuk melihat efek.`);
        } else {
            console.warn("Fungsi AdBlock hanya berjalan di aplikasi Android.");
        }
    });
}

// Jangan lupa panggil fungsi ini di dalam init atau setupSettings
setupAdBlockToggle();


// GANTI FUNGSI setupManualAlarms LAMA ANDA DENGAN YANG INI

// GANTI FUNGSI setupManualAlarms LAMA ANDA DENGAN YANG INI

function setupManualAlarms() {
    const saveBtn = document.getElementById('save-manual-alarms-btn');
    const prayerKeys = ['Imsak', 'Fajr', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];

    function showCustomToast(message) {
        const toastElement = document.getElementById('custom-toast-notification');
        if (!toastElement) return;
        toastElement.textContent = message;
        toastElement.classList.add('show');
        setTimeout(() => {
            toastElement.classList.remove('show');
        }, 3000);
    }

    function loadAlarmStates() {
        const savedStates = JSON.parse(localStorage.getItem('manual_alarm_states')) || {};
        prayerKeys.forEach(key => {
            const toggle = document.getElementById(`alarm-toggle-${key}`);
            if (toggle) {
                const isEnabled = savedStates[key] !== undefined ? savedStates[key] : (key === 'Fajr');
                toggle.checked = isEnabled;
            }
        });
    }

    document.getElementById('settings-btn').addEventListener('click', loadAlarmStates);

    if (saveBtn) {
        saveBtn.addEventListener('click', () => {
            if (window.Android && typeof window.Android.setManualAlarms === 'function') {
                if (!window.latestPrayerTimes) {
                    showCustomToast('Jadwal sholat belum dimuat. Coba lagi.');
                    return;
                }

                const alarmsData = [];
                const savedStates = {};

                prayerKeys.forEach(key => {
                    const toggle = document.getElementById(`alarm-toggle-${key}`);
                    if (toggle) {
                        const time = window.latestPrayerTimes[key];
                        const isEnabled = toggle.checked;

                        // [INI PERUBAHAN PENTING]
                        // Ambil pengaturan suara yang sudah dipilih pengguna dari pengaturan adzan otomatis
                        const soundSetting = prayerAudioSettings[key] ? prayerAudioSettings[key].sound : 'none';

                        if (time) {
                            alarmsData.push({
                                name: key,
                                time: time,
                                isEnabled: isEnabled,
                                soundId: soundSetting // Menambahkan ID suara ke data yang dikirim
                            });
                        }
                        savedStates[key] = isEnabled;
                    }
                });

                localStorage.setItem('manual_alarm_states', JSON.stringify(savedStates));

                const jsonData = JSON.stringify(alarmsData);
                console.log("Mengirim data alarm ke Android (dengan suara):", jsonData);
                window.Android.setManualAlarms(jsonData);

                showCustomToast('Pengaturan alarm native telah disimpan! âœ…');

            } else {
                showCustomToast('Fitur ini hanya berfungsi di aplikasi.');
            }
        });
    }
    loadAlarmStates();
}

// [TAMBAHKAN FUNGSI BARU INI]
function setupRingingAlarms() {
    const saveBtn = document.getElementById('save-ringing-alarms-btn');
    const prayerKeys = ['Imsak', 'Fajr', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];

    function showCustomToast(message) {
        const toastElement = document.getElementById('custom-toast-notification');
        if (!toastElement) return;
        toastElement.textContent = message;
        toastElement.classList.add('show');
        setTimeout(() => {
            toastElement.classList.remove('show');
        }, 3000);
    }

    function loadRingingAlarmStates() {
        const savedStates = JSON.parse(localStorage.getItem('ringing_alarm_states')) || {};
        prayerKeys.forEach(key => {
            const toggle = document.getElementById(`ringing-alarm-toggle-${key}`);
            if (toggle) {
                // Set default Dering Subuh aktif
                const isEnabled = savedStates[key] !== undefined ? savedStates[key] : (key === 'Fajr');
                toggle.checked = isEnabled;
            }
        });
    }

    document.getElementById('settings-btn').addEventListener('click', loadRingingAlarmStates);

    if (saveBtn) {
        saveBtn.addEventListener('click', () => {
            if (window.Android && typeof window.Android.setRingingAlarms === 'function') {
                if (!window.latestPrayerTimes) {
                    showCustomToast('Jadwal sholat belum dimuat. Coba lagi.');
                    return;
                }

                const alarmsData = [];
                const savedStates = {};
                prayerKeys.forEach(key => {
                    const toggle = document.getElementById(`ringing-alarm-toggle-${key}`);
                    if (toggle) {
                        const time = window.latestPrayerTimes[key];
                        const isEnabled = toggle.checked;
                        const soundSetting = prayerAudioSettings[key] ? prayerAudioSettings[key].sound : 'none';

                        if (time) {
                            alarmsData.push({
                                name: key,
                                time: time,
                                isEnabled: isEnabled,
                                soundId: soundSetting,
                                isRinging: true // Flag pembeda
                            });
                        }
                        savedStates[key] = isEnabled;
                    }
                });

                localStorage.setItem('ringing_alarm_states', JSON.stringify(savedStates));
                const jsonData = JSON.stringify(alarmsData);
                console.log("Mengirim data alarm DERING ke Android:", jsonData);
                window.Android.setRingingAlarms(jsonData); // Memanggil fungsi native yang BARU
                showCustomToast('Pengaturan Alarm Dering telah disimpan! ðŸ””');
            } else {
                showCustomToast('Fitur ini hanya berfungsi di aplikasi.');
            }
        });
    }
    loadRingingAlarmStates();
}

// Terakhir, panggil fungsi setup baru ini di dalam DOMContentLoaded
// ...
// 

// ...



        // Fungsi utama yang menangani semua alur permintaan lokasi
        function requestLocationAndFetchData() {
            document.getElementById('city-name').textContent = "Mencari lokasi...";
            if (!navigator.geolocation) {
                handleLocationError({ message: "Geolocation tidak didukung browser ini." });
                return;
            }
    
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    // Sukses
                    console.log("Lokasi berhasil didapatkan.");
                    fetchPrayerTimings(position.coords.latitude, position.coords.longitude);
                },
                (error) => {
                    // Gagal
                    handleLocationError(error);
                },
                { enableHighAccuracy: true, timeout: 20000, maximumAge: 0 }
            );
        }
    
        // Inisialisasi utama untuk lokasi dan jadwal sholat
        async function initLocationAndPrayerTimes() {
            // Coba muat dari cache dulu, ini sangat cepat
            if (loadPrayerDataFromCache()) {
                console.log("Sukses memuat dari cache, tidak perlu meminta lokasi baru.");
                return;
            }
    
            // Jika tidak ada cache, cek status izin
            try {
                const permissionStatus = await navigator.permissions.query({ name: 'geolocation' });
    
                if (permissionStatus.state === 'granted') {
                    // Jika izin sudah ada, langsung minta lokasi
                    console.log("Izin lokasi sudah ada, langsung ambil data.");
                    requestLocationAndFetchData();
                } else if (permissionStatus.state === 'prompt') {
                    // Jika butuh izin, tampilkan modal kustom kita
                    console.log("Membutuhkan izin, tampilkan modal kustom.");
                    document.getElementById('custom-location-modal').style.display = 'flex';
                } else { // denied
                    // Jika ditolak, langsung jalankan alur error
                    console.log("Izin lokasi ditolak sebelumnya.");
                    handleLocationError({ message: "Izin lokasi telah ditolak." });
                }
            } catch (error) {
                console.error("Gagal memeriksa status izin, mungkin browser tidak mendukung. Coba minta langsung.", error);
                requestLocationAndFetchData(); // Fallback untuk browser lama
            }
        }
    
        function setupCustomPermissionModals() {
            const locationModal = document.getElementById('custom-location-modal');
            const allowLocationBtn = document.getElementById('allow-location-btn');
            const denyLocationBtn = document.getElementById('deny-location-btn');
    
            // Tombol "Izinkan" pada modal akan memicu permintaan lokasi asli
            allowLocationBtn.addEventListener('click', () => {
                locationModal.style.display = 'none';
                requestLocationAndFetchData(); // Panggil fungsi utama di sini
            });
    
            denyLocationBtn.addEventListener('click', () => {
                locationModal.style.display = 'none';
                handleLocationError({ message: "Pengguna menolak dari modal kustom." });
            });
    
            // Setup untuk modal notifikasi (tidak berubah banyak)
            const notificationModal = document.getElementById('custom-notification-modal');
            const allowNotificationBtn = document.getElementById('allow-notification-btn');
            const denyNotificationBtn = document.getElementById('deny-notification-btn');
    
            window.requestNotificationPermission = function() {
                return new Promise((resolve, reject) => {
                    if ('Notification' in window) {
                        if (Notification.permission === 'granted') {
                            resolve('granted');
                        } else if (Notification.permission === 'default') {
                            notificationModal.style.display = 'flex';
                            allowNotificationBtn.onclick = () => {
                                notificationModal.style.display = 'none';
                                Notification.requestPermission().then(resolve);
                            };
                            denyNotificationBtn.onclick = () => {
                                notificationModal.style.display = 'none';
                                reject('denied_by_custom_modal');
                            };
                        } else {
                            reject('denied_previously');
                        }
                    } else {
                        reject('not_supported');
                    }
                });
            }
        }
        // --- AKHIR BLOK PERBAIKAN ---
    
        window.checkForDateChangeAndRefetch = function() {
            const currentDate = new Date().getDate();
            if (currentDate !== lastCheckedDate) {
                console.log("Pergantian hari terdeteksi, memuat ulang jadwal sholat...");
                lastCheckedDate = currentDate;
                const coords = JSON.parse(localStorage.getItem(CACHE_KEY_COORDS));
                if (coords) {
                    fetchPrayerTimings(coords.lat, coords.lon);
                }
                updateDates();
            }
        };
    
        // --- CORE APP LOGIC (Sebagian besar tidak berubah) ---
        function showView(viewId) {
            document.querySelectorAll('.main-view').forEach(v => v.style.display = 'none');
            const appContainer = document.querySelector('.app-container');
            const tasbihView = document.getElementById('tasbih-view');
            const qiblaView = document.getElementById('qibla-view');
            const targetView = document.getElementById(viewId);
    
            document.body.style.backgroundColor = '';
            if (viewId === 'qibla-view') {
                document.body.style.backgroundColor = '#000000';
            }
    
            if (viewId === 'tasbih-view' || viewId === 'qibla-view') {
                appContainer.style.display = 'none';
                if (viewId === 'tasbih-view') tasbihView.style.display = 'flex';
                if (viewId === 'qibla-view') qiblaView.style.display = 'flex';
            } else {
                appContainer.style.display = 'block';
                tasbihView.style.display = 'none';
                qiblaView.style.display = 'none';
                if (targetView) targetView.style.display = 'block';
            }
    
            const prayerView = document.getElementById('prayer-times-view');
            menuToggle.style.display = (prayerView.style.display === 'block' && viewId !== 'qibla-view' && viewId !== 'tasbih-view') ? 'flex' : 'none';
        }
    
        function closeSidebar() {
            menuToggle.classList.remove('open');
            sidebar.classList.remove('open');
        }
    
        function setupNavigation() {
            document.getElementById('prayer-times-btn').addEventListener('click', (e) => { e.preventDefault(); showView('prayer-times-view'); closeSidebar(); });
            document.getElementById('doa-harian-btn').addEventListener('click', (e) => { e.preventDefault(); showView('doa-view'); renderDoaListView('all'); closeSidebar(); });
            document.getElementById('quran-btn').addEventListener('click', (e) => { e.preventDefault(); showView('quran-view'); renderQuranView('surah'); closeSidebar(); });
            document.getElementById('dzikir-btn').addEventListener('click', (e) => { e.preventDefault(); showView('dzikir-view'); renderDzikirList(); closeSidebar(); });
            document.getElementById('settings-btn').addEventListener('click', (e) => {
                e.preventDefault();
                document.getElementById('settings-modal').style.display = 'flex';
                closeSidebar();
            });
    
            document.querySelectorAll('.back-button').forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetViewId = btn.getAttribute('data-target-view');
                    if (targetViewId) {
                        showView(targetViewId);
                    }
                });
            });
    
            menuToggle.addEventListener('click', (e) => { e.stopPropagation(); menuToggle.classList.toggle('open'); sidebar.classList.toggle('open'); });
            document.addEventListener('click', (e) => {
                if (sidebar.classList.contains('open') && !sidebar.contains(e.target) && !menuToggle.contains(e.target)) {
                    closeSidebar();
                }
            });
        }
    
        // --- PRAYER TIMES FEATURE (TIDAK BERUBAH) ---
        function stopAllAdhanAudio() {
            document.querySelectorAll('audio[id^="audio-adhan-"], audio[id^="audio-notification"]').forEach(audio => {
                if (!audio.paused) {
                    audio.pause();
                    audio.currentTime = 0;
                }
            });
        }
    
        function playPrayerAudio(prayerName) {
            const setting = prayerAudioSettings[prayerName];
            if (!setting || setting.sound === 'none') {
                console.log(`Audio untuk ${prayerName} di-nonaktifkan.`);
                return;
            }
    
            const option = adhanSoundFiles[setting.sound];
            if (option && option.audioId) {
                const audioElement = document.getElementById(option.audioId);
                if (audioElement) {
                    stopAllAdhanAudio();
                    audioElement.volume = setting.volume;
                    audioElement.currentTime = 0;
                    const playPromise = audioElement.play();
                    if (playPromise !== undefined) {
                        playPromise.catch(error => {
                            console.error(`Gagal memutar audio untuk ${prayerName}:`, error);
                            showPrayerNotification(translations[currentLanguage][prayerName] || prayerName, 'Gagal memutar adzan otomatis. Pastikan interaksi halaman sudah dilakukan.');
                        });
                    }
                }
            }
        }
    
        function showPrayerNotification(prayerName, customBody = null) {
            if (Notification.permission !== 'granted') return;
            const notificationTitle = `Waktunya Sholat ${prayerName}`;
            const notificationOptions = {
                body: customBody || `Sekarang telah masuk waktu sholat ${prayerName}.`,
                icon: 'logo-annur.jpg',
                tag: 'prayer-time-notification',
                renotify: true
            };
            navigator.serviceWorker.ready.then(registration => {
                registration.showNotification(notificationTitle, notificationOptions);
            });
        }
    
        function renderPrayerTimes(prayerTimes) {
            if (!prayerListContainerEl) return;
            prayerListContainerEl.innerHTML = '';
    
            const prayerOrder = ['Imsak', 'Fajr', 'Sunrise', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];
    
            prayerOrder.forEach(key => {
                if (prayerTimes[key]) {
                    const prayerName = translations[currentLanguage][key] || key;
                    const prayerTime = prayerTimes[key];
    
                    const prayerItemHtml = `
                        <div class="prayer-item">
                            <div class="prayer-details">
                                <div class="prayer-name">${prayerName}</div>
                            </div>
                            <div class="prayer-time-value">${prayerTime}</div>
                        </div>`;
    
                    prayerListContainerEl.innerHTML += prayerItemHtml;
                }
            });
        }
    
        function startCountdown(prayerTimes) {
            if (countdownInterval) clearInterval(countdownInterval);
            const prayerOrder = ['Imsak', 'Fajr', 'Sunrise', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];
            let triggeredPrayers = [];
    
            function update() {
                checkForDateChangeAndRefetch();
                const now = new Date();
                let nextPrayerTime, nextPrayerName;
    
                for (const name of prayerOrder) {
                    const prayerDate = new Date(`${now.toDateString()} ${prayerTimes[name]}`);
                    if (prayerDate > now && !triggeredPrayers.includes(name)) {
                        nextPrayerTime = prayerDate;
                        nextPrayerName = name;
                        break;
                    }
                }
    
                if (!nextPrayerTime) {
                    const tomorrow = new Date(now);
                    tomorrow.setDate(now.getDate() + 1);
                    nextPrayerTime = new Date(`${tomorrow.toDateString()} ${prayerTimes['Imsak']}`);
                    nextPrayerName = 'Imsak';
                    triggeredPrayers = [];
                }
    
                const diff = nextPrayerTime - now;
                if (diff < 0) return;
    
                if (diff <= 1000 && !triggeredPrayers.includes(nextPrayerName)) {
                    const translatedPrayerName = translations[currentLanguage][nextPrayerName] || nextPrayerName;
                    showPrayerNotification(translatedPrayerName);
                    playPrayerAudio(nextPrayerName);
                    triggeredPrayers.push(nextPrayerName);
    
                    setTimeout(() => {
                        if (window.latestPrayerTimes) {
                            startCountdown(window.latestPrayerTimes);
                        }
                    }, 2000);
                }
    
                const h = String(Math.floor(diff / 3600000)).padStart(2, '0');
                const m = String(Math.floor((diff % 3600000) / 60000)).padStart(2, '0');
                const s = String(Math.floor((diff % 60000) / 1000)).padStart(2, '0');
                countdownTimerEl.textContent = `${h}:${m}:${s}`;
                nextPrayerNameEl.textContent = translations[currentLanguage][nextPrayerName] || nextPrayerName;
            }
    
            update();
            countdownInterval = setInterval(update, 1000);
    
            document.addEventListener("visibilitychange", () => {
                if (document.visibilityState === "visible") {
                    console.log("Tab is visible again, syncing countdown...");
                    update();
                }
            });
        }
    
        function generateCalendar() {
            if (!calendarContainerEl) return;
            const dayNamesList = {
                id: ["Ahad", "Sen", "Sel", "Rab", "Kam", "Jum", "Sab"], en: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], ar: ["Ø£Ø­Ø¯", "Ø¥Ø«Ù†", "Ø«Ù„Ø§", "Ø£Ø±Ø¨", "Ø®Ù…ÙŠ", "Ø¬Ù…Ø¹", "Ø³Ø¨Øª"], tr: ["Paz", "Pzt", "Sal", "Ã‡ar", "Per", "Cum", "Cmt"], fr: ["Dim", "Lun", "Mar", "Mer", "Jeu", "Ven", "Sam"], es: ["Dom", "Lun", "Mar", "MiÃ©", "Jue", "Vie", "SÃ¡b"], de: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"], ru: ["Ð’Ñ", "ÐŸÐ½", "Ð’Ñ‚", "Ð¡Ñ€", "Ð§Ñ‚", "ÐŸÑ‚", "Ð¡Ð±"], ur: ["Ø§ØªÙˆØ§Ø±", "Ù¾ÛŒØ±", "Ù…Ù†Ú¯Ù„", "Ø¨Ø¯Ú¾", "Ø¬Ù…Ø¹Ø±Ø§Øª", "Ø¬Ù…Ø¹Û", "ÛÙØªÛ"], bn: ["à¦°à¦¬à¦¿", "à¦¸à§‹à¦®", "à¦®à¦™à§à¦—à¦²", "à¦¬à§à¦§", "à¦¬à§ƒà¦¹", "à¦¶à§à¦•à§à¦°", "à¦¶à¦¨à¦¿"]
            };
            const today = new Date();
            const todayDayIndex = today.getDay();
            let calendarHtml = '';
            for (let i = 0; i < 7; i++) {
                const date = new Date();
                date.setDate(today.getDate() - (todayDayIndex - i));
                const isToday = i === todayDayIndex;
                calendarHtml += `<div class="day ${isToday ? 'today' : ''}"><span class="day-name">${dayNamesList[currentLanguage][i] || dayNamesList['id'][i]}</span><span class="day-number">${date.getDate()}</span></div>`;
            }
            calendarContainerEl.innerHTML = calendarHtml;
        }
    
function updateDates() {
          if (!gregorianDateEl) return;
          const now = new Date();
          const localeMap = { id: 'id-ID', en: 'en-US', ar: 'ar-SA', tr: 'tr-TR', fr: 'fr-FR', es: 'es-ES', de: 'de-DE', ru: 'ru-RU', ur: 'ur-PK', bn: 'bn-BD' };
          const locale = localeMap[currentLanguage] || 'en-US';
          
          // 1. Generate tanggal seperti biasa
          let formattedDate = now.toLocaleDateString(locale, { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' });

          // 2. [INI PERUBAHANNYA] Ganti kata "Minggu" menjadi "Ahad" jika bahasa adalah Indonesia
          if (currentLanguage === 'id') {
              formattedDate = formattedDate.replace('Minggu', 'Ahad');
          }

          // 3. Tampilkan tanggal yang sudah dimodifikasi
          gregorianDateEl.textContent = formattedDate;
      }



// [BARU] Tambahkan seluruh fungsi ini di dalam script utama Anda
function setupMotivationFeature() {
    const motivasiBtn = document.getElementById('motivasi-btn');
    const motivationView = document.getElementById('motivation-view');
    if (!motivasiBtn || !motivationView) return;

    const listContainer = document.getElementById('motivation-list-container');
    const tabsContainer = document.getElementById('motivation-tabs');
    const randomQuoteBtn = document.getElementById('random-quote-btn');
    const toastEl = document.getElementById('motivation-toast');
    const bookmarkListBtn = document.getElementById('motivation-bookmark-list-btn');

    // Carousel elements
    const carouselTrack = document.querySelector('.motivation-carousel-track');
    const carouselIndicators = document.querySelector('.carousel-indicators');
    const prevButton = document.querySelector('.carousel-control.prev');
    const nextButton = document.querySelector('.carousel-control.next');
    let currentSlide = 0;
    let featuredQuotes = [];

    let favoriteQuotes = JSON.parse(localStorage.getItem('favorite_quotes')) || [];

    // --- Inisialisasi Fitur ---
    motivasiBtn.addEventListener('click', (e) => {
        e.preventDefault();
        showView('motivation-view');
        renderQuotes('all');
        setupCarousel();
        closeSidebar();
    });

    // --- Logika Carousel ---
    function setupCarousel() {
        featuredQuotes = motivationData.filter(q => q.featured);
        if (featuredQuotes.length === 0 || !carouselTrack) return;

        carouselTrack.innerHTML = '';
        carouselIndicators.innerHTML = '';

        featuredQuotes.forEach((quote, index) => {
            const slide = document.createElement('div');
            slide.className = 'motivation-slide';
            slide.innerHTML = `<p>"${quote.text}"</p><span class="quote-author">- ${quote.author} -</span>`;
            carouselTrack.appendChild(slide);

            const dot = document.createElement('div');
            dot.className = 'indicator-dot';
            dot.dataset.slideTo = index;
            carouselIndicators.appendChild(dot);
        });
        updateCarousel();
    }
    
    function updateCarousel() {
        carouselTrack.style.transform = `translateX(-${currentSlide * 100}%)`;
        const dots = document.querySelectorAll('.indicator-dot');
        dots.forEach(dot => dot.classList.remove('active'));
        dots[currentSlide].classList.add('active');
    }

    nextButton.addEventListener('click', () => {
        currentSlide = (currentSlide + 1) % featuredQuotes.length;
        updateCarousel();
    });

    prevButton.addEventListener('click', () => {
        currentSlide = (currentSlide - 1 + featuredQuotes.length) % featuredQuotes.length;
        updateCarousel();
    });
    
    carouselIndicators.addEventListener('click', (e) => {
        if(e.target.matches('.indicator-dot')) {
            currentSlide = parseInt(e.target.dataset.slideTo);
            updateCarousel();
        }
    });
    

    // --- Logika Tampilan & Filter ---
    function renderQuotes(category) {
        listContainer.innerHTML = '';
        let quotesToRender = motivationData;

        if (category === 'favorites') {
            quotesToRender = motivationData.filter(q => favoriteQuotes.includes(q.id));
             if (quotesToRender.length === 0) {
                listContainer.innerHTML = `<div class="loading-indicator">Anda belum punya kutipan favorit.</div>`;
                return;
            }
        } else if (category !== 'all') {
            quotesToRender = motivationData.filter(q => q.category === category);
        }

        quotesToRender.forEach(quote => {
            const card = document.createElement('div');
            card.className = 'motivation-quote-card';
            card.dataset.id = quote.id;

            const isFavorited = favoriteQuotes.includes(quote.id);

card.innerHTML = `
    <p class="quote-text">"${quote.text}"</p>
    <p class="quote-author">- ${quote.author}</p>
    <div class="quote-footer">
        <div class="quote-tags">
            <span class="quote-tag-badge">${quote.category}</span>
        </div>
        <div class="quote-actions">
            <span class="action-icon share-btn" title="Bagikan Teks">ðŸ”—</span>
            <span class="action-icon share-image-btn" title="Bagikan sebagai Gambar">ðŸ–¼ï¸</span>
            <span class="action-icon copy-btn" title="Salin Teks">ðŸ“‹</span>
            <span class="action-icon favorite-btn ${isFavorited ? 'favorited' : ''}" title="Favorit">â¤ï¸</span>
        </div>
    </div>
`;
            listContainer.appendChild(card);
        });
    }
    
    // --- Event Listeners ---
    tabsContainer.addEventListener('click', (e) => {
        if (e.target.classList.contains('tab-item')) {
            tabsContainer.querySelector('.tab-item.active').classList.remove('active');
            e.target.classList.add('active');
            renderQuotes(e.target.dataset.category);
            bookmarkListBtn.classList.remove('active'); // Nonaktifkan highlight favorit jika tab lain dipilih
        }
    });

    listContainer.addEventListener('click', (e) => {
        const card = e.target.closest('.motivation-quote-card');
        if (!card) return;
        
        const quoteId = parseInt(card.dataset.id);
        const quote = motivationData.find(q => q.id === quoteId);
        
            // â–¼â–¼â–¼ TAMBAHKAN BLOK KODE INI â–¼â–¼â–¼
    if (e.target.classList.contains('share-image-btn')) {
        // Tampilkan pesan loading sementara
        showToast("Membuat gambar..."); 

        html2canvas(card, {
            // Opsi untuk meningkatkan kualitas gambar
            scale: 2, 
            useCORS: true,
            backgroundColor: getComputedStyle(card).backgroundColor // Ambil warna background dari CSS
        }).then(canvas => {
            // Konversi canvas menjadi data URL gambar format JPEG
            // Kualitas 0.9 berarti 90%
            const imageDataUrl = canvas.toDataURL('image/jpeg', 0.9);
            
            // Ambil hanya data Base64-nya (buang "data:image/jpeg;base64,")
            const base64ImageData = imageDataUrl.split(',')[1];
            
            // Cek apakah jembatan ke Android ada
            if (window.Android && typeof window.Android.shareImageFromBase64 === 'function') {
                // Panggil fungsi di MainActivity dan kirimkan data gambarnya
                window.Android.shareImageFromBase64(base64ImageData);
            } else {
                // Pesan jika dibuka di browser biasa untuk testing
                showToast("Fitur ini berfungsi di versi terbaru.");
                console.log("Base64 Data:", base64ImageData); // Untuk debug
            }
        }).catch(err => {
            console.error('oops, something went wrong!', err);
            showToast("Gagal membuat gambar.");
        });
    }

        if (e.target.classList.contains('copy-btn')) {
            const textToCopy = `"${quote.text}" - ${quote.author}`;
            navigator.clipboard.writeText(textToCopy).then(() => {
                showToast("Teks berhasil disalin!");
                
            });
        }
        
// ... di dalam fungsi setupMotivationFeature() ...

// ... di dalam fungsi setupMotivationFeature() ...

        if (e.target.classList.contains('share-btn')) {
            // Siapkan teks yang mau dibagikan
            const textToShare = `"${quote.text}" - ${quote.author}\n\nDari aplikasi Annur Islamic`;

            // Cek apakah "jembatan" ke Android ada
            if (window.Android && typeof window.Android.shareContent === 'function') {
                // Panggil fungsi di MainActivity dan kirimkan teksnya
                window.Android.shareContent(textToShare);
            } else {
                // Pesan jika dibuka di browser biasa
                showToast("Gunakan fitur bagikan di dalam aplikasi.");
            }
        }


        if (e.target.classList.contains('favorite-btn')) {
            toggleFavorite(quoteId, e.target);
        }
    });

    randomQuoteBtn.addEventListener('click', () => {
        listContainer.innerHTML = '';
        const randomQuote = motivationData[Math.floor(Math.random() * motivationData.length)];
        renderQuotes('all'); // Tampilkan lagi semua
        setTimeout(() => {
            const cardToScroll = document.querySelector(`.motivation-quote-card[data-id='${randomQuote.id}']`);
            if(cardToScroll) {
                cardToScroll.scrollIntoView({ behavior: 'smooth', block: 'center' });
                cardToScroll.style.boxShadow = "0 0 15px var(--accent-color)";
                setTimeout(() => { cardToScroll.style.boxShadow = ""; }, 2000);
            }
        }, 100);
    });
    
    bookmarkListBtn.addEventListener('click', () => {
        tabsContainer.querySelector('.tab-item.active').classList.remove('active');
        bookmarkListBtn.classList.add('active');
        renderQuotes('favorites');
    });

    // --- Fungsi Bantuan (Helper Functions) ---
    function toggleFavorite(id, iconElement) {
        const index = favoriteQuotes.indexOf(id);
        if (index > -1) {
            favoriteQuotes.splice(index, 1);
            iconElement.classList.remove('favorited');
            showToast("Dihapus dari favorit.");
        } else {
            favoriteQuotes.push(id);
            iconElement.classList.add('favorited');
            showToast("Ditambahkan ke favorit!");
        }
        localStorage.setItem('favorite_quotes', JSON.stringify(favoriteQuotes));
        
        // Jika sedang di tab favorit, render ulang
        if(document.querySelector('#motivation-bookmark-list-btn.active')) {
            renderQuotes('favorites');
        }
    }

    function showToast(message) {
        toastEl.textContent = message;
        toastEl.classList.add('show');
        setTimeout(() => {
            toastEl.classList.remove('show');
        }, 2000);
    }
}

// Terakhir, panggil fungsi setup utama di dalam event listener DOMContentLoaded
document.addEventListener('DOMContentLoaded', () => {
    // ... kode setup lainnya
    setupMotivationFeature();
    // ... sisa kode Anda
});

// [MODIFIKASI] FUNGSI UNTUK FITUR SAHABAT ANNUR (CHAT INTERFACE)
function setupSahabatAnnurFeature() {
    // 1. Ambil semua elemen HTML yang dibutuhkan
    const sahabatAnnurBtn = document.getElementById('sahabat-annur-btn');
    const chatWindow = document.getElementById('chat-window');
    const inputField = document.getElementById('sahabat-annur-input');
    const sendBtn = document.getElementById('sahabat-annur-send-btn');
    const typingIndicator = document.getElementById('typing-container');

    if (!sahabatAnnurBtn) return; // Hentikan jika elemen utama tidak ada

    // 2. Event listener untuk tombol di sidebar
    sahabatAnnurBtn.addEventListener('click', (e) => {
        e.preventDefault();
        showView('sahabat-annur-view');
        closeSidebar();
    });

    // 3. Fungsi untuk menampilkan pesan di jendela chat
    function displayMessage(message, sender) {
        const messageWrapper = document.createElement('div');
        messageWrapper.className = `chat-message ${sender}-message`;

        let messageHtml = '';
        if (sender === 'ai') {
            messageHtml += '<div class="ai-avatar">AI</div>';
        }
        messageHtml += `<div class="chat-bubble">${message}</div>`;

        messageWrapper.innerHTML = messageHtml;
        chatWindow.appendChild(messageWrapper);
        chatWindow.scrollTop = chatWindow.scrollHeight; // Auto-scroll ke bawah
    }

    // 4. Fungsi untuk mencari jawaban dari AI
    function getAiResponse(query) {
        const lowerCaseQuery = query.toLowerCase();
        let bestMatch = null;
        let highestScore = 0;

        sahabatAnnurData.forEach(item => {
            let currentScore = 0;
            item.keywords.forEach(keyword => {
                if (lowerCaseQuery.includes(keyword)) {
                    currentScore++;
                }
            });
            if (currentScore > highestScore) {
                highestScore = currentScore;
                bestMatch = item;
            }
        });

        if (bestMatch) {
            return bestMatch.answer;
        } else {
            return "Maaf, saya belum mengerti pertanyaan Anda. Coba gunakan kata kunci lain seperti 'rukun islam', 'zakat', atau 'batal wudhu'.";
        }
    }

    // 5. Fungsi utama yang dijalankan saat pengguna mengirim pesan
    function handleSendMessage() {
        const userQuery = inputField.value.trim();
        if (userQuery === "") return;

        // Tampilkan pesan pengguna
        displayMessage(userQuery, 'user');
        inputField.value = ""; // Kosongkan input field
        inputField.focus();

        // Tampilkan indikator mengetik
        typingIndicator.style.display = 'flex';
        chatWindow.scrollTop = chatWindow.scrollHeight;

        // Simulasi AI berpikir, lalu tampilkan jawaban
        setTimeout(() => {
            const aiAnswer = getAiResponse(userQuery);
            typingIndicator.style.display = 'none'; // Sembunyikan indikator
            displayMessage(aiAnswer, 'ai');
        }, 1200); // Jeda 1.2 detik
    }

    // 6. Pasang event listener untuk tombol kirim dan tombol Enter
    sendBtn.addEventListener('click', handleSendMessage);
    inputField.addEventListener('keyup', (e) => {
        if (e.key === 'Enter') {
            handleSendMessage();
        }
    });
}
    
        // --- DOA HARIAN FEATURE ---
        function setupDoaHarian() {
            const doaListContainer = document.getElementById('doa-list-container-view');
            const lastReadCard = document.getElementById('last-read-doa-card');
            const lastReadCardText = lastReadCard.querySelector('p');
            const singleDoaModal = document.getElementById('single-doa-modal');
    
            window.renderDoaListView = function(filter) {
                doaListContainer.innerHTML = '';
                let data = (filter === 'bookmarked') ? doaHarianData.filter(d => bookmarkedDoas.includes(d.id)) : doaHarianData;
                if (data.length === 0) { doaListContainer.innerHTML = `<p class="loading-indicator">Tidak ada doa yang ditandai.</p>`; return; }
                data.forEach((d, index) => {
                    const item = document.createElement('div'); item.className = 'list-item';
                    item.innerHTML = `<span class="num">${d.id}</span><div class="details"><div class="title">${d.title}</div><div class="subtitle">${d.subtitle}</div></div><span class="arabic">${d.arabic.split(' ')[0]}...</span>`;
                    item.addEventListener('click', () => showSingleDoa(d.id));
                    doaListContainer.appendChild(item);
                });
            }
            function showSingleDoa(id) {
                const doa = doaHarianData.find(d => d.id === id); if (!doa) return;
                currentOpenDoaId = id;
                singleDoaModal.querySelector('#single-doa-modal-title').textContent = doa.title;
                singleDoaModal.querySelector('#single-doa-modal-body').innerHTML = `
                                    <p class="single-item-arabic">${doa.arabic}</p>
                                    <p class="single-item-latin">${doa.latin}</p>
                                    <hr style="margin: 1.5rem 0; border: 0; border-top: 1px solid #eee;">
                                    <p class="single-item-arti"><b>Artinya:</b> ${doa.arti}</p>`;
                updateBookmarkIcon(); singleDoaModal.style.display = 'flex';
                localStorage.setItem('last_read_doa_id', id); lastReadDoaId = id; renderLastRead();
            }
            function renderLastRead() {
                const p = lastReadCardText;
                if (lastReadDoaId) { const doa = doaHarianData.find(d => d.id == lastReadDoaId); p.textContent = doa ? doa.title : 'Belum ada doa yang dibaca'; }
                else { p.textContent = 'Belum ada doa yang dibaca'; }
            }
            function updateBookmarkIcon() { singleDoaModal.querySelector('#bookmark-doa-btn').classList.toggle('bookmarked', bookmarkedDoas.includes(currentOpenDoaId)); }
    
            lastReadCard.addEventListener('click', () => { if (lastReadDoaId) showSingleDoa(parseInt(lastReadDoaId)); });
            singleDoaModal.querySelector('#bookmark-doa-btn').addEventListener('click', () => {
                const index = bookmarkedDoas.indexOf(currentOpenDoaId);
                if (index > -1) bookmarkedDoas.splice(index, 1); else bookmarkedDoas.push(currentOpenDoaId);
                localStorage.setItem('bookmarked_doas', JSON.stringify(bookmarkedDoas)); updateBookmarkIcon();
                if (document.querySelector('#doa-view .tab-item.active').dataset.tab === 'bookmarked') renderDoaListView('bookmarked');
            });
            document.querySelectorAll('#doa-view .tab-item').forEach(tab => tab.addEventListener('click', () => {
                document.querySelector('#doa-view .tab-item.active').classList.remove('active');
                tab.classList.add('active'); renderDoaListView(tab.dataset.tab);
            }));
            singleDoaModal.querySelector('.close-button').addEventListener('click', () => singleDoaModal.style.display = 'none');
            renderLastRead();
        }
    
        // --- GANTI FUNGSI QURAN LAMA ANDA DENGAN KESELURUHAN KODE DI BAWAH INI ---
        function setupQuranFeature() {
            const quranListContainer = document.getElementById('quran-list-container');
            const quranTabs = document.getElementById('quran-tabs');
            const lastReadSurahCard = document.getElementById('last-read-surah-card');
            const lastReadSurahCardText = lastReadSurahCard.querySelector('p');
            const surahViewTitle = document.getElementById('surah-view-title');
            const surahViewBookmarkBtn = document.getElementById('surah-view-bookmark-btn');
            const surahViewBody = document.getElementById('surah-view-body');
            const surahViewBackBtn = document.getElementById('surah-view-back-btn');
            const juzDetailTitle = document.getElementById('juz-detail-title');
            const juzSurahListContainer = document.getElementById('juz-surah-list-container');
            const murottalPlayer = document.getElementById('murottal-player');
    
            const qariData = {
                "ar.alafasy": "Mishary Rashid Al-Afasy",
                "ar.abdurrahmaansudais": "Abdurrahman As-Sudais",
                "ar.abdulsamad": "Abdul Samad",
                "ar.saoodshuraym": "Saud Al-Shuraim",
                "ar.husarymujawwad": "Mahmoud Khalil Al-Hussary (Mujawwad)"
            };
    
            let selectedQariIdentifier = localStorage.getItem('selected_qari_identifier') || 'ar.alafasy';
    
            let surahAudioData = {};
            let currentPlayingAyahIndex = 0;
            let isPlaylistPlaying = false;
    
            async function fetchAllSurahs() {
                if (allSurahsData.length > 0) return allSurahsData;
                try {
                    quranListContainer.innerHTML = `<div class="loading-indicator">Memuat data surah...</div>`;
                    const response = await fetch('https://api.quran.gading.dev/surah');
                    const data = await response.json();
                    if (data.code === 200) {
                        allSurahsData = data.data;
                        return allSurahsData;
                    }
                } catch (error) {
                    console.error("Error fetching surah list:", error);
                    quranListContainer.innerHTML = `<div class="loading-indicator">Gagal dimuat. Periksa koneksi.</div>`;
                }
                return [];
            }
    
            function renderSurahList(surahs, container, backTarget) {
                container.innerHTML = '';
                if (!surahs || surahs.length === 0) {
                    container.innerHTML = `<div class="loading-indicator">Tidak ada data.</div>`;
                    return;
                }
                surahs.forEach(surah => {
                    const item = document.createElement('div');
                    item.className = 'list-item';
                    item.innerHTML = `
                        <span class="num">${surah.number}</span>
                        <div class="details">
                            <div class="title">${surah.name.transliteration.id}</div>
                            <div class="subtitle">${surah.name.translation.id} (${surah.numberOfVerses} ayat)</div>
                        </div>
                        <span class="arabic">${surah.name.short}</span>`;
                    item.addEventListener('click', () => showSurahDetail(surah.number, backTarget));
                    container.appendChild(item);
                });
            }
    
            function renderJuzList() {
                quranListContainer.innerHTML = '';
                for (let i = 1; i <= 30; i++) {
                    const item = document.createElement('div');
                    item.className = 'list-item';
                    item.innerHTML = `
                        <span class="num">${i}</span>
                        <div class="details"><div class="title">Juz ${i}</div></div>
                        <span class="arabic">Ø§Ù„Ø¬Ø²Ø¡ ${i}</span>`;
                    item.addEventListener('click', () => showSurahsInJuz(i));
                    quranListContainer.appendChild(item);
                }
            }
    
            async function showSurahsInJuz(juzNumber) {
                juzDetailTitle.textContent = `Daftar Surah di Juz ${juzNumber}`;
                juzSurahListContainer.innerHTML = `<div class="loading-indicator">Memuat...</div>`;
                showView('juz-detail-view');
                const surahs = await fetchAllSurahs();
                const surahNumbersInJuz = [...new Set(juzToSurahMap[juzNumber])];
                const surahsInJuz = surahs.filter(s => surahNumbersInJuz.includes(s.number));
                renderSurahList(surahsInJuz, juzSurahListContainer, 'juz-detail-view');
            }
    
            function stopPlaylist() {
                isPlaylistPlaying = false;
                murottalPlayer.pause();
                murottalPlayer.src = '';
                currentPlayingAyahIndex = 0;
                document.querySelectorAll('.ayah-item.ayah-playing').forEach(el => el.classList.remove('ayah-playing'));
                const playBtn = document.getElementById('surah-play-btn');
                if (playBtn) playBtn.innerHTML = 'â–¶ï¸';
            }
    
            function playAyah(index) {
                if (!surahAudioData.ayahs || !surahAudioData.ayahs[index]) {
                    console.log(`Surah ${currentOpenSurahNumber} selesai.`);
                    if (currentOpenSurahNumber >= 114) {
                        console.log("Murottal Al-Qur'an telah selesai. Pemutaran berhenti.");
                        stopPlaylist();
                        return;
                    }
                    const nextSurahNumber = currentOpenSurahNumber + 1;
                    console.log(`Lanjut otomatis ke surah berikutnya: ${nextSurahNumber}`);
                    showSurahDetail(nextSurahNumber, 'quran-view', true);
                    return;
                }
    
                currentPlayingAyahIndex = index;
                const ayahNumberInSurah = surahAudioData.ayahs[index].numberInSurah;
                const ayahElement = document.getElementById(`ayah-item-${ayahNumberInSurah}`);
    
                document.querySelectorAll('.ayah-item.ayah-playing').forEach(el => el.classList.remove('ayah-playing'));
    
                if (ayahElement) {
                    ayahElement.classList.add('ayah-playing');
                    ayahElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
    
                const audioUrl = surahAudioData.ayahs[index].audio;
                murottalPlayer.src = audioUrl;
                murottalPlayer.play().catch(e => {
                    console.error(`Gagal memutar audio untuk ayat ${ayahNumberInSurah}:`, e);
                });
            }
    
            function togglePlaylist() {
                isPlaylistPlaying = !isPlaylistPlaying;
                const playBtn = document.getElementById('surah-play-btn');
                if (isPlaylistPlaying) {
                    playBtn.innerHTML = 'â¸ï¸';
                    playAyah(currentPlayingAyahIndex);
                } else {
                    playBtn.innerHTML = 'â–¶ï¸';
                    murottalPlayer.pause();
                }
            }
    
// GANTI SELURUH FUNGSI showSurahDetail ANDA DENGAN KODE GABUNGAN INI
async function showSurahDetail(number, backTarget = 'quran-view', autoplay = false) {
    surahViewTitle.textContent = `Memuat Surah...`;
    surahViewBody.innerHTML = `<div class="loading-indicator">Memuat...</div>`;
    surahViewBackBtn.setAttribute('data-target-view', backTarget);
    showView('surah-view');

    stopPlaylist();

    // [BARU] Periksa apakah fitur tajwid diaktifkan dari localStorage
    const isTajwidEnabled = localStorage.getItem('tajwid_highlight_enabled') === 'true';

    try {
        const textResponse = await fetch(`https://api.quran.gading.dev/surah/${number}`);
        const textResult = await textResponse.json();
        if (textResult.code !== 200) throw new Error('Gagal memuat teks surah');
        const surah = textResult.data;

        const audioResponse = await fetch(`https://api.alquran.cloud/v1/surah/${number}/editions/${selectedQariIdentifier}`);
        const audioResult = await audioResponse.json();
        if (audioResult.code !== 200) throw new Error('Gagal memuat audio surah');
        surahAudioData = audioResult.data[0];

        currentOpenSurahNumber = surah.number;
        surahViewTitle.textContent = `${surah.name.transliteration.id}`;

        let contentHtml = `
            <div class="surah-detail-header">
                <h2>${surah.name.long}</h2>
                <p>${surah.name.translation.id}</p>
                <div class="meta">${surah.revelation.id} â€¢ ${surah.numberOfVerses} AYAT</div>
            </div>
            <div class="surah-audio-player">
                <button id="surah-play-btn">â–¶ï¸</button>
                <select id="qari-select" class="custom-select" style="flex-grow: 1; text-align: center;"></select>
            </div>
        `;

        // [DIGABUNGKAN] Hanya tampilkan legenda jika tajwid aktif
        if (isTajwidEnabled) {
            contentHtml += `
            <details class="tajwid-legend">
                <summary>ðŸ“˜Warna Tajwid</summary>
                <div class="tajwid-legend-grid">
                    <div class="legend-item"><span class="legend-color-box" style="background-color: #e74c3c;"></span>Ghunnah</div>
                    <div class="legend-item"><span class="legend-color-box" style="background-color: #3498db;"></span>Ikhfa'</div>
                    <div class="legend-item"><span class="legend-color-box" style="background-color: #2ecc71;"></span>Idgham</div>
                    <div class="legend-item"><span class="legend-color-box" style="background-color: #f39c12;"></span>Iqlab</div>
                    <div class="legend-item"><span class="legend-color-box" style="background-color: #9b59b6;"></span>Qalqalah</div>
                </div>
            </details>
            `;
        }

        if (surah.number !== 1 && surah.number !== 9) {
            contentHtml += `<div class="basmala"><p class="basmala-arabic">Ø¨ÙØ³Ù’Ù…Ù Ù±Ù„Ù„Ù‘ÙŽÙ‡Ù Ù±Ù„Ø±Ù‘ÙŽØ­Ù’Ù…ÙŽÙ°Ù†Ù Ù±Ù„Ø±Ù‘ÙŽØ­ÙÙŠÙ…Ù</p></div>`;
        }

        surah.verses.forEach(ayah => {
            // [DIGABUNGKAN] Terapkan aturan tajwid hanya jika diaktifkan
            let arabicText = ayah.text.arab;
            if (isTajwidEnabled) {
                arabicText = applyTajwidRules(arabicText);
            }

            contentHtml += `
                <div class="ayah-item" id="ayah-item-${ayah.number.inSurah}">
                    <div class="ayah-header"><span class="ayah-number">${surah.number}:${ayah.number.inSurah}</span></div>
                    <p class="ayah-arabic">${arabicText}</p>
                    <p class="ayah-latin">${ayah.text.transliteration.en}</p>
                    <p class="ayah-translation"><b>Artinya:</b> ${ayah.translation.id}</p>
                </div>`;
        });
        surahViewBody.innerHTML = contentHtml;

        const qariSelect = document.getElementById('qari-select');
        for (const key in qariData) {
            const option = document.createElement('option');
            option.value = key;
            option.textContent = qariData[key];
            if (key === selectedQariIdentifier) { option.selected = true; }
            qariSelect.appendChild(option);
        }

        qariSelect.addEventListener('change', function() {
            selectedQariIdentifier = this.value;
            localStorage.setItem('selected_qari_identifier', selectedQariIdentifier);
            stopPlaylist();
            showSurahDetail(number, backTarget);
        });

        document.getElementById('surah-play-btn').addEventListener('click', togglePlaylist);
        lastReadSurah = { number: surah.number, name: surah.name.transliteration.id };
        localStorage.setItem('last_read_surah', JSON.stringify(lastReadSurah));
        updateLastReadSurahCard();
        surahViewBookmarkBtn.classList.toggle('bookmarked', bookmarkedSurahs.includes(surah.number));

        if (autoplay) {
            setTimeout(() => {
                togglePlaylist();
            }, 100);
        }

    } catch (error) {
        surahViewBody.innerHTML = `<div class="loading-indicator">Gagal memuat surah. Periksa koneksi internet dan coba lagi.</div>`;
        console.error("Error fetching surah detail:", error);
    }
}
    
            function updateLastReadSurahCard() {
                if (lastReadSurah) {
                    lastReadSurahCardText.textContent = `Surah ${lastReadSurah.name} (No. ${lastReadSurah.number})`;
                } else {
                    lastReadSurahCardText.textContent = "Belum ada surah yang dibaca";
                }
            }
    
            lastReadSurahCard.addEventListener('click', () => {
                if (lastReadSurah && lastReadSurah.number) {
                    showSurahDetail(lastReadSurah.number, 'quran-view');
                }
            });
    
            surahViewBookmarkBtn.addEventListener('click', function() {
                if (currentOpenSurahNumber === null) return;
                const index = bookmarkedSurahs.indexOf(currentOpenSurahNumber);
                if (index > -1) {
                    bookmarkedSurahs.splice(index, 1);
                } else {
                    bookmarkedSurahs.push(currentOpenSurahNumber);
                }
                this.classList.toggle('bookmarked');
                localStorage.setItem('bookmarked_surahs', JSON.stringify(bookmarkedSurahs));
            });
    
            quranTabs.addEventListener('click', (e) => {
                if (e.target.classList.contains('tab-item')) {
                    quranTabs.querySelector('.tab-item.active').classList.remove('active');
                    e.target.classList.add('active');
                    renderQuranView(e.target.dataset.tab);
                }
            });
    
            murottalPlayer.addEventListener('ended', () => {
                if (isPlaylistPlaying) {
                    playAyah(currentPlayingAyahIndex + 1);
                }
            });
    
            murottalPlayer.addEventListener('play', () => {
                const playBtn = document.getElementById('surah-play-btn');
                if (isPlaylistPlaying && playBtn) playBtn.innerHTML = 'â¸ï¸';
            });
    
            murottalPlayer.addEventListener('pause', () => {
                const playBtn = document.getElementById('surah-play-btn');
                if (isPlaylistPlaying && playBtn) playBtn.innerHTML = 'â–¶ï¸';
            });
    
            window.renderQuranView = async function(tab) {
                quranListContainer.innerHTML = `<div class="loading-indicator">Memuat...</div>`;
                const surahs = await fetchAllSurahs();
                if (tab === 'surah') {
                    renderSurahList(surahs, quranListContainer, 'quran-view');
                } else if (tab === 'juz') {
                    renderJuzList();
                } else if (tab === 'bookmarked') {
                    const bookmarkedList = surahs.filter(s => bookmarkedSurahs.includes(s.number));
                    if (bookmarkedList.length === 0) {
                        quranListContainer.innerHTML = `<div class="loading-indicator">Tidak ada surah yang ditandai.</div>`;
                    } else {
                        renderSurahList(bookmarkedList, quranListContainer, 'quran-view');
                    }
                }
            };
    
            updateLastReadSurahCard();
        }

        
    
        // --- DZIKIR & TASBIH FEATURE ---
        function setupDzikir() {
            const dzikirListContainer = document.getElementById('dzikir-list-container');
            const dzikirDetailModal = document.getElementById('dzikir-detail-modal');
            const tasbihView = document.getElementById('tasbih-view');
            const tasbihTitle = document.getElementById('tasbih-title');
            const tasbihCurrentCount = document.getElementById('tasbih-current-count');
            const tasbihTargetCount = document.getElementById('tasbih-target-count');
            const tasbihTapArea = document.getElementById('tasbih-tap-area');
            const tasbihResetBtn = document.getElementById('tasbih-reset-btn');
    
            function saveState() { localStorage.setItem('dzikir_state', JSON.stringify(dzikirState)); }
    
            window.renderDzikirList = () => {
                dzikirListContainer.innerHTML = '';
                dzikirData.forEach((d, index) => {
                    const item = document.createElement('div');
                    item.className = 'list-item';
                    item.innerHTML = `
                                    <span class="num">ðŸ“¿</span>
                                    <div class="details">
                                        <div class="title">${d.title}</div>
                                        <div class="subtitle">${d.subtitle}</div>
                                    </div>
                                    <span class="arabic">${d.arabic}</span>`;
                    item.addEventListener('click', () => showDzikirDetailModal(d.id));
                    dzikirListContainer.appendChild(item);
                });
            };
    
            function showDzikirDetailModal(id) {
                const dzikir = dzikirData.find(d => d.id === id); if (!dzikir) return;
    
                dzikirDetailModal.querySelector('#dzikir-detail-modal-title').textContent = dzikir.title;
                const modalBody = dzikirDetailModal.querySelector('#dzikir-detail-modal-body');
                modalBody.innerHTML = `
                                    <p class="single-item-arabic">${dzikir.arabic}</p>
                                    <p class="single-item-latin">${dzikir.latin}</p>
                                    <hr style="margin: 1.5rem 0; border: 0; border-top: 1px solid #eee;">
                                    <p class="single-item-arti"><b>Artinya:</b> ${dzikir.arti}</p>
                                    <button id="start-dzikir-btn" class="modal-action-btn">Mulai Dzikir (Target: ${dzikir.target})</button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    `;
    
                modalBody.querySelector('#start-dzikir-btn').addEventListener('click', () => {
                    dzikirDetailModal.style.display = 'none';
                    showTasbihView(id);
                });
    
                dzikirDetailModal.style.display = 'flex';
            }
    
            dzikirDetailModal.querySelector('.close-button').addEventListener('click', () => {
                dzikirDetailModal.style.display = 'none';
            });
    
            function showTasbihView(id) {
                currentDzikirId = id;
                const d = dzikirData.find(dz => dz.id === id);
                const s = dzikirState[id] || { count: 0, lap: 0 };
    
                tasbihTitle.textContent = d.title;
                tasbihCurrentCount.textContent = s.count;
                tasbihTargetCount.textContent = `/ ${d.target}`;
    
                tasbihView.querySelector('.tasbih-arabic').textContent = d.arabic;
                tasbihView.querySelector('.tasbih-latin').textContent = d.latin;
                tasbihView.querySelector('.tasbih-arti').textContent = `Artinya: ${d.arti}`;
    
                showView('tasbih-view');
            }
    
            tasbihTapArea.addEventListener('click', () => {
                if (!currentDzikirId) return;
                const d = dzikirData.find(dz => dz.id === currentDzikirId);
                let s = dzikirState[currentDzikirId];
                if (!s) {
                    s = dzikirState[currentDzikirId] = { count: 0, lap: 0 };
                }
                s.count++;
                if (s.count > d.target) {
                    s.count = 1;
                    s.lap = (s.lap || 0) + 1;
                }
                s.lastUpdate = new Date().toLocaleString('id-ID');
                tasbihCurrentCount.textContent = s.count;
                saveState();
                if (navigator.vibrate) navigator.vibrate(50);
            });
    
            tasbihResetBtn.addEventListener('click', () => {
                if (!currentDzikirId || !dzikirState[currentDzikirId]) return;
                dzikirState[currentDzikirId].count = 0;
                dzikirState[currentDzikirId].lap = 0;
                tasbihCurrentCount.textContent = 0;
                saveState();
            });
        }
    
        // --- QIBLA FEATURE ---
// GANTI SELURUH FUNGSI setupQiblaFeature LAMA ANDA DENGAN INI
function setupQiblaFeature() {
    const qiblaBtn = document.getElementById('qibla-btn');
    const qiblaView = document.getElementById('qibla-view');
    const backButton = qiblaView.querySelector('.back-button');
    const compassCircleEl = document.getElementById('qibla-compass-circle');
    const pointerEl = document.getElementById('qibla-pointer'); // Diubah dari needleEl
    const roseEl = document.getElementById('compass-rose'); // Elemen baru
    const permissionPromptEl = document.getElementById('qibla-permission-prompt');
    const permissionBtn = document.getElementById('qibla-permission-btn');
    const compassUiContainer = document.getElementById('qibla-compass-container');
    const infoBoxEl = document.getElementById('qibla-info-box');
    const degreeDisplayEl = infoBoxEl.querySelector('.direction-degree');
    const recalibrateBtn = document.getElementById('qibla-recalibrate-btn');
    const mapBtn = document.getElementById('qibla-map-btn'); // Tombol peta baru

    let qiblaBearing = null;
    let magneticDeclination = 0;
    let isWatching = false;
    let orientationHandlerRef = null;
    let userLocation = null; // Simpan lokasi pengguna

    const getMagneticDeclination = (latitude, longitude) => {
        // Fungsi ini tidak berubah, tetap gunakan yang sudah ada.
        const toRad = (angle) => angle * (Math.PI / 180);
        const toDeg = (angle) => angle * (180 / Math.PI);
        const g10 = -29404.8, g11 = -1450.9, h11 = 4652.5;
        const phi = toRad(latitude), lambda = toRad(longitude);
        const cosPhi = Math.cos(phi), sinPhi = Math.sin(phi);
        const cosLambda = Math.cos(lambda), sinLambda = Math.sin(lambda);
        const X = g10 * cosPhi + (g11 * cosLambda + h11 * sinLambda) * sinPhi;
        const Y = g11 * sinLambda - h11 * cosLambda;
        return toDeg(Math.atan2(Y, X));
    };

    function createOrientationHandler() {
        return function(event) {
            let magneticHeading = event.webkitCompassHeading;
            if (typeof magneticHeading === 'undefined' || magneticHeading === null) {
                magneticHeading = event.alpha;
            }
            if (magneticHeading === null || qiblaBearing === null) return;

            const trueHeading = magneticHeading + magneticDeclination;
            const pointerRotation = qiblaBearing;
            const roseRotation = -trueHeading;

            roseEl.style.transform = `rotate(${roseRotation}deg)`;
            pointerEl.style.transform = `translateX(-50%) rotate(${pointerRotation}deg)`;
            
            const diff = (qiblaBearing - trueHeading + 360) % 360;
            let alignmentCheck = diff > 180 ? 360 - diff : diff;

            if (alignmentCheck < 2.5) {
                compassCircleEl.classList.add('aligned');
                degreeDisplayEl.textContent = 'âœ“ Arah Kiblat Tepat';
            } else {
                compassCircleEl.classList.remove('aligned');
                if (diff > 180) {
                    degreeDisplayEl.textContent = `Putar ${Math.round(360 - diff)}Â° `;
                } else {
                    degreeDisplayEl.textContent = `Putar ${Math.round(diff)}Â° `;
                }
            }
        };
    }

    function showUi(showCompass, message = '') {
        // Fungsi ini tidak berubah
        if (showCompass) {
            permissionPromptEl.style.display = 'none';
            compassUiContainer.style.display = 'flex';
            infoBoxEl.style.display = 'block';
        } else {
            permissionPromptEl.style.display = 'block';
            permissionPromptEl.querySelector('p').textContent = message || 'Fitur ini memerlukan izin lokasi & sensor gerak.';
            compassUiContainer.style.display = 'none';
            infoBoxEl.style.display = 'none';
        }
    }

    function calculateQiblaBearing(lat, lon) {
        // Fungsi ini tidak berubah
        const toRad = (deg) => deg * Math.PI / 180;
        const kaabaLat = toRad(21.4225);
        const userLat = toRad(lat);
        const dLon = toRad(39.8262 - lon);
        const y = Math.sin(dLon) * Math.cos(kaabaLat);
        const x = Math.cos(userLat) * Math.sin(kaabaLat) - Math.sin(userLat) * Math.cos(kaabaLat) * Math.cos(dLon);
        let bearing = Math.atan2(y, x) * (180 / Math.PI);
        return (bearing + 360) % 360;
    }

// GANTIKAN FUNGSI startCompass LAMA ANDA DENGAN KESELURUHAN FUNGSI BARU INI
async function startCompass() {
    stopCompass(); // Menghentikan listener yang mungkin aktif sebelumnya
    isWatching = true;
    showUi(true);
    degreeDisplayEl.innerHTML = 'Mendapatkan lokasi & kalibrasi sensor...<br><small style="font-weight:400;">Tetap stabil dan jauhkan dari magnet.</small>';

    // --- FUNGSI BANTUAN UNTUK KONVERSI ---
    // Sensor modern memberikan orientasi dalam format "quaternion", kita ubah ke derajat (0-360)
    const getHeadingFromQuaternion = (quaternion) => {
        const [x, y, z, w] = quaternion;
        // Rumus matematika untuk konversi Quaternion ke sudut Yaw (heading)
        let yawRad = Math.atan2(2 * (w * z + x * y), 1 - 2 * (y * y + z * z));
        let yawDeg = yawRad * (180 / Math.PI);
        // Konversi ke format kompas (0Â° = Utara)
        let heading = (360 - yawDeg) % 360;
        return heading;
    };

    try {
        // 1. Dapatkan Lokasi Pengguna (Sama seperti sebelumnya)
        const position = await new Promise((resolve, reject) => {
            navigator.geolocation.getCurrentPosition(resolve, reject, {
                enableHighAccuracy: true,
                timeout: 20000,
                maximumAge: 0
            });
        });

        const userLat = position.coords.latitude;
        const userLon = position.coords.longitude;
        userLocation = { lat: userLat, lon: userLon };

        // 2. Hitung Arah Kiblat (Sama seperti sebelumnya)
        qiblaBearing = calculateQiblaBearing(userLat, userLon);
        degreeDisplayEl.textContent = `Arah Kiblat: ${qiblaBearing.toFixed(1)}Â°`;
        
        // 3. --- INI BAGIAN BARU: MENGGUNAKAN SENSOR FUSION ---
        if ('AbsoluteOrientationSensor' in window) {
            console.log("âœ… Menggunakan Sensor Fusion (Gyro + Accel + Magneto)");
            
            const sensor = new AbsoluteOrientationSensor({ frequency: 60 });

            sensor.onreading = () => {
                if (!sensor.quaternion || qiblaBearing === null) return;
                
                const trueHeading = getHeadingFromQuaternion(sensor.quaternion);
                
                // Logika rotasi kompas (sama seperti sebelumnya)
                const pointerRotation = qiblaBearing;
                const roseRotation = -trueHeading;
                roseEl.style.transform = `rotate(${roseRotation}deg)`;
                pointerEl.style.transform = `translateX(-50%) rotate(${pointerRotation}deg)`;

                // Logika status arah (sama seperti sebelumnya)
                const diff = (qiblaBearing - trueHeading + 360) % 360;
                let alignmentCheck = diff > 180 ? 360 - diff : diff;

                if (alignmentCheck < 2.5) { // Toleransi 2.5 derajat
                    compassCircleEl.classList.add('aligned');
                    degreeDisplayEl.textContent = 'âœ“ Arah Kiblat Tepat';
                } else {
                    compassCircleEl.classList.remove('aligned');
                    if (diff > 180) {
                        degreeDisplayEl.textContent = `Putar ${Math.round(360 - diff)}Â° `;
                    } else {
                        degreeDisplayEl.textContent = `Putar ${Math.round(diff)}Â° `;
                    }
                }
            };

            sensor.onerror = (event) => {
                console.error('Error pada Sensor Fusion:', event.error.name, event.error.message);
                if (event.error.name === 'NotAllowedError') {
                    showUi(false, 'Izin untuk sensor gerak ditolak. Mohon segarkan halaman dan izinkan.');
                }
            };
            
            sensor.start();
            
            // Simpan referensi sensor agar bisa dihentikan nanti
            orientationHandlerRef = sensor; 
        } else {
            // --- FALLBACK (JIKA BROWSER TIDAK SUPPORT SENSOR BARU) ---
            console.warn("âš ï¸ Browser tidak mendukung AbsoluteOrientationSensor. Menggunakan deviceorientation (kompas lama).");
            magneticDeclination = getMagneticDeclination(userLat, userLon); // Diperlukan untuk metode lama
            orientationHandlerRef = createOrientationHandler(); // createOrientationHandler adalah fungsi lama Anda
            window.addEventListener('deviceorientation', orientationHandlerRef);
        }

    } catch (error) {
        console.error("Qibla Error:", error.message);
        stopCompass();
        showUi(false, 'Gagal mendapatkan lokasi akurat. Pastikan GPS aktif dan izin diberikan.');
    }
}

// Tambahan: Ubah fungsi stopCompass agar bisa menghentikan sensor baru
function stopCompass() {
    if (orientationHandlerRef) {
        // Cek apakah ini sensor baru atau event listener lama
        if (orientationHandlerRef instanceof AbsoluteOrientationSensor) {
            orientationHandlerRef.stop(); // Metode untuk menghentikan sensor baru
            console.log("Sensor Fusion dihentikan.");
        } else {
            window.removeEventListener('deviceorientation', orientationHandlerRef); // Metode lama
            console.log("Listener Kompas Lama dihentikan.");
        }
    }
    compassCircleEl.classList.remove('aligned');
    isWatching = false;
    orientationHandlerRef = null;
}

    async function requestAndStart() {
        if (typeof DeviceOrientationEvent !== 'undefined' && typeof DeviceOrientationEvent.requestPermission === 'function') {
            try {
                const permissionState = await DeviceOrientationEvent.requestPermission();
                if (permissionState !== 'granted') {
                    showUi(false, 'Izin sensor gerak ditolak.');
                    return;
                }
            } catch (error) {
                showUi(false, 'Gagal meminta izin sensor gerak.');
                return;
            }
        }
        await startCompass();
    }

    async function initializeQibla() {
        // Fungsi ini tidak berubah
        if (!navigator.geolocation || typeof window.DeviceOrientationEvent === "undefined") {
            showUi(false, 'Browser Anda tidak mendukung fitur ini.');
            return;
        }
        try {
            const locationPermission = await navigator.permissions.query({ name: 'geolocation' });
            if (locationPermission.state === 'granted') {
                await requestAndStart();
            } else {
                showUi(false);
            }
        } catch (e) {
            showUi(false);
        }
    }
    
// --- [PERBAIKAN] Logika untuk Tombol Peta ---
mapBtn.addEventListener('click', () => {
    if (userLocation) {
        // Membuat URL yang benar untuk Google Maps Directions
        // dari lokasi pengguna ke Ka'bah (21.4225Â° N, 39.8262Â° E)
        const mapUrl = `https://www.google.com/maps/dir/?api=1&origin=${userLocation.lat},${userLocation.lon}&destination=21.4225,39.8262`;
        
        // Membuka URL di tab baru, yang akan ditangani oleh browser atau aplikasi peta default
        window.open(mapUrl, '_blank');
    } else {
        alert('Lokasi Anda belum ditemukan. Mohon tunggu atau coba kalibrasi ulang.');
    }
});

    qiblaBtn.addEventListener('click', (e) => {
        e.preventDefault();
        showView('qibla-view');
        closeSidebar();
        initializeQibla();
    });

    permissionBtn.addEventListener('click', requestAndStart);
    recalibrateBtn.addEventListener('click', startCompass);
    backButton.addEventListener('click', stopCompass);
}
    
        // --- [MODIFIKASI] FUNGSI FITUR KUIS DIPERBARUI ---
        function setupQuizFeature() {
            // Elemen UI Kuis
            const quizBtn = document.getElementById('quiz-btn');
            const userPointsEl = document.getElementById('user-points');
            const quizModeCards = document.querySelectorAll('#quiz-view .quiz-mode-card');
            
            // Elemen UI Level
            const levelSelectionContainer = document.getElementById('level-selection-container');
            
            // Elemen UI Game Individu
            const quizGameTitle = document.getElementById('quiz-game-title');
            const quizScoreEl = document.getElementById('quiz-score');
            const questionTextEl = document.getElementById('quiz-question-text');
            const optionsContainer = document.getElementById('quiz-options');
            const feedbackEl = document.getElementById('quiz-feedback');
    
            // Elemen UI Game Duet
            const duetQuestionTextEl = document.getElementById('duet-question-text');
            const duetOptionsContainer = document.getElementById('duet-options');
            const duetFeedbackEl = document.getElementById('duet-feedback');
            const player1ScoreEl = document.getElementById('player1-score');
            const player2ScoreEl = document.getElementById('player2-score');
            const duetResultModal = document.getElementById('duet-result-modal');
    
            // --- FUNGSI UMUM ---
            function loadUserPoints() {
                const savedPoints = localStorage.getItem('user_points');
                userPoints = savedPoints ? parseInt(savedPoints, 10) : 0;
                userPointsEl.textContent = userPoints;
            }
    
            function saveUserPoints() {
                localStorage.setItem('user_points', userPoints);
                userPointsEl.textContent = userPoints;
            }
    
            quizBtn.addEventListener('click', (e) => {
                e.preventDefault();
                loadUserPoints();
                showView('quiz-view');
                closeSidebar();
            });
            
            // --- ALUR PEMILIHAN MODE & LEVEL ---
            quizModeCards.forEach(card => {
                card.addEventListener('click', () => {
                    const mode = card.dataset.mode;
                    document.getElementById('quiz-level-title').dataset.mode = mode;
                    showView('quiz-level-selection-view');
                });
            });
    
            levelSelectionContainer.addEventListener('click', (e) => {
                const card = e.target.closest('.quiz-mode-card');
                if(card) {
                    const level = card.dataset.level;
                    const mode = document.getElementById('quiz-level-title').dataset.mode;
                    if(mode === 'individu') {
                        startIndividualGame(level);
                    } else if (mode === 'duet') {
                        startDuetGame(level);
                    }
                }
            });
    
    
            // --- LOGIKA MODE INDIVIDU ---
            function startIndividualGame(level) {
                quizScore = 0;
                quizGameTitle.textContent = `Mode Individu (${level})`;
                quizScoreEl.textContent = quizScore;
                availableQuestions = quizData.map((_, index) => index).filter(i => quizData[i].level === level);
                showView('quiz-game-view');
                renderNextIndividualQuestion();
            }
            
            function renderNextIndividualQuestion() {
                feedbackEl.textContent = '';
                feedbackEl.className = 'quiz-feedback';
                optionsContainer.innerHTML = '';
    
if (availableQuestions.length === 0) {
                    // Ambil elemen modal
                    const individualResultModal = document.getElementById('individual-result-modal');

                    // Isi konten modal dengan skor akhir dan poin yang didapat
                    document.getElementById('individual-final-score').textContent = `Skor Akhir Anda: ${quizScore}`;
                    const pointsEarned = quizScore * 10; // Poin didapat dari jumlah jawaban benar
                    document.getElementById('individual-points-earned').textContent = `Anda mendapatkan ${pointsEarned} ðŸ’Ž dari permainan ini.`;
                    
                    // Tampilkan modal
                    individualResultModal.style.display = 'flex';

                    // Tambahkan fungsi untuk tombol kembali
                    document.getElementById('individual-back-to-menu-btn').onclick = () => {
                        individualResultModal.style.display = 'none';
                        showView('quiz-view');
                    };
                    return;
                }
    
                const randomIndex = Math.floor(Math.random() * availableQuestions.length);
                currentQuestionIndex = availableQuestions.splice(randomIndex, 1)[0];
                
                const question = quizData[currentQuestionIndex];
                questionTextEl.textContent = question.question;
    
                question.options.forEach((option, index) => {
                    const optionEl = document.createElement('div');
                    optionEl.className = 'quiz-option';
                    optionEl.textContent = option;
                    optionEl.dataset.index = index;
                    optionEl.addEventListener('click', handleIndividualAnswer);
                    optionsContainer.appendChild(optionEl);
                });
            }
    
            function handleIndividualAnswer(e) {
                const selectedIndex = parseInt(e.target.dataset.index, 10);
                const question = quizData[currentQuestionIndex];
                const isCorrect = selectedIndex === question.correctAnswer;
                
                document.querySelectorAll('#quiz-options .quiz-option').forEach(opt => {
                    opt.classList.add('disabled');
                    if(parseInt(opt.dataset.index, 10) === question.correctAnswer) {
                        opt.classList.add('correct');
                    }
                });
    
                if (isCorrect) {
                    e.target.classList.add('correct');
                    feedbackEl.textContent = 'Benar! +10 Poin';
                    feedbackEl.classList.add('correct');
                    quizScore++;
                    userPoints += 10;
                    quizScoreEl.textContent = quizScore;
                    saveUserPoints();
                } else {
                    e.target.classList.add('incorrect');
                    feedbackEl.textContent = `Salah. Jawaban: ${question.surahInfo}`;
                    feedbackEl.classList.add('incorrect');
                }
                setTimeout(renderNextIndividualQuestion, 2500);
            }
    
            // --- LOGIKA MODE DUET ---
            function startDuetGame(level) {
                duetGameState.active = true;
                duetGameState.currentPlayer = 1;
                duetGameState.player1Score = 0;
                duetGameState.player2Score = 0;
                duetGameState.currentRound = 1;
                duetGameState.questionPool = quizData.map((_, index) => index).filter(i => quizData[i].level === level);
                
                player1ScoreEl.textContent = `Skor: 0`;
                player2ScoreEl.textContent = `Skor: 0`;
                
                showView('quiz-duet-game-view');
                renderNextDuetQuestion();
                updateTurnIndicator();
            }
            
            function updateTurnIndicator() {
                const player1Container = document.getElementById('player1-container');
                const player2Container = document.getElementById('player2-container');
                const turnIndicator = document.getElementById('duet-turn-indicator');
                
                if (duetGameState.currentPlayer === 1) {
                    player1Container.classList.add('active');
                    player2Container.classList.remove('active');
                    turnIndicator.textContent = `Ronde ${duetGameState.currentRound} - Giliran Pemain 1`;
                } else {
                    player1Container.classList.remove('active');
                    player2Container.classList.add('active');
                    turnIndicator.textContent = `Ronde ${duetGameState.currentRound} - Giliran Pemain 2`;
                }
            }
            
            function renderNextDuetQuestion() {
                duetFeedbackEl.textContent = '';
                duetFeedbackEl.className = 'quiz-feedback';
                duetOptionsContainer.innerHTML = '';
    
                if (duetGameState.questionPool.length === 0 || duetGameState.currentRound > duetGameState.questionsPerPlayer) {
                    endDuetGame();
                    return;
                }
    
                const randomIndex = Math.floor(Math.random() * duetGameState.questionPool.length);
                currentQuestionIndex = duetGameState.questionPool.splice(randomIndex, 1)[0];
                
                const question = quizData[currentQuestionIndex];
                duetQuestionTextEl.textContent = question.question;
    
                question.options.forEach((option, index) => {
                    const optionEl = document.createElement('div');
                    optionEl.className = 'quiz-option';
                    optionEl.textContent = option;
                    optionEl.dataset.index = index;
                    optionEl.addEventListener('click', handleDuetAnswer);
                    duetOptionsContainer.appendChild(optionEl);
                });
            }
    
            function handleDuetAnswer(e) {
                const selectedIndex = parseInt(e.target.dataset.index, 10);
                const question = quizData[currentQuestionIndex];
                const isCorrect = selectedIndex === question.correctAnswer;
                
                document.querySelectorAll('#duet-options .quiz-option').forEach(opt => {
                    opt.classList.add('disabled');
                    if(parseInt(opt.dataset.index, 10) === question.correctAnswer) {
                       opt.classList.add('correct');
                    }
                });
    
                if (isCorrect) {
                    e.target.classList.add('correct');
                    duetFeedbackEl.textContent = 'Benar!';
                    duetFeedbackEl.classList.add('correct');
                    if (duetGameState.currentPlayer === 1) {
                        duetGameState.player1Score += 10;
                        player1ScoreEl.textContent = `Skor: ${duetGameState.player1Score}`;
                    } else {
                        duetGameState.player2Score += 10;
                        player2ScoreEl.textContent = `Skor: ${duetGameState.player2Score}`;
                    }
                } else {
                    e.target.classList.add('incorrect');
                    duetFeedbackEl.textContent = 'Salah!';
                    duetFeedbackEl.classList.add('incorrect');
                }
                
                if (duetGameState.currentPlayer === 2) {
                    duetGameState.currentRound++;
                }
                
                duetGameState.currentPlayer = (duetGameState.currentPlayer === 1) ? 2 : 1;
                
                setTimeout(() => {
                    renderNextDuetQuestion();
                    updateTurnIndicator();
                }, 2500);
            }
    
            function endDuetGame() {
                duetGameState.active = false;
                const winnerText = document.getElementById('duet-winner-text');
                const finalScores = document.getElementById('duet-final-scores');
                
                if (duetGameState.player1Score > duetGameState.player2Score) {
                    winnerText.textContent = 'ðŸ† Pemain 1 Menang! ðŸ†';
                } else if (duetGameState.player2Score > duetGameState.player1Score) {
                    winnerText.textContent = 'ðŸ† Pemain 2 Menang! ðŸ†';
                } else {
                    winnerText.textContent = 'ðŸ¤ Hasilnya Seri! ðŸ¤';
                }
    
                finalScores.textContent = `Skor Akhir: Pemain 1 (${duetGameState.player1Score}) - Pemain 2 (${duetGameState.player2Score})`;
                duetResultModal.style.display = 'flex';
    
                document.getElementById('duet-play-again-btn').onclick = () => {
                    duetResultModal.style.display = 'none';
                    showView('quiz-level-selection-view');
                };
                document.getElementById('duet-back-to-menu-btn').onclick = () => {
                    duetResultModal.style.display = 'none';
                    showView('quiz-view');
                };
            }
    
            loadUserPoints();
        }
        
        // --- [BARU] FUNGSI UNTUK TOKO TEMA ---
// GANTI SELURUH FUNGSI LAMA ANDA DENGAN YANG INI
function setupThemeStore() {
    const themeStoreBtn = document.getElementById('theme-store-btn');
    const themeStoreModal = document.getElementById('theme-store-modal');
    const closeModalBtn = themeStoreModal.querySelector('.close-button');
    const storeUserPointsEl = document.getElementById('store-user-points');
    const themeGrid = document.getElementById('theme-grid');
    const mainUserPointsEl = document.getElementById('user-points');
    
    // [BARU] Ambil elemen modal konfirmasi di sini
    const themePurchaseModal = document.getElementById('theme-purchase-modal');
    const themeSuccessModal = document.getElementById('theme-success-modal');

    let purchasedThemes = JSON.parse(localStorage.getItem('purchased_themes')) || ['default'];
    let appliedThemeId = localStorage.getItem('applied_theme') || 'default';
    
    // Variabel sementara untuk menyimpan info tema yang akan dibeli
    let pendingPurchase = {};

    function saveThemeData() {
        localStorage.setItem('purchased_themes', JSON.stringify(purchasedThemes));
        localStorage.setItem('applied_theme', appliedThemeId);
    }

    function saveUserPoints() {
        localStorage.setItem('user_points', userPoints);
        mainUserPointsEl.textContent = userPoints;
        storeUserPointsEl.textContent = `Poin Anda: ${userPoints} ðŸ’Ž`;
    }

    function renderThemes() {
        storeUserPointsEl.textContent = `Poin Anda: ${userPoints} ðŸ’Ž`;
        themeGrid.innerHTML = '';
        themes.forEach(theme => {
            const isUnlocked = purchasedThemes.includes(theme.id);
            const isApplied = theme.id === appliedThemeId;
            const canAfford = userPoints >= theme.price;
            let buttonHtml = '';
            let cardClasses = 'theme-card';

            if (isApplied) {
                buttonHtml = `<button class="theme-action-btn apply" disabled>Digunakan</button>`;
                cardClasses += ' applied';
            } else if (isUnlocked) {
                buttonHtml = `<button class="theme-action-btn apply" data-theme-id="${theme.id}">Terapkan</button>`;
            } else if (canAfford) {
                buttonHtml = `<button class="theme-action-btn buy" data-theme-id="${theme.id}">Beli</button>`;
            } else {
                buttonHtml = `<button class="theme-action-btn insufficient" disabled>Poin Kurang</button>`;
            }

            const card = document.createElement('div');
            card.className = cardClasses;
            card.innerHTML = `
                <div class="theme-preview">
                    <div class="color-swatch" style="background-color: ${theme.colors[0]}"></div>
                    <div class="color-swatch" style="background-color: ${theme.colors[1]}"></div>
                    <div class="color-swatch" style="background-color: ${theme.colors[2]}"></div>
                    <div class="color-swatch" style="background-color: ${theme.colors[3]}"></div>
                </div>
                <div class="theme-name">${theme.name}</div>
                <div class="theme-price">${theme.price > 0 ? `${theme.price} ðŸ’Ž` : 'Gratis'}</div>
                ${buttonHtml}
            `;
            themeGrid.appendChild(card);
        });
    }

    themeGrid.addEventListener('click', (e) => {
        const btn = e.target;
        const themeId = btn.dataset.themeId;
        if (!themeId) return;

        if (btn.classList.contains('buy')) {
            const theme = themes.find(t => t.id === themeId);
            if (theme) {
                // Simpan informasi tema ke variabel sementara
                pendingPurchase = { id: theme.id, name: theme.name, price: theme.price };
                
                document.getElementById('theme-purchase-info').innerHTML = `Apakah antum yakin ingin membeli tema  <strong>${theme.name}?.</strong> seharga <strong>${theme.price} ðŸ’Ž</strong>. Lanjutkan?`;
                themePurchaseModal.style.display = 'flex';
                
                // HAPUS definisi .onclick dari sini
            }
        } else if (btn.classList.contains('apply')) {
            appliedThemeId = themeId;
            saveThemeData();
            applyThemeCss(themeId);
            renderThemes();
        }
    });
    
    // [DIPINDAHKAN KE SINI] Logika untuk tombol modal ditempatkan di sini, SATU KALI SAJA
    document.getElementById('confirm-purchase-btn').onclick = () => {
        if (!pendingPurchase.id) return; // Pastikan ada tema yang akan dibeli
        
        themePurchaseModal.style.display = 'none';
        
        userPoints -= pendingPurchase.price;
        purchasedThemes.push(pendingPurchase.id);
        saveUserPoints();
        saveThemeData();
        
        const successInfo = document.getElementById('theme-success-info');
        successInfo.innerHTML = `Antum telah berhasil membeli tema <strong>"${pendingPurchase.name}"</strong>.`;
        themeSuccessModal.style.display = 'flex';
        
        pendingPurchase = {}; // Kosongkan setelah selesai
    };

    document.getElementById('cancel-purchase-btn').onclick = () => {
        themePurchaseModal.style.display = 'none';
        pendingPurchase = {}; // Kosongkan juga saat dibatalkan
    };

    document.getElementById('theme-success-ok-btn').onclick = () => {
        themeSuccessModal.style.display = 'none';
        renderThemes(); // Render ulang toko
    };

    themeStoreBtn.addEventListener('click', () => {
        renderThemes();
        themeStoreModal.style.display = 'flex';
    });

    closeModalBtn.addEventListener('click', () => {
        themeStoreModal.style.display = 'none';
    });
    
    applyThemeCss(appliedThemeId);
}

/**
 * Determines the best contrasting text color (black or white) for a given background color.
 * @param {string} hexColor - The background color in hex format (e.g., "#0d264a").
 * @returns {string} - Returns '#000000' (black) for light backgrounds or '#FFFFFF' (white) for dark backgrounds.
 */
function getTextColorForBackground(hexColor) {
    // Remove the '#' if it exists
    const cleanHex = hexColor.startsWith('#') ? hexColor.slice(1) : hexColor;

    // Convert hex to R, G, B
    const r = parseInt(cleanHex.substring(0, 2), 16);
    const g = parseInt(cleanHex.substring(2, 4), 16);
    const b = parseInt(cleanHex.substring(4, 6), 16);

    // Calculate the perceived brightness using a standard formula
    const brightness = Math.round(((r * 299) + (g * 587) + (b * 114)) / 1000);

    // Return black for bright colors, white for dark colors
    return (brightness > 149) ? '#333333' : '#FFFFFF';
}
        
        // [BARU] Fungsi untuk menerapkan CSS tema secara global
// GANTI FUNGSI LAMA ANDA DENGAN YANG BARU INI
function applyThemeCss(themeId) {
    const theme = themes.find(t => t.id === themeId);
    if (!theme) {
        console.error(`Tema dengan ID "${themeId}" tidak ditemukan.`);
        return;
    }

    console.log(`Menerapkan tema: ${theme.name}`);
    const root = document.documentElement;

    // 1. Ambil warna dasar dari tema
    const headerBg = theme.colors[0];
    const primaryBg = theme.colors[1];
    const accentColor = theme.colors[2];
    const cardBg = theme.colors[3];

    // 2. Setel warna-warna background seperti sebelumnya
    root.style.setProperty('--header-bg', headerBg);
    root.style.setProperty('--primary-bg', primaryBg);
    root.style.setProperty('--accent-color', accentColor);
    root.style.setProperty('--card-bg', cardBg);

    // 3. [INI LOGIKA BARUNYA] Hitung dan setel warna teks yang kontras
    // Teks untuk di atas header (dan tombol utama)
    root.style.setProperty('--header-text', getTextColorForBackground(headerBg));
    root.style.setProperty('--button-text', getTextColorForBackground(headerBg));

    // Warna teks utama untuk di atas background primer dan background kartu
    const mainTextColor = getTextColorForBackground(primaryBg);
    root.style.setProperty('--text-color', mainTextColor);
    
    // Tentukan warna teks yang lebih terang/gelap dari warna teks utama
    root.style.setProperty('--text-light', mainTextColor === '#FFFFFF' ? 'rgba(255, 255, 255, 0.7)' : '#888');

    // Khusus untuk tombol, jika background-nya adalah warna aksen
    // Anda bisa menambahkan logika ini jika diperlukan
    // root.style.setProperty('--button-text', getTextColorForBackground(accentColor));
}
            // Anda bisa menambahkan logika lain di sini jika dibutuhkan,
            // misalnya mengubah warna teks agar kontrasnya tetap baik.
            // Untuk saat ini, kita hanya mengubah warna dasar.
    
        // --- Pengaturan Suara Adzan ---
        function renderFullAdhanSettingsPage() {
            const body = document.getElementById('adhan-settings-body');
            body.innerHTML = '';
    
            const prayerSettingsMap = [
                { key: 'Imsak', label: translations[currentLanguage]['Imsak'] || 'Imsak' },
                { key: 'Fajr', label: translations[currentLanguage]['Fajr'] || 'Subuh' },
                { key: 'Sunrise', label: translations[currentLanguage]['Sunrise'] || 'Terbit' },
                { key: 'Dhuhr', label: translations[currentLanguage]['Dhuhr'] || 'Dzuhur' },
                { key: 'Asr', label: translations[currentLanguage]['Asr'] || 'Ashar' },
                { key: 'Maghrib', label: translations[currentLanguage]['Maghrib'] || 'Maghrib' },
                { key: 'Isha', label: translations[currentLanguage]['Isha'] || 'Isya' }
            ];
    
            prayerSettingsMap.forEach(prayer => {
                const prayerKey = prayer.key;
                const currentSetting = prayerAudioSettings[prayerKey];
    
                const group = document.createElement('div');
                group.className = 'settings-group';
    
                const title = document.createElement('h4');
                title.textContent = prayer.label;
                group.appendChild(title);
    
                const availableOptions = adhanOptionsMap[prayerKey];
                if (!availableOptions) return;
    
                availableOptions.forEach(soundKey => {
                    const soundInfo = adhanSoundFiles[soundKey];
                    if (!soundInfo) return;
    
                    const isSelected = soundKey === currentSetting.sound;
    
                    const wrapper = document.createElement('div');
                    wrapper.className = 'selection-item-wrapper';
    
                    wrapper.innerHTML = `
                        <div class="selection-item ${isSelected ? 'selected' : ''}" data-prayer="${prayerKey}" data-sound="${soundKey}">
                            <span>${soundInfo.name}</span>
                            <span class="checkmark">âœ“</span>
                        </div>
                        <div class="volume-control-container ${isSelected && soundKey !== 'none' ? 'active' : ''}">
                            <span class="volume-icon">ðŸ”‰</span>
                            <input type="range" min="0" max="1" step="0.1" value="${currentSetting.volume}" class="volume-slider" data-prayer="${prayerKey}">
                            <button class="test-sound-btn" data-sound="${soundKey}" aria-label="Test Sound">ðŸŽµ</button>
                        </div>
                    `;
                    group.appendChild(wrapper);
                });
    
                body.appendChild(group);
            });
        }
    
        function setupAdhanSettingsPage() {
            const body = document.getElementById('adhan-settings-body');
    
            body.addEventListener('click', (e) => {
                const item = e.target.closest('.selection-item');
                if (item) {
                    const prayerKey = item.dataset.prayer;
                    const newSoundKey = item.dataset.sound;
                    const currentVolume = prayerAudioSettings[prayerKey].volume;
    
                    prayerAudioSettings[prayerKey] = { sound: newSoundKey, volume: currentVolume };
                    localStorage.setItem('prayerAudioSettings', JSON.stringify(prayerAudioSettings));
    
                    const group = item.closest('.settings-group');
                    if (group) {
                        const previouslySelected = group.querySelector('.selection-item.selected');
                        if (previouslySelected) {
                            previouslySelected.classList.remove('selected');
                            const prevSliderContainer = previouslySelected.nextElementSibling;
                            if (prevSliderContainer && prevSliderContainer.classList.contains('volume-control-container')) {
                                prevSliderContainer.classList.remove('active');
                            }
                        }
    
                        item.classList.add('selected');
    
                        const newSliderContainer = item.nextElementSibling;
                        if (newSoundKey !== 'none' && newSliderContainer && newSliderContainer.classList.contains('volume-control-container')) {
                            newSliderContainer.classList.add('active');
                        }
                    }
                }
    
                const testBtn = e.target.closest('.test-sound-btn');
                if (testBtn) {
                    const soundKey = testBtn.dataset.sound;
                    const slider = testBtn.previousElementSibling;
                    const volume = parseFloat(slider.value);
                    const soundInfo = adhanSoundFiles[soundKey];
    
                    if (soundInfo && soundInfo.audioId) {
                        const audioElement = document.getElementById(soundInfo.audioId);
                        if (audioElement) {
                            stopAllAdhanAudio();
                            audioElement.volume = volume;
                            audioElement.currentTime = 0;
                            audioElement.play().catch(err => console.error("Test play failed:", err));
                        }
                    }
                }
            });
    
            body.addEventListener('input', (e) => {
                if (e.target.classList.contains('volume-slider')) {
                    const slider = e.target;
                    const prayerKey = slider.dataset.prayer;
                    const newVolume = parseFloat(slider.value);
    
                    if (prayerAudioSettings[prayerKey]) {
                        prayerAudioSettings[prayerKey].volume = newVolume;
                        localStorage.setItem('prayerAudioSettings', JSON.stringify(prayerAudioSettings));
                    }
                }
            });
    
            document.getElementById('adhan-settings-back-btn').addEventListener('click', () => {
                stopAllAdhanAudio();
                showView('prayer-times-view');
                document.getElementById('settings-modal').style.display = 'flex';
            });
        }
    
        // --- SETTINGS & LANGUAGE ---
// GANTI SELURUH FUNGSI LAMA ANDA DENGAN YANG INI
// GANTI FUNGSI LAMA ANDA DENGAN YANG INI
function setupSettings() {
    const darkModeToggle = document.getElementById('dark-mode-toggle');
    const langSelect = document.getElementById('language-select');
    const settingsModal = document.getElementById('settings-modal');
    const enableNotificationsBtn = document.getElementById('enable-notifications-btn');
    const refreshLocationBtn = document.getElementById('refresh-location-btn'); 
    const adhanSettingsContainer = document.getElementById('adhan-settings-trigger-container');
    const tajwidToggle = document.getElementById('tajwid-toggle'); // [BARU] Ambil elemen toggle tajwid

    // [BARU] Logika untuk menyimpan dan menerapkan pengaturan tajwid
    const applyTajwidSetting = () => {
        const isEnabled = localStorage.getItem('tajwid_highlight_enabled') === 'true';
        tajwidToggle.checked = isEnabled;
        console.log(`Pewarnaan Tajwid ${isEnabled ? 'diaktifkan' : 'dinonaktifkan'}.`);
    };

    tajwidToggle.addEventListener('change', () => {
        localStorage.setItem('tajwid_highlight_enabled', tajwidToggle.checked);
        applyTajwidSetting();
    });
    
    applyTajwidSetting(); // Terapkan saat aplikasi dimuat

    const applyDarkMode = (theme) => {
        darkModeToggle.checked = theme === 'dark';
        document.body.classList.toggle('dark-mode', theme === 'dark');
    };
    darkModeToggle.addEventListener('change', () => {
        const theme = darkModeToggle.checked ? 'dark' : 'light';
        localStorage.setItem('theme', theme);
        applyDarkMode(theme);
    });
    applyDarkMode(localStorage.getItem('theme') || 'light');

    window.updateNotificationButtonState = function() {
        if (!("Notification" in window) || !("serviceWorker" in navigator)) {
            enableNotificationsBtn.textContent = 'Tidak Didukung';
            enableNotificationsBtn.disabled = true;
            return;
        }
        switch (Notification.permission) {
            case 'granted':
                enableNotificationsBtn.textContent = 'Telah Diizinkan';
                enableNotificationsBtn.disabled = true;
                break;
            case 'denied':
                enableNotificationsBtn.textContent = 'Diblokir';
                enableNotificationsBtn.disabled = true;
                break;
            default:
                enableNotificationsBtn.textContent = 'Aktifkan';
                enableNotificationsBtn.disabled = false;
        }
    }

    enableNotificationsBtn.addEventListener('click', () => {
        window.requestNotificationPermission()
            .then(permission => {
                if (permission === "granted") {
                    new Notification("Notifikasi Diaktifkan!", {
                        body: "Anda akan menerima notifikasi waktu sholat.",
                        icon: 'logo-annur.jpg'
                    });
                }
                updateNotificationButtonState();
            })
            .catch(error => {
                console.log('Permintaan notifikasi ditolak dari modal kustom:', error);
                updateNotificationButtonState();
            });
    });
    updateNotificationButtonState();

    if (refreshLocationBtn) {
        refreshLocationBtn.addEventListener('click', () => {
            refreshLocationBtn.textContent = 'Mencari Lokasi...';
            refreshLocationBtn.disabled = true;
            
            settingsModal.style.display = 'none'; 

            requestLocationAndFetchData();

            setTimeout(() => {
                refreshLocationBtn.textContent = 'ðŸ”„ Perbarui Lokasi Saat Ini';
                refreshLocationBtn.disabled = false;
            }, 5000);
        });
    }

    function renderAdhanTriggerButton() {
        adhanSettingsContainer.innerHTML = `
            <h4>Pengaturan Suara Adzan</h4>
            <div class="settings-menu-item" id="open-adhan-settings-btn" style="border-bottom: none; padding-bottom: 0;">
                <span>Atur Suara & Volume untuk Tiap Waktu</span>
                <span class="arrow">&rsaquo;</span>
            </div>`;
        document.getElementById('open-adhan-settings-btn').addEventListener('click', () => {
            settingsModal.style.display = 'none';
            showView('adhan-settings-view');
            renderFullAdhanSettingsPage();
        });
    }

    const setLanguage = (lang) => {
        currentLanguage = lang;
        localStorage.setItem('language', lang);
        document.documentElement.lang = lang;

        document.querySelectorAll('[data-key]').forEach(el => {
            const key = el.dataset.key;
            if (translations[lang] && translations[lang][key]) {
                el.textContent = translations[lang][key];
            }
        });

        updateDates();
        generateCalendar();

        if (window.latestPrayerTimes) {
            renderPrayerTimes(window.latestPrayerTimes);
            startCountdown(window.latestPrayerTimes);
        }
        renderAdhanTriggerButton();
    };

    langSelect.addEventListener('change', () => {
        setLanguage(langSelect.value);
    });

    const savedLang = localStorage.getItem('language') || 'id';
    langSelect.value = savedLang;
    setLanguage(savedLang);

    settingsModal.querySelector('.close-button').addEventListener('click', () => settingsModal.style.display = 'none');
}

// ... sisa kode fungsi setupSettings() Anda ...
        
  // ... di dalam fungsi setupSettings() ...

// Kode untuk menangani tombol tambah widget
const addWidgetBtn = document.getElementById('add-widget-btn');
if (addWidgetBtn) {
    addWidgetBtn.addEventListener('click', () => {
        // Cek apakah jembatan dan fungsinya tersedia
        if (window.Android && typeof window.Android.requestPinWidget === 'function') {
            console.log('Meminta Android untuk menambahkan widget...');
            // Panggil fungsi native di Kotlin
            window.Android.requestPinWidget();
        } else {
            // Beri tahu pengguna jika fitur tidak didukung (misalnya dibuka di browser biasa)
            alert('Fitur ini hanya didukung di dalam aplikasi Android versi terbaru.');
        }
    });
}

// ... sisa kode fungsi setupSettings() Anda ...      
    
        // --- FUNGSI UNTUK HALAMAN DETAIL APLIKASI ---
        function setupAppDetailPages() {
            const settingsModal = document.getElementById('settings-modal');
            const detailAppBtn = document.getElementById('detail-app-btn');
            const detailViewBackBtn = document.getElementById('detail-view-back-btn');
    
            if (!detailAppBtn) return;
    
            detailAppBtn.addEventListener('click', () => {
                settingsModal.style.display = 'none';
                showView('app-detail-view');
            });
    
            detailViewBackBtn.addEventListener('click', () => {
                showView('prayer-times-view');
            });
    
            document.querySelectorAll('#app-detail-view .settings-menu-item').forEach(item => {
                item.addEventListener('click', () => {
                    const targetViewId = item.getAttribute('data-target-view');
                    if (targetViewId) {
                        showView(targetViewId);
                    }
                });
            });
        }
    
        // --- INITIALIZATION ---
        setupNavigation();
        setupSettings();
        setupDoaHarian();
        setupQuranFeature();
        setupDzikir();
        setupQiblaFeature();
        setupQuizFeature();
        setupThemeStore(); // Panggil fungsi setup toko tema
        setupAppDetailPages();
        setupAdhanSettingsPage();
        setupCustomPermissionModals();
        setupMotivationFeature();
        setupSahabatAnnurFeature();
        setupManualAlarms();
        setupRingingAlarms();
    
        // Panggil fungsi inisialisasi utama yang baru
        initLocationAndPrayerTimes();
    
        updateDates();
        generateCalendar();
        showView('prayer-times-view');
    
        // Minta izin notifikasi setelah beberapa saat jika belum diatur
        setTimeout(() => {
            if (Notification.permission === 'default') {
                window.requestNotificationPermission()
                    .then(p => { console.log('Izin Notifikasi:', p); window.updateNotificationButtonState(); })
                    .catch(e => { console.log('Permintaan notifikasi ditunda:', e); });
            }
        }, 5000);
    });
    
    // --- PENDAFTARAN SERVICE WORKER & PENYIMPANAN PERMANEN ---
    window.addEventListener('load', () => {
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(registration => {
                    console.log('Service Worker berhasil didaftarkan:', registration);
                })
                .catch(error => {
                    console.error('Pendaftaran Service Worker gagal:', error);
                });
        } else {
            console.log('Browser tidak mendukung Service Worker.');
        }
    
        requestPersistentStorage();
    });
    
    // ... di dalam event listener DOMContentLoaded ...
    
    const popupAlarmBtn = document.getElementById('popup-alarm-btn');
    if (popupAlarmBtn) {
        popupAlarmBtn.addEventListener('click', () => {
            if (window.Android && typeof window.Android.requestOverlayPermission === 'function') {
                // Panggil fungsi di MainActivity
                window.Android.requestOverlayPermission();
            } else {
                alert('Fungsi ini hanya tersedia di dalam aplikasi Android.');
            }
        });
    }




// ... di dalam event listener DOMContentLoaded ...

// --- PENGATURAN NOTIFIKASI YANG DISEDERHANAKAN ---
const enableNotificationsBtn = document.getElementById('enable-notifications-btn');

enableNotificationsBtn.addEventListener('click', () => {
    // Cukup panggil satu fungsi di Android.
    // Logika selanjutnya akan diurus sepenuhnya oleh Kotlin.
    if (window.Android && typeof window.Android.requestNativeNotificationPermission === 'function') {
        enableNotificationsBtn.textContent = 'Meminta Izin...';
        window.Android.requestNativeNotificationPermission();
    } else {
        alert('Fungsi ini hanya tersedia di aplikasi Android.');
    }
});

   // Letakkan ini di dalam event listener DOMContentLoaded
   const testAlarmBtn = document.getElementById('test-alarm-btn');
    if (testAlarmBtn) {
        testAlarmBtn.addEventListener('click', () => {
            if (window.Android && typeof window.Android.testAlarmIn5Seconds === 'function') {
                console.log('Memanggil fungsi tes alarm di Android...');
                window.Android.testAlarmIn5Seconds();
            } else {
                alert('Fungsi tes hanya untuk aplikasi Android.');
            }
        });
    }


    // Letakkan ini di dalam event listener DOMContentLoaded
    const testSoundBtn = document.getElementById('test-sound-btn');
    if (testSoundBtn) {
        testSoundBtn.addEventListener('click', () => {
            if (window.Android && typeof window.Android.testSoundPlaybackDirectly === 'function') {
                console.log('Memanggil fungsi tes suara langsung di Android...');
                window.Android.testSoundPlaybackDirectly();
            } else {
                alert('Fungsi tes hanya untuk aplikasi Android.');
            }
        });
    }

// Letakkan ini di dalam event listener DOMContentLoaded

// Di dalam event listener untuk membuka modal pengaturan

// Ambil elemen div-nya
const dnsSection = document.getElementById('dns-settings-section');

// Cek apakah jembatan Android ada
if (window.Android && typeof window.Android.getAndroidVersion === 'function') {
    const androidVersion = window.Android.getAndroidVersion();

    // Android 9 (Pie) adalah API level 28.
    // Tampilkan bagian DNS hanya jika versi Android 9 atau lebih baru.
    if (androidVersion >= 28) {
        dnsSection.style.display = 'block';
    } else {
        dnsSection.style.display = 'none';
    }
}

// Kode lama untuk tombolnya tetap sama
const openDnsButton = document.getElementById('open-dns-settings-btn');
if (openDnsButton) {
    openDnsButton.addEventListener('click', () => {
        if (window.Android && typeof window.Android.openPrivateDnsSettings === 'function') {
            window.Android.openPrivateDnsSettings();
        } else {
            alert('Fitur ini hanya berfungsi di dalam aplikasi Annur Islamic.');
        }
    });
}
// Anda bisa menambahkan kode untuk mengubah teks tombol kembali ke "Aktifkan"
// setelah beberapa saat jika pengguna tidak memberikan respon, tapi ini opsional.
// Misalnya, saat modal pengaturan ditutup.

// ... sisa kode Anda ...

</script>
</body>
</html>
